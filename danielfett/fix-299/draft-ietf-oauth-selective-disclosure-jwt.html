<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Han,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>SD-JWT: Selective Disclosure for JWT and JWS with JSON Payloads</title>
<meta content="Daniel Fett" name="author">
<meta content="Kristina Yasuda" name="author">
<meta content="Brian Campbell" name="author">
<meta content="
       This specification defines a mechanism for selective disclosure of individual elements of a JSON object
used as the payload of a JSON Web Signature (JWS) structure.
It encompasses various applications, including but not limited to the selective disclosure of JSON Web Token (JWT) claims. 
    " name="description">
<meta content="xml2rfc 3.17.3" name="generator">
<meta content="security" name="keyword">
<meta content="oauth2" name="keyword">
<meta content="draft-ietf-oauth-selective-disclosure-jwt-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.17.3
    Python 3.11.4
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 3.1.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.2
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.31.0
    setuptools 67.7.2
    six 1.16.0
    wcwidth 0.2.6
-->
<link href="draft-ietf-oauth-selective-disclosure-jwt.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 1;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
}
dl.olPercent {
  --indent: 5ch;
}
dl > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl.dlNewline > dt {
  float: none;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
dl.olPercent > dt {
  min-width: calc(var(--indent) - 2ch);
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:first-child, .break:first-child + *) {
  margin-top: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:last-child) {
  margin-bottom: 0;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0;
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
}
#identifiers dt {
  width: var(--identifier-width);
  min-width: var(--identifier-width);
  clear: left;
  float: left;
  text-align: right;
  margin-right: 1ch;
}
#identifiers dd {
  margin: 0;
  margin-left: calc(1em + var(--identifier-width)) !important;
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 10ch;
  margin-right: 1.5ch;
}
.references dt:target::before {
  content: "⇒";
  width: 15px;
  margin: 0 10px 0 -25px;
}
.references dd {
  margin-left: 12ch !important;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Give the table caption label the same styling as the figcaption */

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  dd {
    page-break-before: avoid;
  }
  .vcard {
    page-break-inside: avoid;
  }

}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">SD-JWT</td>
<td class="right">June 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Fett, et al.</td>
<td class="center">Expires 22 December 2023</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Web Authorization Protocol</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-oauth-selective-disclosure-jwt-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2023-06-20" class="published">20 June 2023</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2023-12-22">22 December 2023</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">D. Fett</div>
<div class="org">yes.com</div>
</div>
<div class="author">
      <div class="author-name">K. Yasuda</div>
<div class="org">Microsoft</div>
</div>
<div class="author">
      <div class="author-name">B. Campbell</div>
<div class="org">Ping Identity</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">SD-JWT: Selective Disclosure for JWT and JWS with JSON Payloads</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This specification defines a mechanism for selective disclosure of individual elements of a JSON object
used as the payload of a JSON Web Signature (JWS) structure.
It encompasses various applications, including but not limited to the selective disclosure of JSON Web Token (JWT) claims.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-discussion-venues">
<a href="#name-discussion-venues" class="section-name selfRef">Discussion Venues</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">Discussion of this document takes place on the
    Web Authorization Protocol Working Group mailing list (oauth@ietf.org),
    which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/oauth/">https://mailarchive.ietf.org/arch/browse/oauth/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">Source for this draft and an issue tracker can be found at
    <span><a href="https://github.com/oauth-wg/oauth-selective-disclosure-jwt">https://github.com/oauth-wg/oauth-selective-disclosure-jwt</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 22 December 2023.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-feature-summary" class="internal xref">Feature Summary</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="auto internal xref">1.2</a>.  <a href="#name-conventions-and-terminology" class="internal xref">Conventions and Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-terms-and-definitions" class="internal xref">Terms and Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-flow-diagram" class="internal xref">Flow Diagram</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-concepts" class="internal xref">Concepts</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-sd-jwt-and-disclosures" class="internal xref">SD-JWT and Disclosures</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-disclosing-to-a-verifier" class="internal xref">Disclosing to a Verifier</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-optional-key-binding" class="internal xref">Optional Key Binding</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="auto internal xref">4.4</a>.  <a href="#name-verification" class="internal xref">Verification</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-data-formats" class="internal xref">Data Formats</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-sd-jwt-payload" class="internal xref">SD-JWT Payload</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-creating-disclosures" class="internal xref">Creating Disclosures</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="auto internal xref">5.2.1</a>.  <a href="#name-disclosures-for-object-prop" class="internal xref">Disclosures for Object Properties</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a href="#section-5.2.2" class="auto internal xref">5.2.2</a>.  <a href="#name-disclosures-for-array-eleme" class="internal xref">Disclosures for Array Elements</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-hashing-disclosures" class="internal xref">Hashing Disclosures</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="auto internal xref">5.4</a>.  <a href="#name-embedding-disclosure-digest" class="internal xref">Embedding Disclosure Digests in SD-JWTs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4.2.1">
                    <p id="section-toc.1-1.5.2.4.2.1.1"><a href="#section-5.4.1" class="auto internal xref">5.4.1</a>.  <a href="#name-object-properties" class="internal xref">Object Properties</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4.2.2">
                    <p id="section-toc.1-1.5.2.4.2.2.1"><a href="#section-5.4.2" class="auto internal xref">5.4.2</a>.  <a href="#name-array-elements" class="internal xref">Array Elements</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5">
                <p id="section-toc.1-1.5.2.5.1"><a href="#section-5.5" class="auto internal xref">5.5</a>.  <a href="#name-example-1-sd-jwt" class="internal xref">Example 1: SD-JWT</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.6">
                <p id="section-toc.1-1.5.2.6.1"><a href="#section-5.6" class="auto internal xref">5.6</a>.  <a href="#name-decoy-digests" class="internal xref">Decoy Digests</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.7">
                <p id="section-toc.1-1.5.2.7.1"><a href="#section-5.7" class="auto internal xref">5.7</a>.  <a href="#name-nested-data-in-sd-jwts" class="internal xref">Nested Data in SD-JWTs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.7.2.1">
                    <p id="section-toc.1-1.5.2.7.2.1.1"><a href="#section-5.7.1" class="auto internal xref">5.7.1</a>.  <a href="#name-option-1-flat-sd-jwt" class="internal xref">Option 1: Flat SD-JWT</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.7.2.2">
                    <p id="section-toc.1-1.5.2.7.2.2.1"><a href="#section-5.7.2" class="auto internal xref">5.7.2</a>.  <a href="#name-option-2-structured-sd-jwt" class="internal xref">Option 2: Structured SD-JWT</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.7.2.3">
                    <p id="section-toc.1-1.5.2.7.2.3.1"><a href="#section-5.7.3" class="auto internal xref">5.7.3</a>.  <a href="#name-option-3-sd-jwt-with-recurs" class="internal xref">Option 3: SD-JWT with Recursive Disclosures</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.8">
                <p id="section-toc.1-1.5.2.8.1"><a href="#section-5.8" class="auto internal xref">5.8</a>.  <a href="#name-hash-function-claim" class="internal xref">Hash Function Claim</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.9">
                <p id="section-toc.1-1.5.2.9.1"><a href="#section-5.9" class="auto internal xref">5.9</a>.  <a href="#name-holder-public-key-claim" class="internal xref">Holder Public Key Claim</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.10">
                <p id="section-toc.1-1.5.2.10.1"><a href="#section-5.10" class="auto internal xref">5.10</a>. <a href="#name-key-binding-jwt" class="internal xref">Key Binding JWT</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.11">
                <p id="section-toc.1-1.5.2.11.1"><a href="#section-5.11" class="auto internal xref">5.11</a>. <a href="#name-sd-jwt-structure" class="internal xref">SD-JWT Structure</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-verification-and-processing" class="internal xref">Verification and Processing</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-verification-of-the-sd-jwt" class="internal xref">Verification of the SD-JWT</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-processing-by-the-holder" class="internal xref">Processing by the Holder</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-verification-by-the-verifie" class="internal xref">Verification by the Verifier</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-enveloping-an-sd-jwt-presen" class="internal xref">Enveloping an SD-JWT Presentation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-jws-json-serialization" class="internal xref">JWS JSON Serialization</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="auto internal xref">9.1</a>.  <a href="#name-mandatory-signing-of-the-is" class="internal xref">Mandatory Signing of the Issuer-signed JWT</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="auto internal xref">9.2</a>.  <a href="#name-manipulation-of-disclosures" class="internal xref">Manipulation of Disclosures</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a href="#section-9.3" class="auto internal xref">9.3</a>.  <a href="#name-entropy-of-the-salt" class="internal xref">Entropy of the salt</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.4">
                <p id="section-toc.1-1.9.2.4.1"><a href="#section-9.4" class="auto internal xref">9.4</a>.  <a href="#name-minimum-length-of-the-salt" class="internal xref">Minimum length of the salt</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.5">
                <p id="section-toc.1-1.9.2.5.1"><a href="#section-9.5" class="auto internal xref">9.5</a>.  <a href="#name-choice-of-a-hash-algorithm" class="internal xref">Choice of a Hash Algorithm</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.6">
                <p id="section-toc.1-1.9.2.6.1"><a href="#section-9.6" class="auto internal xref">9.6</a>.  <a href="#name-key-binding" class="internal xref">Key Binding</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.7">
                <p id="section-toc.1-1.9.2.7.1"><a href="#section-9.7" class="auto internal xref">9.7</a>.  <a href="#name-blinding-claim-names" class="internal xref">Blinding Claim Names</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.8">
                <p id="section-toc.1-1.9.2.8.1"><a href="#section-9.8" class="auto internal xref">9.8</a>.  <a href="#name-issuer-signature-key-distri" class="internal xref">Issuer Signature Key Distribution and Rotation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.9">
                <p id="section-toc.1-1.9.2.9.1"><a href="#section-9.9" class="auto internal xref">9.9</a>.  <a href="#name-forwarding-credentials" class="internal xref">Forwarding Credentials</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.10">
                <p id="section-toc.1-1.9.2.10.1"><a href="#section-9.10" class="auto internal xref">9.10</a>. <a href="#name-explicit-typing" class="internal xref">Explicit Typing</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-privacy-considerations" class="internal xref">Privacy Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="auto internal xref">10.1</a>.  <a href="#name-storage-of-signed-user-data" class="internal xref">Storage of Signed User Data</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="auto internal xref">10.2</a>.  <a href="#name-confidentiality-during-tran" class="internal xref">Confidentiality during Transport</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="auto internal xref">10.3</a>.  <a href="#name-decoy-digests-2" class="internal xref">Decoy Digests</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.4">
                <p id="section-toc.1-1.10.2.4.1"><a href="#section-10.4" class="auto internal xref">10.4</a>.  <a href="#name-unlinkability" class="internal xref">Unlinkability</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5">
                <p id="section-toc.1-1.10.2.5.1"><a href="#section-10.5" class="auto internal xref">10.5</a>.  <a href="#name-issuer-identifier" class="internal xref">Issuer Identifier</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="auto internal xref">12</a>. <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="auto internal xref">12.1</a>.  <a href="#name-media-type-registration" class="internal xref">Media Type Registration</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="auto internal xref">12.2</a>.  <a href="#name-structured-syntax-suffix-re" class="internal xref">Structured Syntax Suffix Registration</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="auto internal xref">13</a>. <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="auto internal xref">14</a>. <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-additional-examples" class="internal xref">Additional Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.1">
                <p id="section-toc.1-1.15.2.1.1"><a href="#appendix-A.1" class="auto internal xref">A.1</a>.  <a href="#name-example-2-handling-structur" class="internal xref">Example 2: Handling Structured Claims</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.2">
                <p id="section-toc.1-1.15.2.2.1"><a href="#appendix-A.2" class="auto internal xref">A.2</a>.  <a href="#name-example-3-complex-structure" class="internal xref">Example 3 - Complex Structured SD-JWT</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.3">
                <p id="section-toc.1-1.15.2.3.1"><a href="#appendix-A.3" class="auto internal xref">A.3</a>.  <a href="#name-example-4a-w3c-verifiable-c" class="internal xref">Example 4a - W3C Verifiable Credentials Data Model v2.0, not using JSON-LD</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.4">
                <p id="section-toc.1-1.15.2.4.1"><a href="#appendix-A.4" class="auto internal xref">A.4</a>.  <a href="#name-example-4b-w3c-verifiable-c" class="internal xref">Example 4b - W3C Verifiable Credentials Data Model v2.0, using JSON-LD</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.5">
                <p id="section-toc.1-1.15.2.5.1"><a href="#appendix-A.5" class="auto internal xref">A.5</a>.  <a href="#name-elliptic-curve-key-used-in-" class="internal xref">Elliptic Curve Key Used in the Examples</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-B" class="auto internal xref">Appendix B</a>.  <a href="#name-disclosure-format-considera" class="internal xref">Disclosure Format Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#appendix-C" class="auto internal xref">Appendix C</a>.  <a href="#name-document-history" class="internal xref">Document History</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.18">
            <p id="section-toc.1-1.18.1"><a href="#appendix-D" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="Introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">This document specifies conventions for creating JSON Web Signature (JWS) <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>
structures with JSON <span>[<a href="#RFC8259" class="cite xref">RFC8259</a>]</span> objects as the payload while supporting selective disclosure of individual elements of that JSON.
Because JSON Web Token (JWT) <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span> is a very prevalent application of JWS with a JSON payload, the selective disclosure of JWT claims receives primary treatment herein. However, that does not preclude the mechanism's applicability to other or more general applications of JWS with JSON payloads.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The JSON-based representation of claims in a signed JWT is
secured against modification using JWS digital
signatures. A consumer of a signed JWT that has checked the
signature can safely assume that the contents of the token have not been
modified.  However, anyone receiving an unencrypted JWT can read all the
claims. Likewise, anyone with the decryption key receiving encrypted JWT
can also read all the claims.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">One of the common use cases of a signed JWT is representing a user's
identity. As long as the signed JWT is one-time
use, it typically only contains those claims the user has consented to
disclose to a specific Verifier. However, there is an increasing number
of use cases where a signed JWT is created once and then used a number
of times by the user (the "Holder" of the JWT). In such use cases, the signed JWT needs
to contain the superset of all claims the user of the
signed JWT might want to disclose to Verifiers at some point. The
ability to selectively disclose a subset of these claims depending on
the Verifier becomes crucial to ensure minimum disclosure and prevent
Verifiers from obtaining claims irrelevant for the transaction at hand.
SD-JWTs defined in this document enable such selective disclosure of JWT claims.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">One example of a multi-use JWT is a verifiable credential, an Issuer-signed
credential that contains the claims about a subject, and whose authenticity can be
cryptographically verified.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">Similar to the JWT specification on which it builds, this document is a product of the
Web Authorization Protocol (oauth) working group. However, while both JWT and SD-JWT
have potential OAuth 2.0 applications, their utility and application is certainly not constrained to OAuth 2.0.
JWT was developed as a general-purpose token format and has seen widespread usage in a
variety of applications. SD-JWT is a selective disclosure mechanism for JWT and is
similarly intended to be general-purpose specification.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">While JWTs with claims describing natural persons are a common use case, the
mechanisms defined in this document can be used for other use cases as well.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">In an SD-JWT, claims can be hidden, but cryptographically
protected against undetected modification. "Claims" here refers to both
object properties (key-value pairs) as well as array elements. When issuing the SD-JWT to
the Holder, the Issuer includes the cleartext counterparts of all hidden
claims, the so-called Disclosures, outside the signed part of the SD-JWT.<a href="#section-1-7" class="pilcrow">¶</a></p>
<p id="section-1-8">The Holder decides which claims to disclose to a particular Verifier and includes the respective
Disclosures in the SD-JWT to that Verifier. The Verifier
has to verify that all disclosed claim values were part of the original
Issuer-signed JWT. The Verifier will not, however, learn any claim
values not disclosed in the Disclosures.<a href="#section-1-8" class="pilcrow">¶</a></p>
<p id="section-1-9">This document also specifies an optional mechanism for Key Binding,
which is the concept of binding an SD-JWT to a Holder's public key
and requiring that the Holder prove possession of the corresponding
private key when presenting the SD-JWT.
The strength of the binding is conditional upon the trust
in the protection of the private key of the key pair an SD-JWT is bound to.<a href="#section-1-9" class="pilcrow">¶</a></p>
<p id="section-1-10">SD-JWT can be used with any JSON-based representation of claims, including JSON-LD.<a href="#section-1-10" class="pilcrow">¶</a></p>
<p id="section-1-11">This specification aims to be easy to implement and to leverage
established and widely used data formats and cryptographic algorithms
wherever possible.<a href="#section-1-11" class="pilcrow">¶</a></p>
<div id="feature-summary">
<section id="section-1.1">
        <h3 id="name-feature-summary">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-feature-summary" class="section-name selfRef">Feature Summary</a>
        </h3>
<ul class="normal">
<li class="normal" id="section-1.1-1.1">
            <p id="section-1.1-1.1.1">This specification defines<a href="#section-1.1-1.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.1-1.1.2.1">a format for the payload of an Issuer-signed JWT containing selectively disclosable claims that include object properties (key-value pairs), array elements, and nested data structures built from these,<a href="#section-1.1-1.1.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-1.1-1.1.2.2">a format for data associated with the JWT that enables selectively disclosing those claims,<a href="#section-1.1-1.1.2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-1.1-1.1.2.3">facilities for binding the JWT to a key and associated data to prove possession thereof, and<a href="#section-1.1-1.1.2.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-1.1-1.1.2.4">a format, extending the JWS Compact Serialization, for the combined transport of the JWT and associated data that is suitable for both issuance and presentation.<a href="#section-1.1-1.1.2.4" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li class="normal" id="section-1.1-1.2">An alternate format utilizing the JWS JSON Serialization is also specified.<a href="#section-1.1-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.1-1.3">This specification enables combining selectively disclosable claims with
clear-text claims that are always disclosed.<a href="#section-1.1-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.1-1.4">For selectively disclosable claims that are object properties, both the key and value are always blinded.<a href="#section-1.1-1.4" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="conventions-and-terminology">
<section id="section-1.2">
        <h3 id="name-conventions-and-terminology">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-conventions-and-terminology" class="section-name selfRef">Conventions and Terminology</a>
        </h3>
<p id="section-1.2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
"MAY", and "OPTIONAL" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2-2"><strong>base64url</strong> denotes the URL-safe base64 encoding without padding defined in
Section 2 of <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>.<a href="#section-1.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="terms-and-definitions">
<section id="section-2">
      <h2 id="name-terms-and-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terms-and-definitions" class="section-name selfRef">Terms and Definitions</a>
      </h2>
<span class="break"></span><dl class="dlParallel" id="section-2-1">
        <dt id="section-2-1.1">Selective disclosure:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.2">Process of a Holder disclosing to a Verifier a subset of claims contained in a claim set issued by an Issuer.<a href="#section-2-1.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.3">Selectively Disclosable JWT (SD-JWT):</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.4">A composite structure, consisting of an Issuer-signed JWT (JWS, <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>), Disclosures, and optionally a Key Binding JWT
that supports selective disclosure as defined in this document. It can contain both regular claims and digests of selectively-disclosable claims.<a href="#section-2-1.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.5">Disclosure:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.6">A combination of a salt, a cleartext claim name (present when the claim is a key-value pair and absent when the claim is an array element), and a cleartext claim value, all of which are used to calculate a digest for the respective claim.<a href="#section-2-1.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.7">Key Binding:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.8">Ability of the Holder to prove legitimate possession of an SD-JWT by proving
control over the same private key during the issuance and presentation. An SD-JWT with Key Binding contains
a public key, or a reference to a public key, that matches to the private key controlled by the Holder.<a href="#section-2-1.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.9">Issuer:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.10">An entity that creates SD-JWTs.<a href="#section-2-1.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.11">Holder:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.12">An entity that received SD-JWTs from the Issuer and has control over them.<a href="#section-2-1.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-1.13">Verifier:</dt>
        <dd style="margin-left: 1.5em" id="section-2-1.14">An entity that requests, checks, and extracts the claims from an SD-JWT with its respective Disclosures.<a href="#section-2-1.14" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="flow-diagram">
<section id="section-3">
      <h2 id="name-flow-diagram">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-flow-diagram" class="section-name selfRef">Flow Diagram</a>
      </h2>
<span id="name-sd-jwt-issuance-and-present"></span><figure id="figure-1">
        <div class="lang-ascii-art sourcecode" id="section-3-1.1">
<pre>           +------------+
           |            |
           |   Issuer   |
           |            |
           +------------+
                 |
            Issues SD-JWT
      including all Disclosures
                 |
                 v
           +------------+
           |            |
           |   Holder   |
           |            |
           +------------+
                 |
           Presents SD-JWT
    including selected Disclosures
                 |
                 v
           +-------------+
           |             |+
           |  Verifiers  ||+
           |             |||
           +-------------+||
            +-------------+|
             +-------------+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-sd-jwt-issuance-and-present" class="selfRef">SD-JWT Issuance and Presentation Flow</a>
        </figcaption></figure>
</section>
</div>
<div id="concepts">
<section id="section-4">
      <h2 id="name-concepts">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-concepts" class="section-name selfRef">Concepts</a>
      </h2>
<p id="section-4-1">This section describes SD-JWTs with their respective Disclosures and Key Binding at a
conceptual level, abstracting from the data formats described in <a href="#data_formats" class="auto internal xref">Section 5</a>.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div id="sd-jwt-and-disclosures">
<section id="section-4.1">
        <h3 id="name-sd-jwt-and-disclosures">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-sd-jwt-and-disclosures" class="section-name selfRef">SD-JWT and Disclosures</a>
        </h3>
<p id="section-4.1-1">An SD-JWT, at its core, is a digitally signed JSON document containing digests over the selectively disclosable claims with the Disclosures outside the document. Disclosures can be omitted without breaking the signature, and modifying them can be detected. Selectively disclosable claims can be individual object properties (key-value pairs) or array elements.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">Each digest value ensures the integrity of, and maps to, the respective Disclosure.  Digest values are calculated using a hash function over the Disclosures, each of which contains a random salt, the claim name (only when the claim is an object property), and the claim value. The Disclosures are sent to the Holder as part of the SD-JWT in the format defined in <a href="#sd-jwt-structure" class="auto internal xref">Section 5.11</a>.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">An SD-JWT MAY also contain clear-text claims that are always disclosed to the Verifier.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="disclosing-to-a-verifier">
<section id="section-4.2">
        <h3 id="name-disclosing-to-a-verifier">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-disclosing-to-a-verifier" class="section-name selfRef">Disclosing to a Verifier</a>
        </h3>
<p id="section-4.2-1">To disclose to a Verifier a subset of the SD-JWT claim values, a Holder sends only the Disclosures of those selectively released claims to the Verifier as part of the SD-JWT.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="optional-key-binding">
<section id="section-4.3">
        <h3 id="name-optional-key-binding">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-optional-key-binding" class="section-name selfRef">Optional Key Binding</a>
        </h3>
<p id="section-4.3-1">Key Binding is an optional feature. When Key Binding is required by the use-case, the SD-JWT MUST contain information about the key material controlled by the Holder.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">Note: How the public key is included in SD-JWT is out of scope of this document. It can be passed by value or by reference.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">The Holder can then create a signed document, the Key Binding JWT as defined in <a href="#kb-jwt" class="auto internal xref">Section 5.10</a>, using its private key. This document contains some
data provided by the Verifier such as a nonce to ensure the freshness of the signature, and audience to indicate the
intended audience for the document.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">The Key Binding JWT can be included as part of the SD-JWT and sent to the Verifier as described in <a href="#sd-jwt-structure" class="auto internal xref">Section 5.11</a>.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.3-5">Note that there may be other ways to send a Key Binding JWT to the Verifier or for the Holder to prove possession of the key material included in an SD-JWT. In these cases, inclusion of the Key Binding JWT in the SD-JWT is not required.<a href="#section-4.3-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="verification">
<section id="section-4.4">
        <h3 id="name-verification">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-verification" class="section-name selfRef">Verification</a>
        </h3>
<p id="section-4.4-1">At a high level, the Verifier<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.4-2.1">receives the SD-JWT from the Holder and verifies its signature using the Issuer's public key,<a href="#section-4.4-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.4-2.2">verifies the Key Binding JWT, if Key Binding is required by the Verifier's policy, using the public key included in the SD-JWT,<a href="#section-4.4-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.4-2.3">calculates the digests over the Holder-Selected Disclosures and verifies that each digest is contained in the SD-JWT.<a href="#section-4.4-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.4-3">The detailed algorithm is described in <a href="#verifier_verification" class="auto internal xref">Section 6.3</a>.<a href="#section-4.4-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="data_formats">
<section id="section-5">
      <h2 id="name-data-formats">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-data-formats" class="section-name selfRef">Data Formats</a>
      </h2>
<p id="section-5-1">This section defines data formats for SD-JWT including the Issuer-signed JWT content, Disclosures, and Key Binding JWT.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="sd-jwt-payload">
<section id="section-5.1">
        <h3 id="name-sd-jwt-payload">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-sd-jwt-payload" class="section-name selfRef">SD-JWT Payload</a>
        </h3>
<p id="section-5.1-1">An SD-JWT has a JWT component that MUST be signed using the Issuer's private key.
It MUST use a JWS asymmetric digital signature algorithm. It
MUST NOT use <code>none</code> or an identifier for a symmetric algorithm (MAC).<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">The payload of an SD-JWT is a JSON object according to the following rules:<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5.1-3">
<li id="section-5.1-3.1">The payload MAY contain the <code>_sd_alg</code> key described in <a href="#hash_function_claim" class="auto internal xref">Section 5.8</a>.<a href="#section-5.1-3.1" class="pilcrow">¶</a>
</li>
          <li id="section-5.1-3.2">The payload MAY contain one or more digests of Disclosures to enable selective disclosure of the respective claims, created and formatted as described below.<a href="#section-5.1-3.2" class="pilcrow">¶</a>
</li>
          <li id="section-5.1-3.3">The payload MAY contain one or more decoy digests to obscure the actual number of claims in the SD-JWT, created and formatted as described in <a href="#decoy_digests" class="auto internal xref">Section 5.6</a>.<a href="#section-5.1-3.3" class="pilcrow">¶</a>
</li>
          <li id="section-5.1-3.4">The payload MAY contain one or more non-selectively disclosable claims.<a href="#section-5.1-3.4" class="pilcrow">¶</a>
</li>
          <li id="section-5.1-3.5">The payload MAY also contain a Holder's public key or a reference thereto, as well as further claims such as <code>iss</code>, <code>iat</code>, etc. as defined or required by the application using SD-JWTs.<a href="#section-5.1-3.5" class="pilcrow">¶</a>
</li>
          <li id="section-5.1-3.6">The payload MUST NOT contain the reserved claims <code>_sd</code> or <code>...</code> except for the purpose of transporting digests as described below.<a href="#section-5.1-3.6" class="pilcrow">¶</a>
</li>
          <li id="section-5.1-3.7">The same digest value MUST NOT appear more than once in the SD-JWT.<a href="#section-5.1-3.7" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-5.1-4">Applications of SD-JWT SHOULD be explicitly typed using the <code>typ</code> header parameter. See <a href="#explicit_typing" class="auto internal xref">Section 9.10</a> for more details.<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<p id="section-5.1-5">It is the Issuer who decides which claims are selectively disclosable and which are not. However, claims controlling the validity of the SD-JWT, such as <code>iss</code>, <code>exp</code>, or <code>nbf</code> are usually included in plaintext. End-User claims MAY be included as plaintext as well, e.g., if hiding the particular claims from the Verifier is not required in the intended use case.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
<p id="section-5.1-6">Claims that are not selectively disclosable are included in the SD-JWT in plaintext just as they would be in any other JSON structure.<a href="#section-5.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="creating_disclosures">
<section id="section-5.2">
        <h3 id="name-creating-disclosures">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-creating-disclosures" class="section-name selfRef">Creating Disclosures</a>
        </h3>
<p id="section-5.2-1">Disclosures are created differently depending on whether a claim is an object property (key-value pair) or an array element.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-2.1">For a claim that is an object property, the Issuer creates a Disclosure as described in <a href="#disclosures_for_object_properties" class="auto internal xref">Section 5.2.1</a>.<a href="#section-5.2-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.2-2.2">For a claim that is an array element, the Issuer creates a Disclosure as described in <a href="#disclosures_for_array_elements" class="auto internal xref">Section 5.2.2</a>.<a href="#section-5.2-2.2" class="pilcrow">¶</a>
</li>
        </ul>
<div id="disclosures_for_object_properties">
<section id="section-5.2.1">
          <h4 id="name-disclosures-for-object-prop">
<a href="#section-5.2.1" class="section-number selfRef">5.2.1. </a><a href="#name-disclosures-for-object-prop" class="section-name selfRef">Disclosures for Object Properties</a>
          </h4>
<p id="section-5.2.1-1">For each claim that is an object property and that is to be made selectively disclosable, the Issuer MUST create a Disclosure as follows:<a href="#section-5.2.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.1-2.1">
              <p id="section-5.2.1-2.1.1">Create an array of three elements in this order:<a href="#section-5.2.1-2.1.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5.2.1-2.1.2">
<li id="section-5.2.1-2.1.2.1">A salt value. MUST be a string. See <a href="#salt-entropy" class="auto internal xref">Section 9.3</a> and <a href="#salt_minlength" class="auto internal xref">Section 9.4</a> for security considerations. It is RECOMMENDED to base64url-encode minimum 128 bits of cryptographically secure pseudorandom data, producing a string. The salt value MUST be unique for each claim that is to be selectively disclosed. The Issuer MUST NOT disclose the salt value to any party other than the Holder.<a href="#section-5.2.1-2.1.2.1" class="pilcrow">¶</a>
</li>
                <li id="section-5.2.1-2.1.2.2">The claim name, or key, as it would be used in a regular JWT body. The value MUST be a string.<a href="#section-5.2.1-2.1.2.2" class="pilcrow">¶</a>
</li>
                <li id="section-5.2.1-2.1.2.3">The claim value, as it would be used in a regular JWT body. The value MAY be of any type that is allowed in JSON, including numbers, strings, booleans, arrays, and objects.<a href="#section-5.2.1-2.1.2.3" class="pilcrow">¶</a>
</li>
              </ol>
</li>
            <li class="normal" id="section-5.2.1-2.2">JSON-encode the array, producing an UTF-8 string.<a href="#section-5.2.1-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.1-2.3">base64url-encode the byte representation of the UTF-8 string, producing a US-ASCII <span>[<a href="#RFC0020" class="cite xref">RFC0020</a>]</span> string. This string is the Disclosure.<a href="#section-5.2.1-2.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.2.1-3">The order is decided based on the readability considerations: salts would have a
constant length within the SD-JWT, claim names would be around the same length
all the time, and claim values would vary in size, potentially being large
objects.<a href="#section-5.2.1-3" class="pilcrow">¶</a></p>
<p id="section-5.2.1-4">The following example illustrates the steps described above.<a href="#section-5.2.1-4" class="pilcrow">¶</a></p>
<p id="section-5.2.1-5">The array is created as follows:<a href="#section-5.2.1-5" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.2.1-6">
<pre>["_26bc4LT-ac6q2KI6cBW5es", "family_name", "Möbius"]
</pre><a href="#section-5.2.1-6" class="pilcrow">¶</a>
</div>
<p id="section-5.2.1-7">The resulting Disclosure would be: <code>WyJfMjZiYzRMVC1hYzZxMktJNmNCVzVlcyIsICJmYW1pbHlfbmFtZSIsICJNw7ZiaXVzIl0</code><a href="#section-5.2.1-7" class="pilcrow">¶</a></p>
<p id="section-5.2.1-8">Note that the JSON encoding of the object is not canonicalized, so variations in
white space, encoding of Unicode characters, and ordering of object properties
are allowed. For example, the following strings are all valid and encode the
same claim value "Möbius":<a href="#section-5.2.1-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.1-9.1">A different way to encode the unicode umlaut:<br>
              <code>WyJfMjZiYzRMVC1hYzZxMktJNmNCVzVlcyIsICJmYW1pbHlfbmFtZSIsICJNX</code><br>
              <code>HUwMGY2Yml1cyJd</code><a href="#section-5.2.1-9.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.1-9.2">No white space:<br>
              <code>WyJfMjZiYzRMVC1hYzZxMktJNmNCVzVlcyIsImZhbWlseV9uYW1lIiwiTcO2Y</code><br>
              <code>ml1cyJd</code><a href="#section-5.2.1-9.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.1-9.3">Newline characters between elements:<br>
              <code>WwoiXzI2YmM0TFQtYWM2cTJLSTZjQlc1ZXMiLAoiZmFtaWx5X25hbWUiLAoiT</code><br>
              <code>cO2Yml1cyIKXQ</code><a href="#section-5.2.1-9.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.2.1-10">See <a href="#disclosure_format_considerations" class="auto internal xref">Appendix B</a> for some further considerations on the Disclosure format approach.<a href="#section-5.2.1-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="disclosures_for_array_elements">
<section id="section-5.2.2">
          <h4 id="name-disclosures-for-array-eleme">
<a href="#section-5.2.2" class="section-number selfRef">5.2.2. </a><a href="#name-disclosures-for-array-eleme" class="section-name selfRef">Disclosures for Array Elements</a>
          </h4>
<p id="section-5.2.2-1">For each claim that is an array element and that is to be made selectively disclosable, the Issuer MUST create a Disclosure as follows:<a href="#section-5.2.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.2-2.1">
              <p id="section-5.2.2-2.1.1">The array MUST contain two elements in this order:<a href="#section-5.2.2-2.1.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5.2.2-2.1.2">
<li id="section-5.2.2-2.1.2.1">The salt value as described in <a href="#disclosures_for_object_properties" class="auto internal xref">Section 5.2.1</a>.<a href="#section-5.2.2-2.1.2.1" class="pilcrow">¶</a>
</li>
                <li id="section-5.2.2-2.1.2.2">The array element that is to be hidden. This value MAY be of any type that is allowed in JSON, including numbers, strings, booleans, arrays, and objects.<a href="#section-5.2.2-2.1.2.2" class="pilcrow">¶</a>
</li>
              </ol>
</li>
          </ul>
<p id="section-5.2.2-3">The Disclosure string is created by JSON-encoding this array and base64url-encoding the byte representation of the resulting string as described in <a href="#disclosures_for_object_properties" class="auto internal xref">Section 5.2.1</a>. The same considerations regarding
variations in the result of the JSON encoding apply.<a href="#section-5.2.2-3" class="pilcrow">¶</a></p>
<p id="section-5.2.2-4">For example, a Disclosure for the second element of the <code>nationalities</code> array in the following claim set:<a href="#section-5.2.2-4" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.2.2-5">
<pre>{
  "nationalities": ["DE", "FR"]
}
</pre><a href="#section-5.2.2-5" class="pilcrow">¶</a>
</div>
<p id="section-5.2.2-6">could be created by first creating the following array:<a href="#section-5.2.2-6" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.2.2-7">
<pre>["lklxF5jMYlGTPUovMNIvCA", "FR"]
</pre><a href="#section-5.2.2-7" class="pilcrow">¶</a>
</div>
<p id="section-5.2.2-8">The resulting Disclosure would be: <code>WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgIkZSIl0</code><a href="#section-5.2.2-8" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="hashing_disclosures">
<section id="section-5.3">
        <h3 id="name-hashing-disclosures">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-hashing-disclosures" class="section-name selfRef">Hashing Disclosures</a>
        </h3>
<p id="section-5.3-1">For embedding the Disclosures in the SD-JWT, the Disclosures are hashed using the hash algorithm specified in the <code>_sd_alg</code> claim described in <a href="#hash_function_claim" class="auto internal xref">Section 5.8</a>. The resulting digest is then included in the SD-JWT payload instead of the original claim value, as described next.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">The digest MUST be taken over the US-ASCII bytes of the base64url-encoded Disclosure. This follows the convention in JWS <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span> and JWE <span>[<a href="#RFC7516" class="cite xref">RFC7516</a>]</span>. The bytes of the digest MUST then be base64url-encoded.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<p id="section-5.3-3">It is important to note that:<a href="#section-5.3-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3-4.1">The input to the hash function MUST be the base64url-encoded Disclosure, not the bytes encoded by the base64url string.<a href="#section-5.3-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.3-4.2">The bytes of the output of the hash function MUST be base64url-encoded, and are not the bytes making up the (often used) hex representation of the bytes of the digest.<a href="#section-5.3-4.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.3-5">For example, the SHA-256 digest of the Disclosure
<code>WyI2cU1RdlJMNWhhaiIsICJmYW1pbHlfbmFtZSIsICJNw7ZiaXVzIl0</code> would be
<code>uutlBuYeMDyjLLTpf6Jxi7yNkEF35jdyWMn9U7b_RYY</code>.<a href="#section-5.3-5" class="pilcrow">¶</a></p>
<p id="section-5.3-6">The SHA-256 digest of the Disclosure
<code>WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgIkZSIl0</code> would be
<code>w0I8EKcdCtUPkGCNUrfwVp2xEgNjtoIDlOxc9-PlOhs</code>.<a href="#section-5.3-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="embedding_disclosure_digests">
<section id="section-5.4">
        <h3 id="name-embedding-disclosure-digest">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-embedding-disclosure-digest" class="section-name selfRef">Embedding Disclosure Digests in SD-JWTs</a>
        </h3>
<p id="section-5.4-1">For selectively disclosable claims, the digests of the Disclosures are embedded into the SD-JWT instead of the claims themselves. The precise way of embedding depends on whether a claim is an object property (key-value pair) or an array element.<a href="#section-5.4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.4-2.1">For a claim that is an object property, the Issuer embeds a Disclosure as described in <a href="#embedding_object_properties" class="auto internal xref">Section 5.4.1</a>.<a href="#section-5.4-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.4-2.2">For a claim that is an array element, the Issuer creates a Disclosure as described in <a href="#embedding_array_elements" class="auto internal xref">Section 5.4.2</a>.<a href="#section-5.4-2.2" class="pilcrow">¶</a>
</li>
        </ul>
<div id="embedding_object_properties">
<section id="section-5.4.1">
          <h4 id="name-object-properties">
<a href="#section-5.4.1" class="section-number selfRef">5.4.1. </a><a href="#name-object-properties" class="section-name selfRef">Object Properties</a>
          </h4>
<p id="section-5.4.1-1">Digests of Disclosures for object properties are added to an array under the new
key <code>_sd</code> in the object. The <code>_sd</code> key MUST refer to an array of strings, each
string being a digest of a Disclosure or a decoy digest as described in <a href="#decoy_digests" class="auto internal xref">Section 5.6</a>.<a href="#section-5.4.1-1" class="pilcrow">¶</a></p>
<p id="section-5.4.1-2">The array MAY be empty in case the Issuer decided not to selectively disclose
any of the claims at that level. However, it is RECOMMENDED to omit the <code>_sd</code>
key in this case to save space.<a href="#section-5.4.1-2" class="pilcrow">¶</a></p>
<p id="section-5.4.1-3">The Issuer MUST hide the original order of the claims in the array. To ensure
this, it is RECOMMENDED to shuffle the array of hashes, e.g., by sorting it
alphanumerically or randomly, after potentially adding
decoy digests as described in <a href="#decoy_digests" class="auto internal xref">Section 5.6</a>. The precise method does not matter as long as it
does not depend on the original order of elements.<a href="#section-5.4.1-3" class="pilcrow">¶</a></p>
<p id="section-5.4.1-4">For example, using the digest of the object property Disclosure created above,
the Issuer could create the following SD-JWT payload to make <code>family_name</code>
selectively disclosable:<a href="#section-5.4.1-4" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.4.1-5">
<pre>{
  "given_name": "Alice",
  "_sd": ["uutlBuYeMDyjLLTpf6Jxi7yNkEF35jdyWMn9U7b_RYY"]
}
</pre><a href="#section-5.4.1-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="embedding_array_elements">
<section id="section-5.4.2">
          <h4 id="name-array-elements">
<a href="#section-5.4.2" class="section-number selfRef">5.4.2. </a><a href="#name-array-elements" class="section-name selfRef">Array Elements</a>
          </h4>
<p id="section-5.4.2-1">Digests of Disclosures for array elements are added to the array in the same
position as the original claim value in the array. For each digest, an object
of the form <code>{"...": "&lt;digest&gt;"}</code> is added to the array. The key MUST always be the
string <code>...</code> (three dots). The value MUST be the digest of the Disclosure created as
described in <a href="#hashing_disclosures" class="auto internal xref">Section 5.3</a>. There MUST NOT be any other keys in the
object.<a href="#section-5.4.2-1" class="pilcrow">¶</a></p>
<p id="section-5.4.2-2">For example, using the digest of the array element Disclosure created above,
the Issuer could create the following SD-JWT payload to make the second element
of the <code>nationalities</code> array selectively disclosable:<a href="#section-5.4.2-2" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.4.2-3">
<pre>{
  "nationalities":
    ["DE", {"...": "w0I8EKcdCtUPkGCNUrfwVp2xEgNjtoIDlOxc9-PlOhs"}]
}
</pre><a href="#section-5.4.2-3" class="pilcrow">¶</a>
</div>
<p id="section-5.4.2-4">As described in <a href="#verifier_verification" class="auto internal xref">Section 6.3</a>, Verifiers ignore all selectively
disclosable array elements for which they did not receive a Disclosure. In the
example above, the verification process would output an array with only one
element unless a matching Disclosure for the second element is received.<a href="#section-5.4.2-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="example-1">
<section id="section-5.5">
        <h3 id="name-example-1-sd-jwt">
<a href="#section-5.5" class="section-number selfRef">5.5. </a><a href="#name-example-1-sd-jwt" class="section-name selfRef">Example 1: SD-JWT</a>
        </h3>
<p id="section-5.5-1">This example uses the following object as the set of claims that the Issuer is issuing:<a href="#section-5.5-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.5-2">
<pre>{
  "sub": "user_42",
  "given_name": "John",
  "family_name": "Doe",
  "email": "johndoe@example.com",
  "phone_number": "+1-202-555-0101",
  "phone_number_verified": true,
  "address": {
    "street_address": "123 Main St",
    "locality": "Anytown",
    "region": "Anystate",
    "country": "US"
  },
  "birthdate": "1940-01-01",
  "updated_at": 1570000000,
  "nationalities": [
    "US",
    "DE"
  ]
}
</pre><a href="#section-5.5-2" class="pilcrow">¶</a>
</div>
<p id="section-5.5-3">The following non-normative example shows a payload of an SD-JWT for this End-User data:<a href="#section-5.5-3" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.5-4">
<pre>{
  "_sd": [
    "CrQe7S5kqBAHt-nMYXgc6bdt2SH5aTY1sU_M-PgkjPI",
    "JzYjH4svliH0R3PyEMfeZu6Jt69u5qehZo7F7EPYlSE",
    "PorFbpKuVu6xymJagvkFsFXAbRoc2JGlAUA2BA4o7cI",
    "TGf4oLbgwd5JQaHyKVQZU9UdGE0w5rtDsrZzfUaomLo",
    "XQ_3kPKt1XyX7KANkqVR6yZ2Va5NrPIvPYbyMvRKBMM",
    "XzFrzwscM6Gn6CJDc6vVK8BkMnfG8vOSKfpPIZdAfdE",
    "gbOsI4Edq2x2Kw-w5wPEzakob9hV1cRD0ATN3oQL9JM",
    "jsu9yVulwQQlhFlM_3JlzMaSFzglhQG0DpfayQwLUK4"
  ],
  "iss": "https://example.com/issuer",
  "iat": 1683000000,
  "exp": 1883000000,
  "sub": "user_42",
  "nationalities": [
    {
      "...": "pFndjkZ_VCzmyTa6UjlZo3dh-ko8aIKQc9DlGzhaVYo"
    },
    {
      "...": "7Cf6JkPudry3lcbwHgeZ8khAv1U1OSlerP0VkBJrWZ0"
    }
  ],
  "_sd_alg": "sha-256",
  "cnf": {
    "jwk": {
      "kty": "EC",
      "crv": "P-256",
      "x": "TCAER19Zvu3OHF4j4W4vfSVoHIP1ILilDls7vCeGemc",
      "y": "ZxjiWWbZMQGHVWKVQ4hbSIirsVfuecCE6t4jT9F2HZQ"
    }
  }
}
</pre><a href="#section-5.5-4" class="pilcrow">¶</a>
</div>
<p id="section-5.5-5">The Issuer in this case made the following decisions:<a href="#section-5.5-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5-6.1">The <code>nationalities</code> array is always visible, but its contents are selectively disclosable.<a href="#section-5.5-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-6.2">The <code>sub</code> element and essential verification data (<code>iss</code>, <code>iat</code>, <code>cnf</code>, etc.) are always visible.<a href="#section-5.5-6.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-6.3">All other End-User claims are selectively disclosable.<a href="#section-5.5-6.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-6.4">For <code>address</code>, the Issuer is using a flat structure, i.e., all of the claims
in the <code>address</code> claim can only be disclosed in full. Other options are
discussed in <a href="#nested_data" class="auto internal xref">Section 5.7</a>.<a href="#section-5.5-6.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.5-7">The Issuer creates the following Disclosures:<a href="#section-5.5-7" class="pilcrow">¶</a></p>
<p id="section-5.5-8"><strong>Claim <code>given_name</code></strong>:<a href="#section-5.5-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5-9.1">SHA-256 Hash: <code>jsu9yVulwQQlhFlM_3JlzMaSFzglhQG0DpfayQwLUK4</code><a href="#section-5.5-9.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-9.2">Disclosure:<br>
            <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgImdpdmVuX25hbWUiLCAiSm9o</code><br>
            <code>biJd</code><a href="#section-5.5-9.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-9.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "given_name", "John"]</code><a href="#section-5.5-9.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.5-10"><strong>Claim <code>family_name</code></strong>:<a href="#section-5.5-10" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5-11.1">SHA-256 Hash: <code>TGf4oLbgwd5JQaHyKVQZU9UdGE0w5rtDsrZzfUaomLo</code><a href="#section-5.5-11.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-11.2">Disclosure:<br>
            <code>WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImZhbWlseV9uYW1lIiwgIkRv</code><br>
            <code>ZSJd</code><a href="#section-5.5-11.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-11.3">Contents:
<code>["eluV5Og3gSNII8EYnsxA_A", "family_name", "Doe"]</code><a href="#section-5.5-11.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.5-12"><strong>Claim <code>email</code></strong>:<a href="#section-5.5-12" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5-13.1">SHA-256 Hash: <code>JzYjH4svliH0R3PyEMfeZu6Jt69u5qehZo7F7EPYlSE</code><a href="#section-5.5-13.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-13.2">Disclosure:<br>
            <code>WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgImVtYWlsIiwgImpvaG5kb2VA</code><br>
            <code>ZXhhbXBsZS5jb20iXQ</code><a href="#section-5.5-13.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-13.3">Contents:
<code>["6Ij7tM-a5iVPGboS5tmvVA", "email", "johndoe@example.com"]</code><a href="#section-5.5-13.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.5-14"><strong>Claim <code>phone_number</code></strong>:<a href="#section-5.5-14" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5-15.1">SHA-256 Hash: <code>PorFbpKuVu6xymJagvkFsFXAbRoc2JGlAUA2BA4o7cI</code><a href="#section-5.5-15.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-15.2">Disclosure:<br>
            <code>WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgInBob25lX251bWJlciIsICIr</code><br>
            <code>MS0yMDItNTU1LTAxMDEiXQ</code><a href="#section-5.5-15.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-15.3">Contents:
<code>["eI8ZWm9QnKPpNPeNenHdhQ", "phone_number",</code><br>
            <code>"+1-202-555-0101"]</code><a href="#section-5.5-15.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.5-16"><strong>Claim <code>phone_number_verified</code></strong>:<a href="#section-5.5-16" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5-17.1">SHA-256 Hash: <code>XQ_3kPKt1XyX7KANkqVR6yZ2Va5NrPIvPYbyMvRKBMM</code><a href="#section-5.5-17.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-17.2">Disclosure:<br>
            <code>WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgInBob25lX251bWJlcl92ZXJp</code><br>
            <code>ZmllZCIsIHRydWVd</code><a href="#section-5.5-17.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-17.3">Contents:
<code>["Qg_O64zqAxe412a108iroA", "phone_number_verified", true]</code><a href="#section-5.5-17.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.5-18"><strong>Claim <code>address</code></strong>:<a href="#section-5.5-18" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5-19.1">SHA-256 Hash: <code>XzFrzwscM6Gn6CJDc6vVK8BkMnfG8vOSKfpPIZdAfdE</code><a href="#section-5.5-19.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-19.2">Disclosure:<br>
            <code>WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgImFkZHJlc3MiLCB7InN0cmVl</code><br>
            <code>dF9hZGRyZXNzIjogIjEyMyBNYWluIFN0IiwgImxvY2FsaXR5IjogIkFueXRv</code><br>
            <code>d24iLCAicmVnaW9uIjogIkFueXN0YXRlIiwgImNvdW50cnkiOiAiVVMifV0</code><a href="#section-5.5-19.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-19.3">Contents:
<code>["AJx-095VPrpTtN4QMOqROA", "address", {"street_address":</code><br>
            <code>"123 Main St", "locality": "Anytown", "region": "Anystate",</code><br>
            <code>"country": "US"}]</code><a href="#section-5.5-19.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.5-20"><strong>Claim <code>birthdate</code></strong>:<a href="#section-5.5-20" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5-21.1">SHA-256 Hash: <code>gbOsI4Edq2x2Kw-w5wPEzakob9hV1cRD0ATN3oQL9JM</code><a href="#section-5.5-21.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-21.2">Disclosure:<br>
            <code>WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZRIiwgImJpcnRoZGF0ZSIsICIxOTQw</code><br>
            <code>LTAxLTAxIl0</code><a href="#section-5.5-21.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-21.3">Contents:
<code>["Pc33JM2LchcU_lHggv_ufQ", "birthdate", "1940-01-01"]</code><a href="#section-5.5-21.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.5-22"><strong>Claim <code>updated_at</code></strong>:<a href="#section-5.5-22" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5-23.1">SHA-256 Hash: <code>CrQe7S5kqBAHt-nMYXgc6bdt2SH5aTY1sU_M-PgkjPI</code><a href="#section-5.5-23.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-23.2">Disclosure:<br>
            <code>WyJHMDJOU3JRZmpGWFE3SW8wOXN5YWpBIiwgInVwZGF0ZWRfYXQiLCAxNTcw</code><br>
            <code>MDAwMDAwXQ</code><a href="#section-5.5-23.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-23.3">Contents:
<code>["G02NSrQfjFXQ7Io09syajA", "updated_at", 1570000000]</code><a href="#section-5.5-23.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.5-24"><strong>Array Entry</strong>:<a href="#section-5.5-24" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5-25.1">SHA-256 Hash: <code>pFndjkZ_VCzmyTa6UjlZo3dh-ko8aIKQc9DlGzhaVYo</code><a href="#section-5.5-25.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-25.2">Disclosure:<br>
            <code>WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgIlVTIl0</code><a href="#section-5.5-25.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-25.3">Contents:
<code>["lklxF5jMYlGTPUovMNIvCA", "US"]</code><a href="#section-5.5-25.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.5-26"><strong>Array Entry</strong>:<a href="#section-5.5-26" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5-27.1">SHA-256 Hash: <code>7Cf6JkPudry3lcbwHgeZ8khAv1U1OSlerP0VkBJrWZ0</code><a href="#section-5.5-27.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-27.2">Disclosure:<br>
            <code>WyJuUHVvUW5rUkZxM0JJZUFtN0FuWEZBIiwgIkRFIl0</code><a href="#section-5.5-27.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.5-27.3">Contents:
<code>["nPuoQnkRFq3BIeAm7AnXFA", "DE"]</code><a href="#section-5.5-27.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.5-28">The payload is then signed by the Issuer to create a JWT like the following:<a href="#section-5.5-28" class="pilcrow">¶</a></p>
<div class="lang-txt sourcecode" id="section-5.5-29">
<pre>eyJhbGciOiAiRVMyNTYifQ.eyJfc2QiOiBbIkNyUWU3UzVrcUJBSHQtbk1ZWGdjNmJkd
DJTSDVhVFkxc1VfTS1QZ2tqUEkiLCAiSnpZakg0c3ZsaUgwUjNQeUVNZmVadTZKdDY5d
TVxZWhabzdGN0VQWWxTRSIsICJQb3JGYnBLdVZ1Nnh5bUphZ3ZrRnNGWEFiUm9jMkpHb
EFVQTJCQTRvN2NJIiwgIlRHZjRvTGJnd2Q1SlFhSHlLVlFaVTlVZEdFMHc1cnREc3Jae
mZVYW9tTG8iLCAiWFFfM2tQS3QxWHlYN0tBTmtxVlI2eVoyVmE1TnJQSXZQWWJ5TXZSS
0JNTSIsICJYekZyendzY002R242Q0pEYzZ2Vks4QmtNbmZHOHZPU0tmcFBJWmRBZmRFI
iwgImdiT3NJNEVkcTJ4Mkt3LXc1d1BFemFrb2I5aFYxY1JEMEFUTjNvUUw5Sk0iLCAia
nN1OXlWdWx3UVFsaEZsTV8zSmx6TWFTRnpnbGhRRzBEcGZheVF3TFVLNCJdLCAiaXNzI
jogImh0dHBzOi8vZXhhbXBsZS5jb20vaXNzdWVyIiwgImlhdCI6IDE2ODMwMDAwMDAsI
CJleHAiOiAxODgzMDAwMDAwLCAic3ViIjogInVzZXJfNDIiLCAibmF0aW9uYWxpdGllc
yI6IFt7Ii4uLiI6ICJwRm5kamtaX1ZDem15VGE2VWpsWm8zZGgta284YUlLUWM5RGxHe
mhhVllvIn0sIHsiLi4uIjogIjdDZjZKa1B1ZHJ5M2xjYndIZ2VaOGtoQXYxVTFPU2xlc
lAwVmtCSnJXWjAifV0sICJfc2RfYWxnIjogInNoYS0yNTYiLCAiY25mIjogeyJqd2siO
iB7Imt0eSI6ICJFQyIsICJjcnYiOiAiUC0yNTYiLCAieCI6ICJUQ0FFUjE5WnZ1M09IR
jRqNFc0dmZTVm9ISVAxSUxpbERsczd2Q2VHZW1jIiwgInkiOiAiWnhqaVdXYlpNUUdIV
ldLVlE0aGJTSWlyc1ZmdWVjQ0U2dDRqVDlGMkhaUSJ9fX0.tbdOrNDcNvU2fNTEqCnmO
k1DvKS6G6c1nXNv0NmwmRnM-Al3zr0jlLOi8ZvcC6XQLrEyjhlCXZ5dTr0RTWOShQ
</pre><a href="#section-5.5-29" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="decoy_digests">
<section id="section-5.6">
        <h3 id="name-decoy-digests">
<a href="#section-5.6" class="section-number selfRef">5.6. </a><a href="#name-decoy-digests" class="section-name selfRef">Decoy Digests</a>
        </h3>
<p id="section-5.6-1">An Issuer MAY add additional digests to the SD-JWT payload that are not associated with
any claim.  The purpose of such "decoy" digests is to make it more difficult for
an attacker to see the original number of claims contained in the SD-JWT. Decoy
digests MAY be added both to the <code>_sd</code> array for objects as well as in arrays.<a href="#section-5.6-1" class="pilcrow">¶</a></p>
<p id="section-5.6-2">It is RECOMMENDED to create the decoy digests by hashing over a
cryptographically secure random number. The bytes of the digest MUST then be
base64url-encoded as above. The same digest function as for the Disclosures MUST
be used.<a href="#section-5.6-2" class="pilcrow">¶</a></p>
<p id="section-5.6-3">For decoy digests, no Disclosure is sent to the Holder, i.e., the Holder will
see digests that do not correspond to any Disclosure. See
<a href="#decoy_digests_privacy" class="auto internal xref">Section 10.3</a> for additional privacy considerations.<a href="#section-5.6-3" class="pilcrow">¶</a></p>
<p id="section-5.6-4">To ensure readability and replicability, the examples in this specification do
not contain decoy digests unless explicitly stated. For an example
with decoy digests, see <a href="#example-simple_structured" class="auto internal xref">Appendix A.1</a>.<a href="#section-5.6-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="nested_data">
<section id="section-5.7">
        <h3 id="name-nested-data-in-sd-jwts">
<a href="#section-5.7" class="section-number selfRef">5.7. </a><a href="#name-nested-data-in-sd-jwts" class="section-name selfRef">Nested Data in SD-JWTs</a>
        </h3>
<p id="section-5.7-1">Being JSON, an object in an SD-JWT payload MAY contain key-value pairs where the value is another object or objects MAY be elements in arrays. In SD-JWT, the Issuer decides for each claim individually, on each level of the JSON, whether the claim should be selectively disclosable or not. This choice can be made on each level independent from whether keys higher in the hierarchy are selectively disclosable.<a href="#section-5.7-1" class="pilcrow">¶</a></p>
<p id="section-5.7-2">From this it follows that the <code>_sd</code> key containing digests MAY appear multiple
times in an SD-JWT, and likewise, there MAY be multiple arrays within the
hierarchy with each having selectively disclosable elements. Digests of
selectively disclosable claims MAY even appear within other Disclosures.<a href="#section-5.7-2" class="pilcrow">¶</a></p>
<p id="section-5.7-3">The following examples illustrate some of the options an Issuer has. It is up to the Issuer to decide which option to use, depending on, for example, the expected use cases for the SD-JWT, requirements for privacy, size considerations, or ecosystem requirements. For more examples with nested structures, see <a href="#example-simple_structured" class="auto internal xref">Appendix A.1</a> and <a href="#example-complex-structured-sd-jwt" class="auto internal xref">Appendix A.2</a>.<a href="#section-5.7-3" class="pilcrow">¶</a></p>
<p id="section-5.7-4">The following input claim set is used as an example throughout this section:<a href="#section-5.7-4" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.7-5">
<pre>{
  "sub": "6c5c0a49-b589-431d-bae7-219122a9ec2c",
  "address": {
    "street_address": "Schulstr. 12",
    "locality": "Schulpforta",
    "region": "Sachsen-Anhalt",
    "country": "DE"
  }
}
</pre><a href="#section-5.7-5" class="pilcrow">¶</a>
</div>
<p id="section-5.7-6">Important: Throughout the examples in this document, line breaks had to
be added to JSON strings and base64-encoded strings (as shown in the
next example) to adhere to the 72 character limit for lines in RFCs and
for readability. JSON does not allow line breaks in strings.<a href="#section-5.7-6" class="pilcrow">¶</a></p>
<div id="option-1-flat-sd-jwt">
<section id="section-5.7.1">
          <h4 id="name-option-1-flat-sd-jwt">
<a href="#section-5.7.1" class="section-number selfRef">5.7.1. </a><a href="#name-option-1-flat-sd-jwt" class="section-name selfRef">Option 1: Flat SD-JWT</a>
          </h4>
<p id="section-5.7.1-1">The Issuer can decide to treat the <code>address</code> claim as a block that can either be disclosed completely or not at all. The following example shows that in this case, the entire <code>address</code> claim is treated as an object in the Disclosure.<a href="#section-5.7.1-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.7.1-2">
<pre>{
  "_sd": [
    "fOBUSQvo46yQO-wRwXBcGqvnbKIueISEL961_Sjd4do"
  ],
  "iss": "https://example.com/issuer",
  "iat": 1683000000,
  "exp": 1883000000,
  "sub": "6c5c0a49-b589-431d-bae7-219122a9ec2c",
  "_sd_alg": "sha-256"
}
</pre><a href="#section-5.7.1-2" class="pilcrow">¶</a>
</div>
<p id="section-5.7.1-3">The Issuer would create the following Disclosure:<a href="#section-5.7.1-3" class="pilcrow">¶</a></p>
<p id="section-5.7.1-4"><strong>Claim <code>address</code></strong>:<a href="#section-5.7.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.7.1-5.1">SHA-256 Hash: <code>fOBUSQvo46yQO-wRwXBcGqvnbKIueISEL961_Sjd4do</code><a href="#section-5.7.1-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.1-5.2">Disclosure:<br>
              <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgImFkZHJlc3MiLCB7InN0cmVl</code><br>
              <code>dF9hZGRyZXNzIjogIlNjaHVsc3RyLiAxMiIsICJsb2NhbGl0eSI6ICJTY2h1</code><br>
              <code>bHBmb3J0YSIsICJyZWdpb24iOiAiU2FjaHNlbi1BbmhhbHQiLCAiY291bnRy</code><br>
              <code>eSI6ICJERSJ9XQ</code><a href="#section-5.7.1-5.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.1-5.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "address", {"street_address":</code><br>
              <code>"Schulstr. 12", "locality": "Schulpforta", "region":</code><br>
              <code>"Sachsen-Anhalt", "country": "DE"}]</code><a href="#section-5.7.1-5.3" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="option-2-structured-sd-jwt">
<section id="section-5.7.2">
          <h4 id="name-option-2-structured-sd-jwt">
<a href="#section-5.7.2" class="section-number selfRef">5.7.2. </a><a href="#name-option-2-structured-sd-jwt" class="section-name selfRef">Option 2: Structured SD-JWT</a>
          </h4>
<p id="section-5.7.2-1">The Issuer may instead decide to make the <code>address</code> claim contents selectively disclosable individually:<a href="#section-5.7.2-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.7.2-2">
<pre>{
  "iss": "https://example.com/issuer",
  "iat": 1683000000,
  "exp": 1883000000,
  "sub": "6c5c0a49-b589-431d-bae7-219122a9ec2c",
  "address": {
    "_sd": [
      "6vh9bq-zS4GKM_7GpggVbYzzu6oOGXrmNVGPHP75Ud0",
      "9gjVuXtdFROCgRrtNcGUXmF65rdezi_6Er_j76kmYyM",
      "KURDPh4ZC19-3tiz-Df39V8eidy1oV3a3H1Da2N0g88",
      "WN9r9dCBJ8HTCsS2jKASxTjEyW5m5x65_Z_2ro2jfXM"
    ]
  },
  "_sd_alg": "sha-256"
}
</pre><a href="#section-5.7.2-2" class="pilcrow">¶</a>
</div>
<p id="section-5.7.2-3">In this case, the Issuer would use the following data in the Disclosures for the <code>address</code> sub-claims:<a href="#section-5.7.2-3" class="pilcrow">¶</a></p>
<p id="section-5.7.2-4"><strong>Claim <code>street_address</code></strong>:<a href="#section-5.7.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.7.2-5.1">SHA-256 Hash: <code>9gjVuXtdFROCgRrtNcGUXmF65rdezi_6Er_j76kmYyM</code><a href="#section-5.7.2-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.2-5.2">Disclosure:<br>
              <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgInN0cmVldF9hZGRyZXNzIiwg</code><br>
              <code>IlNjaHVsc3RyLiAxMiJd</code><a href="#section-5.7.2-5.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.2-5.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "street_address", "Schulstr. 12"]</code><a href="#section-5.7.2-5.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.7.2-6"><strong>Claim <code>locality</code></strong>:<a href="#section-5.7.2-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.7.2-7.1">SHA-256 Hash: <code>6vh9bq-zS4GKM_7GpggVbYzzu6oOGXrmNVGPHP75Ud0</code><a href="#section-5.7.2-7.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.2-7.2">Disclosure:<br>
              <code>WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImxvY2FsaXR5IiwgIlNjaHVs</code><br>
              <code>cGZvcnRhIl0</code><a href="#section-5.7.2-7.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.2-7.3">Contents:
<code>["eluV5Og3gSNII8EYnsxA_A", "locality", "Schulpforta"]</code><a href="#section-5.7.2-7.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.7.2-8"><strong>Claim <code>region</code></strong>:<a href="#section-5.7.2-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.7.2-9.1">SHA-256 Hash: <code>KURDPh4ZC19-3tiz-Df39V8eidy1oV3a3H1Da2N0g88</code><a href="#section-5.7.2-9.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.2-9.2">Disclosure:<br>
              <code>WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgInJlZ2lvbiIsICJTYWNoc2Vu</code><br>
              <code>LUFuaGFsdCJd</code><a href="#section-5.7.2-9.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.2-9.3">Contents:
<code>["6Ij7tM-a5iVPGboS5tmvVA", "region", "Sachsen-Anhalt"]</code><a href="#section-5.7.2-9.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.7.2-10"><strong>Claim <code>country</code></strong>:<a href="#section-5.7.2-10" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.7.2-11.1">SHA-256 Hash: <code>WN9r9dCBJ8HTCsS2jKASxTjEyW5m5x65_Z_2ro2jfXM</code><a href="#section-5.7.2-11.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.2-11.2">Disclosure:<br>
              <code>WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgImNvdW50cnkiLCAiREUiXQ</code><a href="#section-5.7.2-11.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.2-11.3">Contents:
<code>["eI8ZWm9QnKPpNPeNenHdhQ", "country", "DE"]</code><a href="#section-5.7.2-11.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.7.2-12">The Issuer may also make one sub-claim of <code>address</code> non-selectively disclosable and hide only the other sub-claims:<a href="#section-5.7.2-12" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.7.2-13">
<pre>{
  "iss": "https://example.com/issuer",
  "iat": 1683000000,
  "exp": 1883000000,
  "sub": "6c5c0a49-b589-431d-bae7-219122a9ec2c",
  "address": {
    "_sd": [
      "6vh9bq-zS4GKM_7GpggVbYzzu6oOGXrmNVGPHP75Ud0",
      "9gjVuXtdFROCgRrtNcGUXmF65rdezi_6Er_j76kmYyM",
      "KURDPh4ZC19-3tiz-Df39V8eidy1oV3a3H1Da2N0g88"
    ],
    "country": "DE"
  },
  "_sd_alg": "sha-256"
}
</pre><a href="#section-5.7.2-13" class="pilcrow">¶</a>
</div>
<p id="section-5.7.2-14">There would be no Disclosure for <code>country</code> in this case.<a href="#section-5.7.2-14" class="pilcrow">¶</a></p>
</section>
</div>
<div id="option-3-sd-jwt-with-recursive-disclosures">
<section id="section-5.7.3">
          <h4 id="name-option-3-sd-jwt-with-recurs">
<a href="#section-5.7.3" class="section-number selfRef">5.7.3. </a><a href="#name-option-3-sd-jwt-with-recurs" class="section-name selfRef">Option 3: SD-JWT with Recursive Disclosures</a>
          </h4>
<p id="section-5.7.3-1">The Issuer may also decide to make the <code>address</code> claim contents selectively disclosable recursively, i.e., the <code>address</code> claim is made selectively disclosable as well as its sub-claims:<a href="#section-5.7.3-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.7.3-2">
<pre>{
  "_sd": [
    "HvrKX6fPV0v9K_yCVFBiLFHsMaxcD_114Em6VT8x1lg"
  ],
  "iss": "https://example.com/issuer",
  "iat": 1683000000,
  "exp": 1883000000,
  "sub": "6c5c0a49-b589-431d-bae7-219122a9ec2c",
  "_sd_alg": "sha-256"
}
</pre><a href="#section-5.7.3-2" class="pilcrow">¶</a>
</div>
<p id="section-5.7.3-3">The Issuer creates Disclosures first for the sub-claims and then includes their digests in the Disclosure for the <code>address</code> claim:<a href="#section-5.7.3-3" class="pilcrow">¶</a></p>
<p id="section-5.7.3-4"><strong>Claim <code>street_address</code></strong>:<a href="#section-5.7.3-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.7.3-5.1">SHA-256 Hash: <code>9gjVuXtdFROCgRrtNcGUXmF65rdezi_6Er_j76kmYyM</code><a href="#section-5.7.3-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.3-5.2">Disclosure:<br>
              <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgInN0cmVldF9hZGRyZXNzIiwg</code><br>
              <code>IlNjaHVsc3RyLiAxMiJd</code><a href="#section-5.7.3-5.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.3-5.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "street_address", "Schulstr. 12"]</code><a href="#section-5.7.3-5.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.7.3-6"><strong>Claim <code>locality</code></strong>:<a href="#section-5.7.3-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.7.3-7.1">SHA-256 Hash: <code>6vh9bq-zS4GKM_7GpggVbYzzu6oOGXrmNVGPHP75Ud0</code><a href="#section-5.7.3-7.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.3-7.2">Disclosure:<br>
              <code>WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImxvY2FsaXR5IiwgIlNjaHVs</code><br>
              <code>cGZvcnRhIl0</code><a href="#section-5.7.3-7.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.3-7.3">Contents:
<code>["eluV5Og3gSNII8EYnsxA_A", "locality", "Schulpforta"]</code><a href="#section-5.7.3-7.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.7.3-8"><strong>Claim <code>region</code></strong>:<a href="#section-5.7.3-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.7.3-9.1">SHA-256 Hash: <code>KURDPh4ZC19-3tiz-Df39V8eidy1oV3a3H1Da2N0g88</code><a href="#section-5.7.3-9.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.3-9.2">Disclosure:<br>
              <code>WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgInJlZ2lvbiIsICJTYWNoc2Vu</code><br>
              <code>LUFuaGFsdCJd</code><a href="#section-5.7.3-9.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.3-9.3">Contents:
<code>["6Ij7tM-a5iVPGboS5tmvVA", "region", "Sachsen-Anhalt"]</code><a href="#section-5.7.3-9.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.7.3-10"><strong>Claim <code>country</code></strong>:<a href="#section-5.7.3-10" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.7.3-11.1">SHA-256 Hash: <code>WN9r9dCBJ8HTCsS2jKASxTjEyW5m5x65_Z_2ro2jfXM</code><a href="#section-5.7.3-11.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.3-11.2">Disclosure:<br>
              <code>WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgImNvdW50cnkiLCAiREUiXQ</code><a href="#section-5.7.3-11.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.3-11.3">Contents:
<code>["eI8ZWm9QnKPpNPeNenHdhQ", "country", "DE"]</code><a href="#section-5.7.3-11.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.7.3-12"><strong>Claim <code>address</code></strong>:<a href="#section-5.7.3-12" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.7.3-13.1">SHA-256 Hash: <code>HvrKX6fPV0v9K_yCVFBiLFHsMaxcD_114Em6VT8x1lg</code><a href="#section-5.7.3-13.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.3-13.2">Disclosure:<br>
              <code>WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgImFkZHJlc3MiLCB7Il9zZCI6</code><br>
              <code>IFsiNnZoOWJxLXpTNEdLTV83R3BnZ1ZiWXp6dTZvT0dYcm1OVkdQSFA3NVVk</code><br>
              <code>MCIsICI5Z2pWdVh0ZEZST0NnUnJ0TmNHVVhtRjY1cmRlemlfNkVyX2o3Nmtt</code><br>
              <code>WXlNIiwgIktVUkRQaDRaQzE5LTN0aXotRGYzOVY4ZWlkeTFvVjNhM0gxRGEy</code><br>
              <code>TjBnODgiLCAiV045cjlkQ0JKOEhUQ3NTMmpLQVN4VGpFeVc1bTV4NjVfWl8y</code><br>
              <code>cm8yamZYTSJdfV0</code><a href="#section-5.7.3-13.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.7.3-13.3">Contents:
<code>["Qg_O64zqAxe412a108iroA", "address", {"_sd":</code><br>
              <code>["6vh9bq-zS4GKM_7GpggVbYzzu6oOGXrmNVGPHP75Ud0",</code><br>
              <code>"9gjVuXtdFROCgRrtNcGUXmF65rdezi_6Er_j76kmYyM",</code><br>
              <code>"KURDPh4ZC19-3tiz-Df39V8eidy1oV3a3H1Da2N0g88",</code><br>
              <code>"WN9r9dCBJ8HTCsS2jKASxTjEyW5m5x65_Z_2ro2jfXM"]}]</code><a href="#section-5.7.3-13.3" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="hash_function_claim">
<section id="section-5.8">
        <h3 id="name-hash-function-claim">
<a href="#section-5.8" class="section-number selfRef">5.8. </a><a href="#name-hash-function-claim" class="section-name selfRef">Hash Function Claim</a>
        </h3>
<p id="section-5.8-1">The claim <code>_sd_alg</code> indicates the hash algorithm used by the Issuer to generate
the digests as described in <a href="#creating_disclosures" class="auto internal xref">Section 5.2</a>. When used, this claim MUST
appear at the top level of the SD-JWT payload. It
MUST NOT be used in any object nested within the payload. If the  <code>_sd_alg</code>
claim is not present at the top level, a default value of <code>sha-256</code> MUST be used.<a href="#section-5.8-1" class="pilcrow">¶</a></p>
<p id="section-5.8-2">The hash algorithm identifier MUST be a hash algorithm value from the "Hash Name
String" column in the IANA "Named Information Hash Algorithm" registry
<span>[<a href="#IANA.Hash.Algorithms" class="cite xref">IANA.Hash.Algorithms</a>]</span> or a value defined in another specification and/or
profile of this specification.<a href="#section-5.8-2" class="pilcrow">¶</a></p>
<p id="section-5.8-3">To promote interoperability, implementations MUST support the <code>sha-256</code> hash
algorithm.<a href="#section-5.8-3" class="pilcrow">¶</a></p>
<p id="section-5.8-4">See <a href="#security_considerations" class="auto internal xref">Section 9</a> for requirements regarding entropy of the salt,
minimum length of the salt, and choice of a hash algorithm.<a href="#section-5.8-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="holder_public_key_claim">
<section id="section-5.9">
        <h3 id="name-holder-public-key-claim">
<a href="#section-5.9" class="section-number selfRef">5.9. </a><a href="#name-holder-public-key-claim" class="section-name selfRef">Holder Public Key Claim</a>
        </h3>
<p id="section-5.9-1">If the Issuer wants to enable Key Binding, it includes a public key
associated with the Holder, or a reference thereto.<a href="#section-5.9-1" class="pilcrow">¶</a></p>
<p id="section-5.9-2">It is out of the scope of this document to describe how the Holder key pair is
established. For example, the Holder MAY provide a key pair to the Issuer,
the Issuer MAY create the key pair for the Holder, or
Holder and Issuer MAY use pre-established key material.<a href="#section-5.9-2" class="pilcrow">¶</a></p>
<p id="section-5.9-3">Note: Examples in this document use the <code>cnf</code> Claim defined in <span>[<a href="#RFC7800" class="cite xref">RFC7800</a>]</span> to include
the raw public key by value in SD-JWT.<a href="#section-5.9-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="kb-jwt">
<section id="section-5.10">
        <h3 id="name-key-binding-jwt">
<a href="#section-5.10" class="section-number selfRef">5.10. </a><a href="#name-key-binding-jwt" class="section-name selfRef">Key Binding JWT</a>
        </h3>
<p id="section-5.10-1">This section defines the contents of the Key Binding JWT, which
the Holder MAY include in the SD-JWT to prove the Key Binding to the Verifier.<a href="#section-5.10-1" class="pilcrow">¶</a></p>
<p id="section-5.10-2">The JWT MUST contain the following elements:<a href="#section-5.10-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.10-3.1">
            <p id="section-5.10-3.1.1">in the JOSE header,<a href="#section-5.10-3.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.10-3.1.2.1">
                <code>typ</code>: REQUIRED. MUST be <code>kb+jwt</code>, which explicitly types the Key Binding JWT as recommended in Section 3.11 of <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>.<a href="#section-5.10-3.1.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-5.10-3.1.2.2">
                <code>alg</code>: REQUIRED. A digital signature algorithm identifier such as per IANA "JSON Web Signature and Encryption Algorithms" registry. MUST NOT be <code>none</code> or an identifier for a symmetric algorithm (MAC).<a href="#section-5.10-3.1.2.2" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li class="normal" id="section-5.10-3.2">
            <p id="section-5.10-3.2.1">in the JWT body,<a href="#section-5.10-3.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.10-3.2.2.1">
                <code>iat</code>: REQUIRED. The value of this claim MUST be the time at which the Key Binding JWT was issued using the syntax defined in <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span>.<a href="#section-5.10-3.2.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-5.10-3.2.2.2">
                <code>aud</code>: REQUIRED. The intended receiver of the Key Binding JWT. How the value is represented is up to the protocol used and out of scope of this specification.<a href="#section-5.10-3.2.2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-5.10-3.2.2.3">
                <code>nonce</code>: REQUIRED. Ensures the freshness of the signature. The value type of this claim MUST be a string. How this value is obtained is up to the protocol used and out of scope of this specification.<a href="#section-5.10-3.2.2.3" class="pilcrow">¶</a>
</li>
            </ul>
</li>
        </ul>
<p id="section-5.10-4">To validate the signature on the Key Binding JWT, the Verifier MUST use the key material in the SD-JWT. If it is not clear from the SD-JWT, the Key Binding JWT MUST specify which key material the Verifier needs to use to validate the Key Binding JWT signature using JOSE header parameters such as <code>kid</code> and <code>x5c</code>.<a href="#section-5.10-4" class="pilcrow">¶</a></p>
<p id="section-5.10-5">Below is a non-normative example of a Key Binding JWT header:<a href="#section-5.10-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.10-6">
<pre>{
  "alg": "ES256",
  "typ": "kb+jwt"
}
</pre><a href="#section-5.10-6" class="pilcrow">¶</a>
</div>
<p id="section-5.10-7">Below is a non-normative example of a Key Binding JWT payload:<a href="#section-5.10-7" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-5.10-8">
<pre>{
  "nonce": "1234567890",
  "aud": "https://example.com/verifier",
  "iat": 1687288239
}
</pre><a href="#section-5.10-8" class="pilcrow">¶</a>
</div>
<p id="section-5.10-9">Below is a non-normative example of a Key Binding JWT produced by signing a payload in the example above:<a href="#section-5.10-9" class="pilcrow">¶</a></p>
<div class="lang-txt sourcecode" id="section-5.10-10">
<pre>eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImtiK2p3dCJ9.eyJub25jZSI6ICIxMjM0NTY
3ODkwIiwgImF1ZCI6ICJodHRwczovL2V4YW1wbGUuY29tL3ZlcmlmaWVyIiwgImlhdCI
6IDE2ODcyODgyMzl9.AxluJ6allwtUwd8eEbtrwjfLIbFPsZgodtMrrzpxP0CC2XgPs2
5sC66v7yXN5n4YUF0BbURf3jEsjYk4HoPv4w
</pre><a href="#section-5.10-10" class="pilcrow">¶</a>
</div>
<p id="section-5.10-11">Whether to require Key Binding is up to the Verifier's policy,
based on the set of trust requirements such as trust frameworks it belongs to.<a href="#section-5.10-11" class="pilcrow">¶</a></p>
<p id="section-5.10-12">Other ways of proving Key Binding MAY be used when supported by the Verifier,
e.g., when the presented SD-JWT without a Key Binding JWT is itself embedded in a
signed JWT. See <a href="#enveloping" class="auto internal xref">Section 7</a> for details.<a href="#section-5.10-12" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sd-jwt-structure">
<section id="section-5.11">
        <h3 id="name-sd-jwt-structure">
<a href="#section-5.11" class="section-number selfRef">5.11. </a><a href="#name-sd-jwt-structure" class="section-name selfRef">SD-JWT Structure</a>
        </h3>
<p id="section-5.11-1">An SD-JWT is composed of the following:<a href="#section-5.11-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.11-2.1">the Issuer-signed JWT<a href="#section-5.11-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.11-2.2">The Disclosures<a href="#section-5.11-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.11-2.3">optionally a Key Binding JWT<a href="#section-5.11-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.11-3">The serialized format for the SD-JWT is the concatenation of each part delineated with a single tilde ('~') character as follows:<a href="#section-5.11-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.11-4">
<pre>&lt;JWT&gt;~&lt;Disclosure 1&gt;~&lt;Disclosure 2&gt;~...~&lt;Disclosure N&gt;~&lt;optional KB-JWT&gt;
</pre><a href="#section-5.11-4" class="pilcrow">¶</a>
</div>
<p id="section-5.11-5">The order of the tilde separated values MUST be the Issuer-signed JWT, followed by any Disclosures, and lastly the optional Key Binding JWT.
In the case that there is no Key Binding JWT, the last element MUST be an empty string and the last separating tilde character MUST NOT be omitted.<a href="#section-5.11-5" class="pilcrow">¶</a></p>
<p id="section-5.11-6">The Disclosures are linked to the SD-JWT payload through the
digest values included therein.<a href="#section-5.11-6" class="pilcrow">¶</a></p>
<p id="section-5.11-7">When issued to a Holder, the Issuer includes all the relevant Disclosures in the SD-JWT.<a href="#section-5.11-7" class="pilcrow">¶</a></p>
<p id="section-5.11-8">For presentation to a Verifier, the Holder sends the SD-JWT including only its selected
set of the Disclosures to the Verifier.<a href="#section-5.11-8" class="pilcrow">¶</a></p>
<p id="section-5.11-9">The Holder MAY send any subset of the Disclosures to the Verifier, i.e.,
none, multiple, or all Disclosures. For data that the Holder does not want to reveal
to the Verifier, the Holder MUST NOT send Disclosures or reveal the salt values in any
other way.<a href="#section-5.11-9" class="pilcrow">¶</a></p>
<p id="section-5.11-10">A Holder MUST NOT send a Disclosure that was not included in the SD-JWT or send
a Disclosure more than once.<a href="#section-5.11-10" class="pilcrow">¶</a></p>
<p id="section-5.11-11">For <a href="#example-1">Example 1</a>, a non-normative example of an issued SD-JWT might look as follows (with Line breaks for formatting only):<a href="#section-5.11-11" class="pilcrow">¶</a></p>
<div class="lang-txt sourcecode" id="section-5.11-12">
<pre>eyJhbGciOiAiRVMyNTYifQ.eyJfc2QiOiBbIkNyUWU3UzVrcUJBSHQtbk1ZWGdjNmJkd
DJTSDVhVFkxc1VfTS1QZ2tqUEkiLCAiSnpZakg0c3ZsaUgwUjNQeUVNZmVadTZKdDY5d
TVxZWhabzdGN0VQWWxTRSIsICJQb3JGYnBLdVZ1Nnh5bUphZ3ZrRnNGWEFiUm9jMkpHb
EFVQTJCQTRvN2NJIiwgIlRHZjRvTGJnd2Q1SlFhSHlLVlFaVTlVZEdFMHc1cnREc3Jae
mZVYW9tTG8iLCAiWFFfM2tQS3QxWHlYN0tBTmtxVlI2eVoyVmE1TnJQSXZQWWJ5TXZSS
0JNTSIsICJYekZyendzY002R242Q0pEYzZ2Vks4QmtNbmZHOHZPU0tmcFBJWmRBZmRFI
iwgImdiT3NJNEVkcTJ4Mkt3LXc1d1BFemFrb2I5aFYxY1JEMEFUTjNvUUw5Sk0iLCAia
nN1OXlWdWx3UVFsaEZsTV8zSmx6TWFTRnpnbGhRRzBEcGZheVF3TFVLNCJdLCAiaXNzI
jogImh0dHBzOi8vZXhhbXBsZS5jb20vaXNzdWVyIiwgImlhdCI6IDE2ODMwMDAwMDAsI
CJleHAiOiAxODgzMDAwMDAwLCAic3ViIjogInVzZXJfNDIiLCAibmF0aW9uYWxpdGllc
yI6IFt7Ii4uLiI6ICJwRm5kamtaX1ZDem15VGE2VWpsWm8zZGgta284YUlLUWM5RGxHe
mhhVllvIn0sIHsiLi4uIjogIjdDZjZKa1B1ZHJ5M2xjYndIZ2VaOGtoQXYxVTFPU2xlc
lAwVmtCSnJXWjAifV0sICJfc2RfYWxnIjogInNoYS0yNTYiLCAiY25mIjogeyJqd2siO
iB7Imt0eSI6ICJFQyIsICJjcnYiOiAiUC0yNTYiLCAieCI6ICJUQ0FFUjE5WnZ1M09IR
jRqNFc0dmZTVm9ISVAxSUxpbERsczd2Q2VHZW1jIiwgInkiOiAiWnhqaVdXYlpNUUdIV
ldLVlE0aGJTSWlyc1ZmdWVjQ0U2dDRqVDlGMkhaUSJ9fX0.tbdOrNDcNvU2fNTEqCnmO
k1DvKS6G6c1nXNv0NmwmRnM-Al3zr0jlLOi8ZvcC6XQLrEyjhlCXZ5dTr0RTWOShQ~Wy
IyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgImdpdmVuX25hbWUiLCAiSm9obiJd~WyJlb
HVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImZhbWlseV9uYW1lIiwgIkRvZSJd~WyI2SWo3
dE0tYTVpVlBHYm9TNXRtdlZBIiwgImVtYWlsIiwgImpvaG5kb2VAZXhhbXBsZS5jb20i
XQ~WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgInBob25lX251bWJlciIsICIrMS0yM
DItNTU1LTAxMDEiXQ~WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgInBob25lX251bW
Jlcl92ZXJpZmllZCIsIHRydWVd~WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgImFkZ
HJlc3MiLCB7InN0cmVldF9hZGRyZXNzIjogIjEyMyBNYWluIFN0IiwgImxvY2FsaXR5I
jogIkFueXRvd24iLCAicmVnaW9uIjogIkFueXN0YXRlIiwgImNvdW50cnkiOiAiVVMif
V0~WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZRIiwgImJpcnRoZGF0ZSIsICIxOTQwLTAxL
TAxIl0~WyJHMDJOU3JRZmpGWFE3SW8wOXN5YWpBIiwgInVwZGF0ZWRfYXQiLCAxNTcwM
DAwMDAwXQ~WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgIlVTIl0~WyJuUHVvUW5rUk
ZxM0JJZUFtN0FuWEZBIiwgIkRFIl0~
</pre><a href="#section-5.11-12" class="pilcrow">¶</a>
</div>
<p id="section-5.11-13">The following non-normative example shows an associated SD-JWT Presentation as it would be sent from the Holder to the Verifier.
The claims <code>given_name</code>, <code>family_name</code>, and <code>address</code> are disclosed and the Key Binding JWT is included as the last element.<a href="#section-5.11-13" class="pilcrow">¶</a></p>
<div class="lang-txt sourcecode" id="section-5.11-14">
<pre>eyJhbGciOiAiRVMyNTYifQ.eyJfc2QiOiBbIkNyUWU3UzVrcUJBSHQtbk1ZWGdjNmJkd
DJTSDVhVFkxc1VfTS1QZ2tqUEkiLCAiSnpZakg0c3ZsaUgwUjNQeUVNZmVadTZKdDY5d
TVxZWhabzdGN0VQWWxTRSIsICJQb3JGYnBLdVZ1Nnh5bUphZ3ZrRnNGWEFiUm9jMkpHb
EFVQTJCQTRvN2NJIiwgIlRHZjRvTGJnd2Q1SlFhSHlLVlFaVTlVZEdFMHc1cnREc3Jae
mZVYW9tTG8iLCAiWFFfM2tQS3QxWHlYN0tBTmtxVlI2eVoyVmE1TnJQSXZQWWJ5TXZSS
0JNTSIsICJYekZyendzY002R242Q0pEYzZ2Vks4QmtNbmZHOHZPU0tmcFBJWmRBZmRFI
iwgImdiT3NJNEVkcTJ4Mkt3LXc1d1BFemFrb2I5aFYxY1JEMEFUTjNvUUw5Sk0iLCAia
nN1OXlWdWx3UVFsaEZsTV8zSmx6TWFTRnpnbGhRRzBEcGZheVF3TFVLNCJdLCAiaXNzI
jogImh0dHBzOi8vZXhhbXBsZS5jb20vaXNzdWVyIiwgImlhdCI6IDE2ODMwMDAwMDAsI
CJleHAiOiAxODgzMDAwMDAwLCAic3ViIjogInVzZXJfNDIiLCAibmF0aW9uYWxpdGllc
yI6IFt7Ii4uLiI6ICJwRm5kamtaX1ZDem15VGE2VWpsWm8zZGgta284YUlLUWM5RGxHe
mhhVllvIn0sIHsiLi4uIjogIjdDZjZKa1B1ZHJ5M2xjYndIZ2VaOGtoQXYxVTFPU2xlc
lAwVmtCSnJXWjAifV0sICJfc2RfYWxnIjogInNoYS0yNTYiLCAiY25mIjogeyJqd2siO
iB7Imt0eSI6ICJFQyIsICJjcnYiOiAiUC0yNTYiLCAieCI6ICJUQ0FFUjE5WnZ1M09IR
jRqNFc0dmZTVm9ISVAxSUxpbERsczd2Q2VHZW1jIiwgInkiOiAiWnhqaVdXYlpNUUdIV
ldLVlE0aGJTSWlyc1ZmdWVjQ0U2dDRqVDlGMkhaUSJ9fX0.tbdOrNDcNvU2fNTEqCnmO
k1DvKS6G6c1nXNv0NmwmRnM-Al3zr0jlLOi8ZvcC6XQLrEyjhlCXZ5dTr0RTWOShQ~Wy
JlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImZhbWlseV9uYW1lIiwgIkRvZSJd~WyJBS
ngtMDk1VlBycFR0TjRRTU9xUk9BIiwgImFkZHJlc3MiLCB7InN0cmVldF9hZGRyZXNzI
jogIjEyMyBNYWluIFN0IiwgImxvY2FsaXR5IjogIkFueXRvd24iLCAicmVnaW9uIjogI
kFueXN0YXRlIiwgImNvdW50cnkiOiAiVVMifV0~WyIyR0xDNDJzS1F2ZUNmR2ZyeU5ST
jl3IiwgImdpdmVuX25hbWUiLCAiSm9obiJd~WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNB
IiwgIlVTIl0~eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImtiK2p3dCJ9.eyJub25jZSI
6ICIxMjM0NTY3ODkwIiwgImF1ZCI6ICJodHRwczovL2V4YW1wbGUuY29tL3ZlcmlmaWV
yIiwgImlhdCI6IDE2ODcyODgyMzl9.AxluJ6allwtUwd8eEbtrwjfLIbFPsZgodtMrrz
pxP0CC2XgPs25sC66v7yXN5n4YUF0BbURf3jEsjYk4HoPv4w
</pre><a href="#section-5.11-14" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="verification-1">
<section id="section-6">
      <h2 id="name-verification-and-processing">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-verification-and-processing" class="section-name selfRef">Verification and Processing</a>
      </h2>
<div id="sd_jwt_verification">
<section id="section-6.1">
        <h3 id="name-verification-of-the-sd-jwt">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-verification-of-the-sd-jwt" class="section-name selfRef">Verification of the SD-JWT</a>
        </h3>
<p id="section-6.1-1">Upon receiving an SD-JWT, a Holder or a Verifier MUST ensure that<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1-2.1">the Issuer-signed JWT is valid, i.e., it is signed by the Issuer and the signature is valid, and<a href="#section-6.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-6.1-2.2">all Disclosures are correct, i.e., their digests are referenced in the Issuer-signed JWT.<a href="#section-6.1-2.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.1-3">The Holder or the Verifier MUST perform the following (or equivalent) steps when receiving
an SD-JWT:<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.1-4">
<li id="section-6.1-4.1">Separate the SD-JWT into the Issuer-signed JWT, the Disclosures (if any), and the Key Binding JWT (if present).<a href="#section-6.1-4.1" class="pilcrow">¶</a>
</li>
          <li id="section-6.1-4.2">
            <p id="section-6.1-4.2.1">Validate the Issuer-signed JWT:<a href="#section-6.1-4.2.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.1-4.2.2">
<li id="section-6.1-4.2.2.1">Ensure that a signing algorithm was used that was deemed secure for the application. Refer to <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>, Sections 3.1 and 3.2 for details. The <code>none</code> algorithm MUST NOT be accepted.<a href="#section-6.1-4.2.2.1" class="pilcrow">¶</a>
</li>
              <li id="section-6.1-4.2.2.2">Validate the signature over the Issuer-signed JWT.<a href="#section-6.1-4.2.2.2" class="pilcrow">¶</a>
</li>
              <li id="section-6.1-4.2.2.3">Validate the Issuer and that the signing key belongs to this Issuer.<a href="#section-6.1-4.2.2.3" class="pilcrow">¶</a>
</li>
              <li id="section-6.1-4.2.2.4">Check that the Issuer-signed JWT is valid using <code>nbf</code>, <code>iat</code>, and <code>exp</code> claims, if provided in the SD-JWT, and not selectively disclosed.<a href="#section-6.1-4.2.2.4" class="pilcrow">¶</a>
</li>
              <li id="section-6.1-4.2.2.5">Check that the <code>_sd_alg</code> claim value is understood and the hash algorithm is deemed secure.<a href="#section-6.1-4.2.2.5" class="pilcrow">¶</a>
</li>
            </ol>
</li>
          <li id="section-6.1-4.3">
            <p id="section-6.1-4.3.1">Process the Disclosures and embedded digests in the issuser-signed JWT as follows:<a href="#section-6.1-4.3.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.1-4.3.2">
<li id="section-6.1-4.3.2.1">
                <p id="section-6.1-4.3.2.1.1">For each Disclosure provided:<a href="#section-6.1-4.3.2.1.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.1-4.3.2.1.2">
<li id="section-6.1-4.3.2.1.2.1">Calculate the digest over the base64url-encoded string as described in <a href="#hashing_disclosures" class="auto internal xref">Section 5.3</a>.<a href="#section-6.1-4.3.2.1.2.1" class="pilcrow">¶</a>
</li>
                </ol>
</li>
              <li id="section-6.1-4.3.2.2">
                <p id="section-6.1-4.3.2.2.1">(*) Identify all embedded digests in the Issuer-signed JWT as follows:<a href="#section-6.1-4.3.2.2.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.1-4.3.2.2.2">
<li id="section-6.1-4.3.2.2.2.1">Find all objects having an <code>_sd</code> key that refers to an array of strings.<a href="#section-6.1-4.3.2.2.2.1" class="pilcrow">¶</a>
</li>
                  <li id="section-6.1-4.3.2.2.2.2">Find all array elements that are objects with one key, that key being <code>...</code> and referring to a string.<a href="#section-6.1-4.3.2.2.2.2" class="pilcrow">¶</a>
</li>
                </ol>
</li>
              <li id="section-6.1-4.3.2.3">
                <p id="section-6.1-4.3.2.3.1">(**) For each embedded digest found in the previous step:<a href="#section-6.1-4.3.2.3.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.1-4.3.2.3.2">
<li id="section-6.1-4.3.2.3.2.1">Compare the value with the digests calculated previously and find the matching Disclosure. If no such Disclosure can be found, the digest MUST be ignored.<a href="#section-6.1-4.3.2.3.2.1" class="pilcrow">¶</a>
</li>
                  <li id="section-6.1-4.3.2.3.2.2">
                    <p id="section-6.1-4.3.2.3.2.2.1">If the digest was found in an object's <code>_sd</code> key:<a href="#section-6.1-4.3.2.3.2.2.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.1-4.3.2.3.2.2.2">
<li id="section-6.1-4.3.2.3.2.2.2.1">If the respective Disclosure is not a JSON-encoded array of three elements, the SD-JWT MUST be rejected.<a href="#section-6.1-4.3.2.3.2.2.2.1" class="pilcrow">¶</a>
</li>
                      <li id="section-6.1-4.3.2.3.2.2.2.2">Insert, at the level of the <code>_sd</code> key, a new claim using the claim name and claim value from the Disclosure.<a href="#section-6.1-4.3.2.3.2.2.2.2" class="pilcrow">¶</a>
</li>
                      <li id="section-6.1-4.3.2.3.2.2.2.3">If the claim name already exists at the same level, the SD-JWT MUST be rejected.<a href="#section-6.1-4.3.2.3.2.2.2.3" class="pilcrow">¶</a>
</li>
                      <li id="section-6.1-4.3.2.3.2.2.2.4">Recursively process the value using the steps described in (*) and (**).<a href="#section-6.1-4.3.2.3.2.2.2.4" class="pilcrow">¶</a>
</li>
                    </ol>
</li>
                  <li id="section-6.1-4.3.2.3.2.3">
                    <p id="section-6.1-4.3.2.3.2.3.1">If the digest was found in an array element:<a href="#section-6.1-4.3.2.3.2.3.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.1-4.3.2.3.2.3.2">
<li id="section-6.1-4.3.2.3.2.3.2.1">If the respective Disclosure is not a JSON-encoded array of two elements, the SD-JWT MUST be rejected.<a href="#section-6.1-4.3.2.3.2.3.2.1" class="pilcrow">¶</a>
</li>
                      <li id="section-6.1-4.3.2.3.2.3.2.2">Replace the array element with the claim value from the Disclosure.<a href="#section-6.1-4.3.2.3.2.3.2.2" class="pilcrow">¶</a>
</li>
                      <li id="section-6.1-4.3.2.3.2.3.2.3">Recursively process the value using the steps described in (*) and (**).<a href="#section-6.1-4.3.2.3.2.3.2.3" class="pilcrow">¶</a>
</li>
                    </ol>
</li>
                </ol>
</li>
              <li id="section-6.1-4.3.2.4">If any digests were found more than once in the previous step, the SD-JWT MUST be rejected.<a href="#section-6.1-4.3.2.4" class="pilcrow">¶</a>
</li>
              <li id="section-6.1-4.3.2.5">Remove all array elements for which the digest was not found in the previous step.<a href="#section-6.1-4.3.2.5" class="pilcrow">¶</a>
</li>
              <li id="section-6.1-4.3.2.6">Remove all <code>_sd</code> keys and their contents from the Issuer-signed JWT payload.<a href="#section-6.1-4.3.2.6" class="pilcrow">¶</a>
</li>
              <li id="section-6.1-4.3.2.7">Remove the claim <code>_sd_alg</code> from the SD-JWT payload.<a href="#section-6.1-4.3.2.7" class="pilcrow">¶</a>
</li>
            </ol>
</li>
        </ol>
<p id="section-6.1-5">If any step fails, the SD-JWT is not valid and processing MUST be aborted.<a href="#section-6.1-5" class="pilcrow">¶</a></p>
<p id="section-6.1-6">It is up to the Holder how to maintain the mapping between the Disclosures and the plaintext claim values to be able to display them to the End-User when needed.<a href="#section-6.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="holder_verification">
<section id="section-6.2">
        <h3 id="name-processing-by-the-holder">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-processing-by-the-holder" class="section-name selfRef">Processing by the Holder</a>
        </h3>
<p id="section-6.2-1">If a Key Binding JWT is received by a Holder, the SD-JWT SHOULD be rejected.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">For presentation to a Verifier, the Holder MUST perform the following (or equivalent) steps:<a href="#section-6.2-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.2-3">
<li id="section-6.2-3.1">Decide which Disclosures to release to the Verifier, obtaining proper End-User consent if necessary.<a href="#section-6.2-3.1" class="pilcrow">¶</a>
</li>
          <li id="section-6.2-3.2">If Key Binding is required, create a Key Binding JWT.<a href="#section-6.2-3.2" class="pilcrow">¶</a>
</li>
          <li id="section-6.2-3.3">Assemble the SD-JWT for Presentation, including the Issuer-signed JWT, the selected Disclosures and, if applicable, the Key Binding JWT.<a href="#section-6.2-3.3" class="pilcrow">¶</a>
</li>
          <li id="section-6.2-3.4">Send the Presentation to the Verifier.<a href="#section-6.2-3.4" class="pilcrow">¶</a>
</li>
        </ol>
</section>
</div>
<div id="verifier_verification">
<section id="section-6.3">
        <h3 id="name-verification-by-the-verifie">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-verification-by-the-verifie" class="section-name selfRef">Verification by the Verifier</a>
        </h3>
<p id="section-6.3-1">Upon receiving a Presentation, in addition to the checks outlined in <a href="#sd_jwt_verification" class="auto internal xref">Section 6.1</a>, Verifiers MUST ensure that<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-2.1">if Key Binding is required, the Key Binding JWT is signed by the Holder and valid.<a href="#section-6.3-2.1" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.3-3">To this end, Verifiers MUST follow the following steps (or equivalent):<a href="#section-6.3-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.3-4">
<li id="section-6.3-4.1">Determine if Key Binding is to be checked according to the Verifier's policy
for the use case at hand. This decision MUST NOT be based on whether
a Key Binding JWT is provided by the Holder or not. Refer to <a href="#key_binding_security" class="auto internal xref">Section 9.6</a> for
details.<a href="#section-6.3-4.1" class="pilcrow">¶</a>
</li>
          <li id="section-6.3-4.2">Process the SD-JWT as defined in <a href="#sd_jwt_verification" class="auto internal xref">Section 6.1</a>.<a href="#section-6.3-4.2" class="pilcrow">¶</a>
</li>
          <li id="section-6.3-4.3">
            <p id="section-6.3-4.3.1">If Key Binding is required:<a href="#section-6.3-4.3.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.3-4.3.2">
<li id="section-6.3-4.3.2.1">If Key Binding is provided by means not defined in this specification, verify the Key Binding according to the method used.<a href="#section-6.3-4.3.2.1" class="pilcrow">¶</a>
</li>
              <li id="section-6.3-4.3.2.2">
                <p id="section-6.3-4.3.2.2.1">Otherwise, verify the Key Binding JWT as follows:<a href="#section-6.3-4.3.2.2.1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.3-4.3.2.2.2">
<li id="section-6.3-4.3.2.2.2.1">If a Key Binding JWT is not provided, the Verifier MUST reject the Presentation.<a href="#section-6.3-4.3.2.2.2.1" class="pilcrow">¶</a>
</li>
                  <li id="section-6.3-4.3.2.2.2.2">Determine the public key for the Holder from the SD-JWT.<a href="#section-6.3-4.3.2.2.2.2" class="pilcrow">¶</a>
</li>
                  <li id="section-6.3-4.3.2.2.2.3">Ensure that a signing algorithm was used that was deemed secure for the application. Refer to <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>, Sections 3.1 and 3.2 for details. The <code>none</code> algorithm MUST NOT be accepted.<a href="#section-6.3-4.3.2.2.2.3" class="pilcrow">¶</a>
</li>
                  <li id="section-6.3-4.3.2.2.2.4">Validate the signature over the Key Binding JWT.<a href="#section-6.3-4.3.2.2.2.4" class="pilcrow">¶</a>
</li>
                  <li id="section-6.3-4.3.2.2.2.5">Check that the <code>typ</code> of the Key Binding JWT is <code>kb+jwt</code>.<a href="#section-6.3-4.3.2.2.2.5" class="pilcrow">¶</a>
</li>
                  <li id="section-6.3-4.3.2.2.2.6">Check that the creation time of the Key Binding JWT, as determined by the <code>iat</code> claim, is within an acceptable window.<a href="#section-6.3-4.3.2.2.2.6" class="pilcrow">¶</a>
</li>
                  <li id="section-6.3-4.3.2.2.2.7">Determine that the Key Binding JWT is bound to the current transaction and was created for this Verifier (replay protection) by validating <code>nonce</code> and <code>aud</code> claims.<a href="#section-6.3-4.3.2.2.2.7" class="pilcrow">¶</a>
</li>
                  <li id="section-6.3-4.3.2.2.2.8">Check that the Key Binding JWT is valid in all other respects, per <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span> and <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>.<a href="#section-6.3-4.3.2.2.2.8" class="pilcrow">¶</a>
</li>
                </ol>
</li>
            </ol>
</li>
        </ol>
<p id="section-6.3-5">If any step fails, the Presentation is not valid and processing MUST be aborted.<a href="#section-6.3-5" class="pilcrow">¶</a></p>
<p id="section-6.3-6">Otherwise, the processed SD-JWT payload can be passed to the application to be used for the intended purpose.<a href="#section-6.3-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="enveloping">
<section id="section-7">
      <h2 id="name-enveloping-an-sd-jwt-presen">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-enveloping-an-sd-jwt-presen" class="section-name selfRef">Enveloping an SD-JWT Presentation</a>
      </h2>
<p id="section-7-1">In some applications or transport protocols, it is desirable to put an SD-JWT into an outer JWT container. For example, an implementation may envelope multiple credentials and presentations, independent of their format, in a JWT to enable application-layer encryption during transport.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">For such use cases, the SD-JWT SHOULD be transported as a single string. Key Binding MAY be achieved by signing the envelope JWT instead of including a separate Key Binding JWT in the SD-JWT.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">The claim <code>_sd_jwt</code> SHOULD be used when transporting an SD-JWT unless the application or protocol defines a different claim name.<a href="#section-7-3" class="pilcrow">¶</a></p>
<p id="section-7-4">The following non-normative example shows an SD-JWT Presentation enveloped in a JWT payload:<a href="#section-7-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7-5">
<pre>{
  "iss": "https://holder.example.com",
  "sub": "did:example:123",
  "aud": "https://verifier.example.com",
  "exp": 1590000000,
  "iat": 1580000000,
  "nbf": 1580000000,
  "jti": "urn:uuid:12345678-1234-1234-1234-123456789012",
  "_sd_jwt": "eyJhbGci...emhlaUJhZzBZ~eyJhb...dYALCGg~"
}
</pre><a href="#section-7-5" class="pilcrow">¶</a>
</div>
<p id="section-7-6">Here, the SD-JWT is shown where <code>eyJhbGci...emhlaUJhZzBZ</code> represents the Issuer-signed JWT and <code>eyJhb...dYALCGg</code> represents a Disclosure. The SD-JWT does not contain a Key Binding JWT as the outer container can be signed instead.<a href="#section-7-6" class="pilcrow">¶</a></p>
<p id="section-7-7">Other specifications or profiles of this specification may define alternative formats for transporting an SD-JWT that envelope multiple such objects into one object, and provides Key Binding using means other than the Key Binding JWT.<a href="#section-7-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="json_serialization">
<section id="section-8">
      <h2 id="name-jws-json-serialization">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-jws-json-serialization" class="section-name selfRef">JWS JSON Serialization</a>
      </h2>
<p id="section-8-1">This section describes an optional alternate format for SD-JWT using the JWS JSON Serialization from <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">For both the General and Flattened JSON Serialization, the SD-JWT is represented as a JSON object according
to Section 7.2 of <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span>. The disclosures (both for issuance and presentation) are included in the
serialized JWS using the key <code>disclosures</code> at the top-level of the JSON object (the same level as the <code>payload</code> member). The
value of the <code>disclosures</code> member is an array of strings where each element is an individual Disclosure
as described in <a href="#creating_disclosures" class="auto internal xref">Section 5.2</a>. The Issuer includes a Disclosure for each selectively
disclosable claim of the SD-JWT payload, whereas the Holder includes only the Disclosures
selected for the given presentation. Additionally, for presentation with a Key Binding, the Holder adds
the key <code>kb_jwt</code> at the top-level of the serialized JWS with a string value containing the
Key Binding JWT as described in <a href="#kb-jwt" class="auto internal xref">Section 5.10</a>.<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">Verification of the JWS JSON serialized SD-JWT follows the same rules defined in <a href="#verification" class="auto internal xref">Section 4.4</a>,
except that the SD-JWT does not need to be split into component parts, but disclosures and (if applicable)
a Key Binding JWT can be found in the respective members of the JSON object.<a href="#section-8-3" class="pilcrow">¶</a></p>
<p id="section-8-4">Using a payload similar to that from <a href="#example-1">Example 1</a>, the following is a non-normative example of
a JWS JSON serialized SD-JWT from an Issuer with all the respective Disclosures.<a href="#section-8-4" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-8-5">
<pre>{
  "payload": "eyJfc2QiOiBbIjRIQm42YUlZM1d0dUdHV1R4LXFVajZjZGs2V0JwWn
    lnbHRkRmF2UGE3TFkiLCAiOHNtMVFDZjAyMXBObkhBQ0k1c1A0bTRLWmd5Tk9PQV
    ljVGo5SE5hQzF3WSIsICJTRE43OU5McEFuSFBta3JkZVlkRWE4OVhaZHNrME04RE
    tZU1FPVTJaeFFjIiwgIlh6RnJ6d3NjTTZHbjZDSkRjNnZWSzhCa01uZkc4dk9TS2
    ZwUElaZEFmZEUiLCAiZ2JPc0k0RWRxMngyS3ctdzV3UEV6YWtvYjloVjFjUkQwQV
    ROM29RTDlKTSIsICJqTUNYVnotLTliOHgzN1ljb0RmWFFpbnp3MXdaY2NjZkZSQk
    NGR3FkRzJvIiwgIm9LSTFHZDJmd041V3d2amxGa29oaWRHdmltLTMxT3VsUjNxMG
    hyRE8wNzgiXSwgImlzcyI6ICJodHRwczovL2V4YW1wbGUuY29tL2lzc3VlciIsIC
    JpYXQiOiAxNjgzMDAwMDAwLCAiZXhwIjogMTg4MzAwMDAwMCwgIl9zZF9hbGciOi
    Aic2hhLTI1NiIsICJjbmYiOiB7Imp3ayI6IHsia3R5IjogIkVDIiwgImNydiI6IC
    JQLTI1NiIsICJ4IjogIlRDQUVSMTladnUzT0hGNGo0VzR2ZlNWb0hJUDFJTGlsRG
    xzN3ZDZUdlbWMiLCAieSI6ICJaeGppV1diWk1RR0hWV0tWUTRoYlNJaXJzVmZ1ZW
    NDRTZ0NGpUOUYySFpRIn19fQ",
  "protected": "eyJhbGciOiAiRVMyNTYifQ",
  "signature": "E1ZGsymXNo2zoZRTpqdoSDSD1EppFk2DhX7AjkDlEBMMHigOtPMm
    2myP2tONPgUTLQ1rZPR6vCyYhs0TLUwnSg",
  "disclosures": [
    "WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgInN1YiIsICJqb2huX2RvZV80MiJ
      d",
    "WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImdpdmVuX25hbWUiLCAiSm9obiJ
      d",
    "WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgImZhbWlseV9uYW1lIiwgIkRvZSJ
      d",
    "WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgImVtYWlsIiwgImpvaG5kb2VAZXh
      hbXBsZS5jb20iXQ",
    "WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgInBob25lX251bWJlciIsICIrMS0
      yMDItNTU1LTAxMDEiXQ",
    "WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgImFkZHJlc3MiLCB7InN0cmVldF9
      hZGRyZXNzIjogIjEyMyBNYWluIFN0IiwgImxvY2FsaXR5IjogIkFueXRvd24iL
      CAicmVnaW9uIjogIkFueXN0YXRlIiwgImNvdW50cnkiOiAiVVMifV0",
    "WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZRIiwgImJpcnRoZGF0ZSIsICIxOTQwLTA
      xLTAxIl0"
  ]
}
</pre><a href="#section-8-5" class="pilcrow">¶</a>
</div>
<p id="section-8-6">Below is a non-normative example of a presentation of the JWS JSON serialized SD-JWT, where the Holder
includes a Key Binding JWT and has selected to disclose <code>given_name</code>, <code>family_name</code>, and <code>address</code>.<a href="#section-8-6" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="section-8-7">
<pre>{
  "payload": "eyJfc2QiOiBbIjRIQm42YUlZM1d0dUdHV1R4LXFVajZjZGs2V0JwWn
    lnbHRkRmF2UGE3TFkiLCAiOHNtMVFDZjAyMXBObkhBQ0k1c1A0bTRLWmd5Tk9PQV
    ljVGo5SE5hQzF3WSIsICJTRE43OU5McEFuSFBta3JkZVlkRWE4OVhaZHNrME04RE
    tZU1FPVTJaeFFjIiwgIlh6RnJ6d3NjTTZHbjZDSkRjNnZWSzhCa01uZkc4dk9TS2
    ZwUElaZEFmZEUiLCAiZ2JPc0k0RWRxMngyS3ctdzV3UEV6YWtvYjloVjFjUkQwQV
    ROM29RTDlKTSIsICJqTUNYVnotLTliOHgzN1ljb0RmWFFpbnp3MXdaY2NjZkZSQk
    NGR3FkRzJvIiwgIm9LSTFHZDJmd041V3d2amxGa29oaWRHdmltLTMxT3VsUjNxMG
    hyRE8wNzgiXSwgImlzcyI6ICJodHRwczovL2V4YW1wbGUuY29tL2lzc3VlciIsIC
    JpYXQiOiAxNjgzMDAwMDAwLCAiZXhwIjogMTg4MzAwMDAwMCwgIl9zZF9hbGciOi
    Aic2hhLTI1NiIsICJjbmYiOiB7Imp3ayI6IHsia3R5IjogIkVDIiwgImNydiI6IC
    JQLTI1NiIsICJ4IjogIlRDQUVSMTladnUzT0hGNGo0VzR2ZlNWb0hJUDFJTGlsRG
    xzN3ZDZUdlbWMiLCAieSI6ICJaeGppV1diWk1RR0hWV0tWUTRoYlNJaXJzVmZ1ZW
    NDRTZ0NGpUOUYySFpRIn19fQ",
  "protected": "eyJhbGciOiAiRVMyNTYifQ",
  "signature": "E1ZGsymXNo2zoZRTpqdoSDSD1EppFk2DhX7AjkDlEBMMHigOtPMm
    2myP2tONPgUTLQ1rZPR6vCyYhs0TLUwnSg",
  "disclosures": [
    "WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgImZhbWlseV9uYW1lIiwgIkRvZSJ
      d",
    "WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgImFkZHJlc3MiLCB7InN0cmVldF9
      hZGRyZXNzIjogIjEyMyBNYWluIFN0IiwgImxvY2FsaXR5IjogIkFueXRvd24iL
      CAicmVnaW9uIjogIkFueXN0YXRlIiwgImNvdW50cnkiOiAiVVMifV0",
    "WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImdpdmVuX25hbWUiLCAiSm9obiJ
      d"
  ],
  "kb_jwt": "eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImtiK2p3dCJ9.eyJub25jZS
    I6ICIxMjM0NTY3ODkwIiwgImF1ZCI6ICJodHRwczovL2V4YW1wbGUuY29tL3Zlcm
    lmaWVyIiwgImlhdCI6IDE2ODcyODgyMzl9.wQltaDXoPnlQmtsKMb40mnNB3U1dq
    GvC-D8N4wTzL4tmZpzLr4NpPi1j70dZw4jtgPApdeaPqJqf-PLHrnIx6A"
}
</pre><a href="#section-8-7" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="security_considerations">
<section id="section-9">
      <h2 id="name-security-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-9-1">Security considerations in this section help achieve the following properties:<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2"><strong>Selective Disclosure:</strong> An adversary in the role of the Verifier cannot obtain
information from an SD-JWT about any claim name or claim value that was not
explicitly disclosed by the Holder unless that information can be derived from
other disclosed claims or sources other than the presented SD-JWT.<a href="#section-9-2" class="pilcrow">¶</a></p>
<p id="section-9-3"><strong>Integrity:</strong> A malicious Holder cannot modify names or values of selectively disclosable claims without detection by the Verifier.<a href="#section-9-3" class="pilcrow">¶</a></p>
<p id="section-9-4">Additionally, as described in <a href="#key_binding_security" class="auto internal xref">Section 9.6</a>, the application of Key Binding can ensure that the presenter of an SD-JWT credential is the legitimate Holder of the credential.<a href="#section-9-4" class="pilcrow">¶</a></p>
<div id="mandatory-signing-of-the-issuer-signed-jwt">
<section id="section-9.1">
        <h3 id="name-mandatory-signing-of-the-is">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-mandatory-signing-of-the-is" class="section-name selfRef">Mandatory Signing of the Issuer-signed JWT</a>
        </h3>
<p id="section-9.1-1">The Issuer-signed JWT MUST be signed by the Issuer to protect integrity of the issued
claims. An attacker can modify or add claims if this JWT is not signed (e.g.,
change the "email" attribute to take over the victim's account or add an
attribute indicating a fake academic qualification).<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<p id="section-9.1-2">The Verifier MUST always check the signature of the Issuer-signed JWT to ensure that it
has not been tampered with since the issuance. The Issuer-signed JWT MUST be rejected if the signature cannot be verified.<a href="#section-9.1-2" class="pilcrow">¶</a></p>
<p id="section-9.1-3">The security of the Issuer-signed JWT depends on the security of the signature algorithm.
Any of the JSON Web Signature and Encryption Algorithms registered in <span>[<a href="#IANA.JWS.Algorithms" class="cite xref">IANA.JWS.Algorithms</a>]</span>
can be used, including post quantum algorithms, when they are ready.<a href="#section-9.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="manipulation-of-disclosures">
<section id="section-9.2">
        <h3 id="name-manipulation-of-disclosures">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-manipulation-of-disclosures" class="section-name selfRef">Manipulation of Disclosures</a>
        </h3>
<p id="section-9.2-1">Holders can manipulate the Disclosures by changing the values of the claims
before sending them to the Verifier. The Verifier MUST check the Disclosures to
ensure that the values of the claims are correct, i.e., the digests of the Disclosures are actually present in the signed SD-JWT.<a href="#section-9.2-1" class="pilcrow">¶</a></p>
<p id="section-9.2-2">A naive Verifier that extracts
all claim values from the Disclosures (without checking the hashes) and inserts them into the SD-JWT payload
is vulnerable to this attack. However, in a structured SD-JWT, without comparing the digests of the
Disclosures, such an implementation could not determine the correct place in a
nested object where a claim needs to be inserted. Therefore, the naive implementation
would not only be insecure, but also incorrect.<a href="#section-9.2-2" class="pilcrow">¶</a></p>
<p id="section-9.2-3">The steps described in <a href="#verifier_verification" class="auto internal xref">Section 6.3</a> ensure that the Verifier
checks the Disclosures correctly.<a href="#section-9.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="salt-entropy">
<section id="section-9.3">
        <h3 id="name-entropy-of-the-salt">
<a href="#section-9.3" class="section-number selfRef">9.3. </a><a href="#name-entropy-of-the-salt" class="section-name selfRef">Entropy of the salt</a>
        </h3>
<p id="section-9.3-1">The security model that conceals the plaintext claims relies on the fact
that salts not revealed to an attacker cannot be learned or guessed by
the attacker, even if other salts have been revealed. It is vitally
important to adhere to this principle. As such, each salt MUST be created
in such a manner that it is cryptographically random, long enough, and
has high entropy that it is not practical for the attacker to guess. A
new salt MUST be chosen for each claim independently from other salts.<a href="#section-9.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="salt_minlength">
<section id="section-9.4">
        <h3 id="name-minimum-length-of-the-salt">
<a href="#section-9.4" class="section-number selfRef">9.4. </a><a href="#name-minimum-length-of-the-salt" class="section-name selfRef">Minimum length of the salt</a>
        </h3>
<p id="section-9.4-1">The RECOMMENDED minimum length of the randomly-generated portion of the salt is 128 bits.<a href="#section-9.4-1" class="pilcrow">¶</a></p>
<p id="section-9.4-2">The Issuer MUST ensure that a new salt value is chosen for each claim,
including when the same claim name occurs at different places in the
structure of the SD-JWT. This can be seen in Example 3 in the Appendix,
where multiple claims with the name <code>type</code> appear, but each of them has
a different salt.<a href="#section-9.4-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="choice-of-a-hash-algorithm">
<section id="section-9.5">
        <h3 id="name-choice-of-a-hash-algorithm">
<a href="#section-9.5" class="section-number selfRef">9.5. </a><a href="#name-choice-of-a-hash-algorithm" class="section-name selfRef">Choice of a Hash Algorithm</a>
        </h3>
<p id="section-9.5-1">For the security of this scheme, the hash algorithm is required to be preimage resistant and second-preimage
resistant, i.e., it is infeasible to calculate the salt and claim value that result in
a particular digest, and, for any salt and claim value pair, it is infeasible to find a different salt and claim value pair that
result in the same digest, respectively.<a href="#section-9.5-1" class="pilcrow">¶</a></p>
<p id="section-9.5-2">Hash algorithms that do not meet the aforementioned requirements MUST NOT be used.
Inclusion in the "Named Information Hash Algorithm" registry <span>[<a href="#IANA.Hash.Algorithms" class="cite xref">IANA.Hash.Algorithms</a>]</span>
alone does not indicate a hash algorithm's suitability for use in SD-JWT (it contains several
heavily truncated digests, such as <code>sha-256-32</code> and <code>sha-256-64</code>, which are unfit for security
applications).<a href="#section-9.5-2" class="pilcrow">¶</a></p>
<p id="section-9.5-3">Furthermore, the hash algorithms MD2, MD4, MD5, and SHA-1
revealed fundamental weaknesses and they MUST NOT be used.<a href="#section-9.5-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="key_binding_security">
<section id="section-9.6">
        <h3 id="name-key-binding">
<a href="#section-9.6" class="section-number selfRef">9.6. </a><a href="#name-key-binding" class="section-name selfRef">Key Binding</a>
        </h3>
<p id="section-9.6-1">Key Binding aims to ensure that the presenter of an SD-JWT credential is actually the legitimate Holder of the credential.
An SD-JWT with Key Binding contains a public key, or a reference to a public key, that corresponds to a private key possessed by the Holder.
The Verifier requires that the Holder prove possession of that private key when presenting the SD-JWT credential.<a href="#section-9.6-1" class="pilcrow">¶</a></p>
<p id="section-9.6-2">Without Key Binding, a Verifier only gets the proof that the
credential was issued by a particular Issuer, but the credential itself
can be replayed by anyone who gets access to it. This means that, for
example, after a credential was leaked to an attacker, the attacker can
present the credential to any verifier that does not require a
binding. But also a malicious Verifier to which the Holder presented the
credential can present the credential to another Verifier if that other
Verifier does not require Key Binding.<a href="#section-9.6-2" class="pilcrow">¶</a></p>
<p id="section-9.6-3">Verifiers MUST decide whether Key Binding is required for a
particular use case before verifying a credential. This decision
can be informed by various factors including, but not limited to the following:
business requirements, the use case, the type of
binding between a Holder and its credential that is required for a use
case, the sensitivity of the use case, the expected properties of a
credential, the type and contents of other credentials expected to be
presented at the same time, etc.<a href="#section-9.6-3" class="pilcrow">¶</a></p>
<p id="section-9.6-4">It is important that a Verifier does not make its security policy
decisions based on data that can be influenced by an attacker or that
can be misinterpreted. For this reason, when deciding whether Key
Binding is required or not, Verifiers MUST NOT take into account<a href="#section-9.6-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.6-5.1">whether a Key Binding JWT is present or not, as an attacker can
remove the Key Binding JWT from any Presentation and present it to the
Verifier, or<a href="#section-9.6-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-9.6-5.2">whether Key Binding data is present in the SD-JWT or not, as the
Issuer might have added the key to the SD-JWT in a format/claim that
is not recognized by the Verifier.<a href="#section-9.6-5.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-9.6-6">If a Verifier has decided that Key Binding is required for a
particular use case and the Key Binding is not present, does not fulfill the requirements
(e.g., on the signing algorithm), or no recognized
Key Binding data is present in the SD-JWT, the Verifier will reject the
presentation, as described in <a href="#verifier_verification" class="auto internal xref">Section 6.3</a>.<a href="#section-9.6-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="blinding-claim-names">
<section id="section-9.7">
        <h3 id="name-blinding-claim-names">
<a href="#section-9.7" class="section-number selfRef">9.7. </a><a href="#name-blinding-claim-names" class="section-name selfRef">Blinding Claim Names</a>
        </h3>
<p id="section-9.7-1">SD-JWT ensures that names of claims that are selectively disclosable are
always blinded. This prevents an attacker from learning the names of the
disclosable claims. However, the names of the claims that are not
disclosable are not blinded. This includes the keys of objects that themselves
are not blinded, but contain disclosable claims. This limitation
needs to be taken into account by Issuers when creating the structure of
the SD-JWT.<a href="#section-9.7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="issuer_signature_key_distribution">
<section id="section-9.8">
        <h3 id="name-issuer-signature-key-distri">
<a href="#section-9.8" class="section-number selfRef">9.8. </a><a href="#name-issuer-signature-key-distri" class="section-name selfRef">Issuer Signature Key Distribution and Rotation</a>
        </h3>
<p id="section-9.8-1">This specification does not define how signature verification keys of
Issuers are distributed to Verifiers. However, it is RECOMMENDED that
Issuers publish their keys in a way that allows for efficient and secure
key rotation and revocation, for example, by publishing keys at a
predefined location using the JSON Web Key Set (JWKS) format <span>[<a href="#RFC7517" class="cite xref">RFC7517</a>]</span>.
Verifiers need to ensure that they are not using expired or revoked keys
for signature verification using reasonable and appropriate means for the given
key-distribution method.<a href="#section-9.8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="forwarding-credentials">
<section id="section-9.9">
        <h3 id="name-forwarding-credentials">
<a href="#section-9.9" class="section-number selfRef">9.9. </a><a href="#name-forwarding-credentials" class="section-name selfRef">Forwarding Credentials</a>
        </h3>
<p id="section-9.9-1">When Key Binding is not enforced,
any entity in possession of an SD-JWT Presentation can forward the contents to third parties.
When doing so, that entity may remove Disclosures such that the receiver
learns only a subset of the claims contained in the original SD-JWT.<a href="#section-9.9-1" class="pilcrow">¶</a></p>
<p id="section-9.9-2">For example, a device manufacturer might produce an SD-JWT
containing information about upstream and downstream supply chain contributors.
Each supply chain party can verify only the claims that were selectively disclosed to them
by an upstream party, and they can choose to further reduce the disclosed claims
when presenting to a downstream party.<a href="#section-9.9-2" class="pilcrow">¶</a></p>
<p id="section-9.9-3">In some scenarios this behavior could be desirable,
but if it is not, Issuers need to support and Verifiers need to enforce Key Binding.<a href="#section-9.9-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="explicit_typing">
<section id="section-9.10">
        <h3 id="name-explicit-typing">
<a href="#section-9.10" class="section-number selfRef">9.10. </a><a href="#name-explicit-typing" class="section-name selfRef">Explicit Typing</a>
        </h3>
<p id="section-9.10-1">Section 3.11 of <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span> describes the use of explicit typing to prevent confusion attacks
in which one kind of JWT is mistaken for another. SD-JWTs are also potentially
vulnerable to such confusion attacks, so it is RECOMMENDED to specify an explicit type
by including the <code>typ</code> header parameter when the SD-JWT is issued, and for Verifiers to check this value.<a href="#section-9.10-1" class="pilcrow">¶</a></p>
<p id="section-9.10-2">When explicit typing is employed for an SD-JWT, it is RECOMMENDED that a media type name of the format
"application/example+sd-jwt" be used, where "example" is replaced by the identifier for the specific kind of SD-JWT.
The definition of <code>typ</code> in Section 4.1.9 of <span>[<a href="#RFC7515" class="cite xref">RFC7515</a>]</span> recommends that the "application/" prefix be omitted, so
"example+sd-jwt" would be the value of the <code>typ</code> header parameter.<a href="#section-9.10-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="privacy_considerations">
<section id="section-10">
      <h2 id="name-privacy-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-privacy-considerations" class="section-name selfRef">Privacy Considerations</a>
      </h2>
<p id="section-10-1">The privacy principles of <span>[<a href="#ISO.29100" class="cite xref">ISO.29100</a>]</span> should be adhered to.<a href="#section-10-1" class="pilcrow">¶</a></p>
<div id="storage-of-signed-user-data">
<section id="section-10.1">
        <h3 id="name-storage-of-signed-user-data">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-storage-of-signed-user-data" class="section-name selfRef">Storage of Signed User Data</a>
        </h3>
<p id="section-10.1-1">Wherever End-User data is stored, it represents a potential
target for an attacker. This target can be of particularly
high value when the data is signed by a trusted authority like an
official national identity service. For example, in OpenID Connect,
signed ID Tokens can be stored by Relying Parties. In the case of
SD-JWT, Holders have to store SD-JWTs,
and Issuers and Verifiers may decide to do so as well.<a href="#section-10.1-1" class="pilcrow">¶</a></p>
<p id="section-10.1-2">Not surprisingly, a leak of such data risks revealing private data of End-Users
to third parties. Signed End-User data, the authenticity of which
can be easily verified by third parties, further exacerbates the risk.
As discussed in <a href="#key_binding_security" class="auto internal xref">Section 9.6</a>, leaked
SD-JWTs may also allow attackers to impersonate Holders unless Key
Binding is enforced and the attacker does not have access to the
Holder's cryptographic keys. Altogether, leaked SD-JWT credentials may have
a high monetary value on black markets.<a href="#section-10.1-2" class="pilcrow">¶</a></p>
<p id="section-10.1-3">Due to these risks, systems implementing SD-JWT SHOULD be designed to
minimize the amount of data that is stored. All involved parties SHOULD
store SD-JWTs only for as long as needed, including in log files.<a href="#section-10.1-3" class="pilcrow">¶</a></p>
<p id="section-10.1-4">Issuers SHOULD NOT store SD-JWTs after issuance.<a href="#section-10.1-4" class="pilcrow">¶</a></p>
<p id="section-10.1-5">Holders SHOULD store SD-JWTs only in
encrypted form, and, wherever possible, use hardware-backed encryption
in particular for the private Key Binding key. Decentralized storage
of data, e.g., on End-User devices, SHOULD be preferred for End-User
credentials over centralized storage. Expired SD-JWTs SHOULD be deleted
as soon as possible.<a href="#section-10.1-5" class="pilcrow">¶</a></p>
<p id="section-10.1-6">Verifiers SHOULD NOT store SD-JWTs after verification. It may be
sufficient to store the result of the verification and any End-User data
that is needed for the application.<a href="#section-10.1-6" class="pilcrow">¶</a></p>
<p id="section-10.1-7">If reliable and secure key rotation and revocation is ensured according
to <a href="#issuer_signature_key_distribution" class="auto internal xref">Section 9.8</a>, Issuers may opt to publish
expired or revoked private signing keys (after a grace period that
ensures that the keys are not cached any longer at any Verifier). This
reduces the value of any leaked credentials as the signatures on them
can no longer be trusted to originate from the Issuer.<a href="#section-10.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="confidentiality-during-transport">
<section id="section-10.2">
        <h3 id="name-confidentiality-during-tran">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-confidentiality-during-tran" class="section-name selfRef">Confidentiality during Transport</a>
        </h3>
<p id="section-10.2-1">If the SD-JWT is transmitted over an insecure
channel during issuance or presentation, an adversary may be able to
intercept and read the End-User's personal data or correlate the information with previous uses of the same SD-JWT.<a href="#section-10.2-1" class="pilcrow">¶</a></p>
<p id="section-10.2-2">Usually, transport protocols for issuance and presentation of credentials
are designed to protect the confidentiality of the transmitted data, for
example, by requiring the use of TLS.<a href="#section-10.2-2" class="pilcrow">¶</a></p>
<p id="section-10.2-3">This specification therefore considers the confidentiality of the data to be
provided by the transport protocol and does not specify any encryption
mechanism.<a href="#section-10.2-3" class="pilcrow">¶</a></p>
<p id="section-10.2-4">Implementers MUST ensure that the transport protocol provides confidentiality
if the privacy of End-User data or correlation attacks by passive observers are a concern. Implementers MAY define an
envelope format (such as described in <a href="#enveloping" class="auto internal xref">Section 7</a> or nesting the SD-JWT as
the plaintext payload of a JWE) to encrypt the SD-JWT when transmitted over an insecure channel.<a href="#section-10.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="decoy_digests_privacy">
<section id="section-10.3">
        <h3 id="name-decoy-digests-2">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-decoy-digests-2" class="section-name selfRef">Decoy Digests</a>
        </h3>
<p id="section-10.3-1">The use of decoy digests is RECOMMENDED when the number of claims (or the existence of particular claims) can be a side-channel disclosing information about otherwise undisclosed claims. In particular, if a claim in an SD-JWT is present only if a certain condition is met (e.g., a membership number is only contained if the End-User is a member of a group), the Issuer SHOULD add decoy digests when the condition is not met.<a href="#section-10.3-1" class="pilcrow">¶</a></p>
<p id="section-10.3-2">Decoy digests increase the size of the SD-JWT. The number of decoy digests (or whether to use them at all) is a trade-off between the size of the SD-JWT and the privacy of the End-User's data.<a href="#section-10.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="unlinkability">
<section id="section-10.4">
        <h3 id="name-unlinkability">
<a href="#section-10.4" class="section-number selfRef">10.4. </a><a href="#name-unlinkability" class="section-name selfRef">Unlinkability</a>
        </h3>
<p id="section-10.4-1">Colluding Issuer/Verifier or Verifier/Verifier pairs could link issuance/presentation
or two presentation sessions to the same user on the basis of unique values encoded in the SD-JWT
(Issuer signature, salts, digests, etc.).<a href="#section-10.4-1" class="pilcrow">¶</a></p>
<p id="section-10.4-2">To prevent these types of linkability, various methods, including but not limited to the following ones can be used:<a href="#section-10.4-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.4-3.1">Use advanced cryptographic schemes, outside the scope of this specification.<a href="#section-10.4-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-10.4-3.2">Issue a batch of SD-JWTs to the Holder to enable the Holder to use a unique SD-JWT per Verifier. This only helps with Verifier/Verifier unlinkability.<a href="#section-10.4-3.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="issuer-identifier">
<section id="section-10.5">
        <h3 id="name-issuer-identifier">
<a href="#section-10.5" class="section-number selfRef">10.5. </a><a href="#name-issuer-identifier" class="section-name selfRef">Issuer Identifier</a>
        </h3>
<p id="section-10.5-1">An Issuer issuing only one type of SD-JWT might have privacy implications, because if the Holder has an SD-JWT issued by that Issuer, its type and claim names can be determined.<a href="#section-10.5-1" class="pilcrow">¶</a></p>
<p id="section-10.5-2">For example, if the National Cancer Institute only issued SD-JWTs with cancer registry information, it is possible to deduce that the Holder owning its SD-JWT is a cancer patient.<a href="#section-10.5-2" class="pilcrow">¶</a></p>
<p id="section-10.5-3">Moreover, the issuer identifier alone may reveal information about the user.<a href="#section-10.5-3" class="pilcrow">¶</a></p>
<p id="section-10.5-4">For example, when a military organization or a drug rehabilitation center issues a vaccine credential, verifiers can deduce that the holder is a military member or may have a substance use disorder.<a href="#section-10.5-4" class="pilcrow">¶</a></p>
<p id="section-10.5-5">To mitigate this issue, a group of issuers may elect to use a common Issuer identifier. A group signature scheme outside the scope of this specification may also be used, instead of an individual signature.<a href="#section-10.5-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="Acknowledgements">
<section id="section-11">
      <h2 id="name-acknowledgements">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-11-1">We would like to thank
Alen Horvat,
Arjan Geluk,
Christian Bormann,
Christian Paquin,
David Bakker,
David Waite,
Fabian Hauck,
Filip Skokan,
Giuseppe De Marco,
John Mattsson,
Justin Richer,
Kushal Das,
Matthew Miller,
Mike Jones,
Nat Sakimura,
Oliver Terbu,
Orie Steele,
Paul Bastian,
Pieter Kasselman,
Ryosuke Abe,
Shawn Butterfield,
Tobias Looker,
Takahiko Kawasaki,
Torsten Lodderstedt,
Vittorio Bertocci, and
Yaron Sheffer
for their contributions (some of which substantial) to this draft and to the initial set of implementations.<a href="#section-11-1" class="pilcrow">¶</a></p>
<p id="section-11-2">The work on this draft was started at OAuth Security Workshop 2022 in Trondheim, Norway.<a href="#section-11-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana_considerations">
<section id="section-12">
      <h2 id="name-iana-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-12-1">TBD<a href="#section-12-1" class="pilcrow">¶</a></p>
<div id="media-type-registration">
<section id="section-12.1">
        <h3 id="name-media-type-registration">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-media-type-registration" class="section-name selfRef">Media Type Registration</a>
        </h3>
<p id="section-12.1-1">This section requests registration of the "application/sd-jwt" media type <span>[<a href="#RFC2046" class="cite xref">RFC2046</a>]</span> in
the "Media Types" registry <span>[<a href="#IANA.MediaTypes" class="cite xref">IANA.MediaTypes</a>]</span> in the manner described
in <span>[<a href="#RFC6838" class="cite xref">RFC6838</a>]</span>.<a href="#section-12.1-1" class="pilcrow">¶</a></p>
<p id="section-12.1-2">To indicate that the content is an SD-JWT:<a href="#section-12.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.1-3.1">Type name: application<a href="#section-12.1-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.2">Subtype name: sd-jwt<a href="#section-12.1-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.3">Required parameters: n/a<a href="#section-12.1-3.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.4">Optional parameters: n/a<a href="#section-12.1-3.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.5">Encoding considerations: binary; application/sd-jwt values are a series of base64url-encoded values (some of which may be the empty string) separated by period ('.') or tilde ('~') characters.<a href="#section-12.1-3.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.6">Security considerations: See the Security Considerations section of [[ this specification ]], <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span>, and <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>.<a href="#section-12.1-3.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.7">Interoperability considerations: n/a<a href="#section-12.1-3.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.8">Published specification: [[ this specification ]]<a href="#section-12.1-3.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.9">Applications that use this media type: TBD<a href="#section-12.1-3.9" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.10">Fragment identifier considerations: n/a<a href="#section-12.1-3.10" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.11">Additional information:
Magic number(s): n/a
File extension(s): n/a
Macintosh file type code(s): n/a<a href="#section-12.1-3.11" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.12">Person &amp; email address to contact for further information: Daniel Fett, mail@danielfett.de<a href="#section-12.1-3.12" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.13">Intended usage: COMMON<a href="#section-12.1-3.13" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.14">Restrictions on usage: none<a href="#section-12.1-3.14" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.15">Author: Daniel Fett, mail@danielfett.de<a href="#section-12.1-3.15" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.16">Change Controller: IESG<a href="#section-12.1-3.16" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-3.17">Provisional registration?  No<a href="#section-12.1-3.17" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-12.1-4">To indicate that the content is a Key Binding JWT:<a href="#section-12.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.1-5.1">Type name: application<a href="#section-12.1-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.2">Subtype name: kb+jwt<a href="#section-12.1-5.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.3">Required parameters: n/a<a href="#section-12.1-5.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.4">Optional parameters: n/a<a href="#section-12.1-5.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.5">Encoding considerations: binary; A Key Binding JWT is a JWT; JWT values are encoded as a series of base64url-encoded values (some of which may be the empty string) separated by period ('.') characters.<a href="#section-12.1-5.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.6">Security considerations: See the Security Considerations section of [[ this specification ]], <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span>, and <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>.<a href="#section-12.1-5.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.7">Interoperability considerations: n/a<a href="#section-12.1-5.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.8">Published specification: [[ this specification ]]<a href="#section-12.1-5.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.9">Applications that use this media type: TBD<a href="#section-12.1-5.9" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.10">Fragment identifier considerations: n/a<a href="#section-12.1-5.10" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.11">Additional information:
Magic number(s): n/a
File extension(s): n/a
Macintosh file type code(s): n/a<a href="#section-12.1-5.11" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.12">Person &amp; email address to contact for further information: Daniel Fett, mail@danielfett.de<a href="#section-12.1-5.12" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.13">Intended usage: COMMON<a href="#section-12.1-5.13" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.14">Restrictions on usage: none<a href="#section-12.1-5.14" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.15">Author: Daniel Fett, mail@danielfett.de<a href="#section-12.1-5.15" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.16">Change Controller: IESG<a href="#section-12.1-5.16" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.1-5.17">Provisional registration?  No<a href="#section-12.1-5.17" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="structured-syntax-suffix-registration">
<section id="section-12.2">
        <h3 id="name-structured-syntax-suffix-re">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-structured-syntax-suffix-re" class="section-name selfRef">Structured Syntax Suffix Registration</a>
        </h3>
<p id="section-12.2-1">This section requests registration of the "+sd-jwt" structured syntax suffix in
the "Structured Syntax Suffix" registry <span>[<a href="#IANA.StructuredSuffix" class="cite xref">IANA.StructuredSuffix</a>]</span> in
the manner described in [RFC6838], which can be used to indicate that
the media type is encoded as an SD-JWT.<a href="#section-12.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.2-2.1">Name: SD-JWT<a href="#section-12.2-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.2-2.2">+suffix: +sd-jwt<a href="#section-12.2-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.2-2.3">References: [[ this specification ]]<a href="#section-12.2-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.2-2.4">Encoding considerations: binary; SD-JWT values are a series of base64url-encoded values (some of which may be the empty string) separated by period ('.') or tilde ('~') characters.<a href="#section-12.2-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.2-2.5">Interoperability considerations: n/a<a href="#section-12.2-2.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.2-2.6">Fragment identifier considerations: n/a<a href="#section-12.2-2.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.2-2.7">Security considerations: See the Security Considerations section of [[ this specification ]], <span>[<a href="#RFC7519" class="cite xref">RFC7519</a>]</span>, and <span>[<a href="#RFC8725" class="cite xref">RFC8725</a>]</span>.<a href="#section-12.2-2.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.2-2.8">Contact: Daniel Fett, mail@danielfett.de<a href="#section-12.2-2.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.2-2.9">Author/Change controller: IESG<a href="#section-12.2-2.9" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<section id="section-13">
      <h2 id="name-normative-references">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7515">[RFC7515]</dt>
      <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">N. Sakimura</span>, <span class="refTitle">"JSON Web Signature (JWS)"</span>, <span class="seriesInfo">RFC 7515</span>, <span class="seriesInfo">DOI 10.17487/RFC7515</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7515">https://www.rfc-editor.org/info/rfc7515</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7519">[RFC7519]</dt>
      <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">N. Sakimura</span>, <span class="refTitle">"JSON Web Token (JWT)"</span>, <span class="seriesInfo">RFC 7519</span>, <span class="seriesInfo">DOI 10.17487/RFC7519</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7519">https://www.rfc-editor.org/info/rfc7519</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8259">[RFC8259]</dt>
    <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">STD 90</span>, <span class="seriesInfo">RFC 8259</span>, <span class="seriesInfo">DOI 10.17487/RFC8259</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8259">https://www.rfc-editor.org/info/rfc8259</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-14">
      <h2 id="name-informative-references">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="IANA.Hash.Algorithms">[IANA.Hash.Algorithms]</dt>
      <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Named Information Hash Algorithm"</span>, <span>&lt;<a href="https://www.iana.org/assignments/named-information/named-information.xhtml">https://www.iana.org/assignments/named-information/named-information.xhtml</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.JWS.Algorithms">[IANA.JWS.Algorithms]</dt>
      <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"JSON Web Signature and Encryption Algorithms"</span>, <span>&lt;<a href="https://www.iana.org/assignments/jose/jose.xhtml#web-signature-encryption-algorithms">https://www.iana.org/assignments/jose/jose.xhtml#web-signature-encryption-algorithms</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.MediaTypes">[IANA.MediaTypes]</dt>
      <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Media Types"</span>, <span>&lt;<a href="https://www.iana.org/assignments/media-types/media-types.xhtml">https://www.iana.org/assignments/media-types/media-types.xhtml</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.StructuredSuffix">[IANA.StructuredSuffix]</dt>
      <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Structured Syntax Suffixs"</span>, <span>&lt;<a href="https://www.iana.org/assignments/media-type-structured-suffix/media-type-structured-suffix.xhtml">https://www.iana.org/assignments/media-type-structured-suffix/media-type-structured-suffix.xhtml</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ISO.29100">[ISO.29100]</dt>
      <dd>
<span class="refAuthor">ISO</span>, <span class="refTitle">"ISO/IEC 29100:2011 Information technology — Security techniques — Privacy framework"</span>, <span>&lt;<a href="https://standards.iso.org/ittf/PubliclyAvailableStandards/index.html">https://standards.iso.org/ittf/PubliclyAvailableStandards/index.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OIDC.IDA">[OIDC.IDA]</dt>
      <dd>
<span class="refAuthor">Lodderstedt, T.</span>, <span class="refAuthor">Fett, D.</span>, <span class="refAuthor">Haine, M.</span>, <span class="refAuthor">Pulido, A.</span>, <span class="refAuthor">Lehmann, K.</span>, and <span class="refAuthor">K. Koiwai</span>, <span class="refTitle">"OpenID Connect for Identity Assurance 1.0"</span>, <span>&lt;<a href="https://openid.net/specs/openid-connect-4-identity-assurance-1_0-13.html">https://openid.net/specs/openid-connect-4-identity-assurance-1_0-13.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC0020">[RFC0020]</dt>
      <dd>
<span class="refAuthor">Cerf, V.</span>, <span class="refTitle">"ASCII format for network interchange"</span>, <span class="seriesInfo">STD 80</span>, <span class="seriesInfo">RFC 20</span>, <span class="seriesInfo">DOI 10.17487/RFC0020</span>, <time datetime="1969-10" class="refDate">October 1969</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc20">https://www.rfc-editor.org/info/rfc20</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2046">[RFC2046]</dt>
      <dd>
<span class="refAuthor">Freed, N.</span> and <span class="refAuthor">N. Borenstein</span>, <span class="refTitle">"Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types"</span>, <span class="seriesInfo">RFC 2046</span>, <span class="seriesInfo">DOI 10.17487/RFC2046</span>, <time datetime="1996-11" class="refDate">November 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2046">https://www.rfc-editor.org/info/rfc2046</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6838">[RFC6838]</dt>
      <dd>
<span class="refAuthor">Freed, N.</span>, <span class="refAuthor">Klensin, J.</span>, and <span class="refAuthor">T. Hansen</span>, <span class="refTitle">"Media Type Specifications and Registration Procedures"</span>, <span class="seriesInfo">BCP 13</span>, <span class="seriesInfo">RFC 6838</span>, <span class="seriesInfo">DOI 10.17487/RFC6838</span>, <time datetime="2013-01" class="refDate">January 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6838">https://www.rfc-editor.org/info/rfc6838</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7516">[RFC7516]</dt>
      <dd>
<span class="refAuthor">Jones, M.</span> and <span class="refAuthor">J. Hildebrand</span>, <span class="refTitle">"JSON Web Encryption (JWE)"</span>, <span class="seriesInfo">RFC 7516</span>, <span class="seriesInfo">DOI 10.17487/RFC7516</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7516">https://www.rfc-editor.org/info/rfc7516</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7517">[RFC7517]</dt>
      <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refTitle">"JSON Web Key (JWK)"</span>, <span class="seriesInfo">RFC 7517</span>, <span class="seriesInfo">DOI 10.17487/RFC7517</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7517">https://www.rfc-editor.org/info/rfc7517</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7800">[RFC7800]</dt>
      <dd>
<span class="refAuthor">Jones, M.</span>, <span class="refAuthor">Bradley, J.</span>, and <span class="refAuthor">H. Tschofenig</span>, <span class="refTitle">"Proof-of-Possession Key Semantics for JSON Web Tokens (JWTs)"</span>, <span class="seriesInfo">RFC 7800</span>, <span class="seriesInfo">DOI 10.17487/RFC7800</span>, <time datetime="2016-04" class="refDate">April 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7800">https://www.rfc-editor.org/info/rfc7800</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8725">[RFC8725]</dt>
      <dd>
<span class="refAuthor">Sheffer, Y.</span>, <span class="refAuthor">Hardt, D.</span>, and <span class="refAuthor">M. Jones</span>, <span class="refTitle">"JSON Web Token Best Current Practices"</span>, <span class="seriesInfo">BCP 225</span>, <span class="seriesInfo">RFC 8725</span>, <span class="seriesInfo">DOI 10.17487/RFC8725</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8725">https://www.rfc-editor.org/info/rfc8725</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8785">[RFC8785]</dt>
      <dd>
<span class="refAuthor">Rundgren, A.</span>, <span class="refAuthor">Jordan, B.</span>, and <span class="refAuthor">S. Erdtman</span>, <span class="refTitle">"JSON Canonicalization Scheme (JCS)"</span>, <span class="seriesInfo">RFC 8785</span>, <span class="seriesInfo">DOI 10.17487/RFC8785</span>, <time datetime="2020-06" class="refDate">June 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8785">https://www.rfc-editor.org/info/rfc8785</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="VC_DATA_v2.0">[VC_DATA_v2.0]</dt>
      <dd>
<span class="refAuthor">Sporny, M.</span>, <span class="refAuthor">Steele, O.</span>, <span class="refAuthor">Jones, M. B.</span>, <span class="refAuthor">Cohen, G.</span>, and <span class="refAuthor">O. Terbu</span>, <span class="refTitle">"Verifiable Credentials Data Model 1.0"</span>, <time datetime="2023-03-07" class="refDate">7 March 2023</time>, <span>&lt;<a href="https://www.w3.org/TR/vc-data-model-2.0/">https://www.w3.org/TR/vc-data-model-2.0/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="VC_JWT">[VC_JWT]</dt>
    <dd>
<span class="refAuthor">Steele, O.</span> and <span class="refAuthor">M. B. Jones</span>, <span class="refTitle">"Securing Verifiable Credentials using JSON Web Tokens"</span>, <time datetime="2023-03-03" class="refDate">3 March 2023</time>, <span>&lt;<a href="https://w3c.github.io/vc-jwt/">https://w3c.github.io/vc-jwt/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="additional-examples">
<section id="appendix-A">
      <h2 id="name-additional-examples">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-additional-examples" class="section-name selfRef">Additional Examples</a>
      </h2>
<p id="appendix-A-1">All of the following examples are non-normative.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<div id="example-simple_structured">
<section id="appendix-A.1">
        <h3 id="name-example-2-handling-structur">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-example-2-handling-structur" class="section-name selfRef">Example 2: Handling Structured Claims</a>
        </h3>
<p id="appendix-A.1-1">This example uses the following object as the set of claims that the Issuer is issuing:<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.1-2">
<pre>{
  "sub": "6c5c0a49-b589-431d-bae7-219122a9ec2c",
  "given_name": "太郎",
  "family_name": "山田",
  "email": "\"unusual email address\"@example.jp",
  "phone_number": "+81-80-1234-5678",
  "address": {
    "street_address": "東京都港区芝公園４丁目２−８",
    "locality": "東京都",
    "region": "港区",
    "country": "JP"
  },
  "birthdate": "1940-01-01"
}
</pre><a href="#appendix-A.1-2" class="pilcrow">¶</a>
</div>
<p id="appendix-A.1-3">In contrast to <a href="#example-1">Example 1</a>, here the Issuer decided to create a structured object for the <code>address</code> claim, allowing for separate disclosure of the individual members of the claim, and also added decoy digests to prevent the Verifier from deducing the true number of claims. The following payload is used for the SD-JWT:<a href="#appendix-A.1-3" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.1-4">
<pre>{
  "_sd": [
    "C9inp6YoRaEXR427zYJP7Qrk1WH_8bdwOA_YUrUnGQU",
    "Kuet1yAa0HIQvYnOVd59hcViO9Ug6J2kSfqYRBeowvE",
    "MMldOFFzB2d0umlmpTIaGerhWdU_PpYfLvKhh_f_9aY",
    "X6ZAYOII2vPN40V7xExZwVwz7yRmLNcVwt5DL8RLv4g",
    "Y34zmIo0QLLOtdMpXGwjBgLvr17yEhhYT0FGofR-aIE",
    "fyGp0WTwwPv2JDQln1lSiaeobZsMWA10bQ5989-9DTs",
    "ommFAicVT8LGHCB0uywx7fYuo3MHYKO15cz-RZEYM5Q",
    "s0BKYsLWxQQeU8tVlltM7MKsIRTrEIa1PkJmqxBBf5U"
  ],
  "iss": "https://example.com/issuer",
  "iat": 1683000000,
  "exp": 1883000000,
  "address": {
    "_sd": [
      "6aUhzYhZ7SJ1kVmagQAO3u2ETN2CC1aHheZpKnaF0_E",
      "AzLlFobkJ2xiaupREPyoJz-9-NSldB6Cgjr7fUyoHzg",
      "PzzcVu0qbMuBGSjulfewzkesD9zutOExn5EWNwkrQ-k",
      "b2Dkw0jcIF9rGg8_PF8ZcvncW7zwZj5ryBWvXfrpzek",
      "cPYJHIZ8Vu-f9CCyVub2UfgEk8jvvXezwK1p_JneeXQ",
      "glT3hrSU7fSWgwF5UDZmWwBTw32gnUldIhi8hGVCaV4",
      "rvJd6iq6T5ejmsBMoGwuNXh9qAAFATAci40oidEeVsA",
      "uNHoWYhXsZhVJCNE2Dqy-zqt7t69gJKy5QaFv7GrMX4"
    ]
  },
  "_sd_alg": "sha-256"
}
</pre><a href="#appendix-A.1-4" class="pilcrow">¶</a>
</div>
<p id="appendix-A.1-5">The Disclosures of this SD-JWT are as follows:<a href="#appendix-A.1-5" class="pilcrow">¶</a></p>
<p id="appendix-A.1-6"><strong>Claim <code>sub</code></strong>:<a href="#appendix-A.1-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-7.1">SHA-256 Hash: <code>X6ZAYOII2vPN40V7xExZwVwz7yRmLNcVwt5DL8RLv4g</code><a href="#appendix-A.1-7.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-7.2">Disclosure:<br>
            <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgInN1YiIsICI2YzVjMGE0OS1i</code><br>
            <code>NTg5LTQzMWQtYmFlNy0yMTkxMjJhOWVjMmMiXQ</code><a href="#appendix-A.1-7.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-7.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "sub",</code><br>
            <code>"6c5c0a49-b589-431d-bae7-219122a9ec2c"]</code><a href="#appendix-A.1-7.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-8"><strong>Claim <code>given_name</code></strong>:<a href="#appendix-A.1-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-9.1">SHA-256 Hash: <code>ommFAicVT8LGHCB0uywx7fYuo3MHYKO15cz-RZEYM5Q</code><a href="#appendix-A.1-9.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-9.2">Disclosure:<br>
            <code>WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImdpdmVuX25hbWUiLCAiXHU1</code><br>
            <code>OTJhXHU5MGNlIl0</code><a href="#appendix-A.1-9.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-9.3">Contents:
<code>["eluV5Og3gSNII8EYnsxA_A", "given_name", "\u592a\u90ce"]</code><a href="#appendix-A.1-9.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-10"><strong>Claim <code>family_name</code></strong>:<a href="#appendix-A.1-10" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-11.1">SHA-256 Hash: <code>C9inp6YoRaEXR427zYJP7Qrk1WH_8bdwOA_YUrUnGQU</code><a href="#appendix-A.1-11.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-11.2">Disclosure:<br>
            <code>WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgImZhbWlseV9uYW1lIiwgIlx1</code><br>
            <code>NWM3MVx1NzUzMCJd</code><a href="#appendix-A.1-11.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-11.3">Contents:
<code>["6Ij7tM-a5iVPGboS5tmvVA", "family_name", "\u5c71\u7530"]</code><a href="#appendix-A.1-11.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-12"><strong>Claim <code>email</code></strong>:<a href="#appendix-A.1-12" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-13.1">SHA-256 Hash: <code>Kuet1yAa0HIQvYnOVd59hcViO9Ug6J2kSfqYRBeowvE</code><a href="#appendix-A.1-13.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-13.2">Disclosure:<br>
            <code>WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgImVtYWlsIiwgIlwidW51c3Vh</code><br>
            <code>bCBlbWFpbCBhZGRyZXNzXCJAZXhhbXBsZS5qcCJd</code><a href="#appendix-A.1-13.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-13.3">Contents:
<code>["eI8ZWm9QnKPpNPeNenHdhQ", "email", "\"unusual email</code><br>
            <code>address\"@example.jp"]</code><a href="#appendix-A.1-13.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-14"><strong>Claim <code>phone_number</code></strong>:<a href="#appendix-A.1-14" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-15.1">SHA-256 Hash: <code>s0BKYsLWxQQeU8tVlltM7MKsIRTrEIa1PkJmqxBBf5U</code><a href="#appendix-A.1-15.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-15.2">Disclosure:<br>
            <code>WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgInBob25lX251bWJlciIsICIr</code><br>
            <code>ODEtODAtMTIzNC01Njc4Il0</code><a href="#appendix-A.1-15.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-15.3">Contents:
<code>["Qg_O64zqAxe412a108iroA", "phone_number",</code><br>
            <code>"+81-80-1234-5678"]</code><a href="#appendix-A.1-15.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-16"><strong>Claim <code>street_address</code></strong>:<a href="#appendix-A.1-16" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-17.1">SHA-256 Hash: <code>6aUhzYhZ7SJ1kVmagQAO3u2ETN2CC1aHheZpKnaF0_E</code><a href="#appendix-A.1-17.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-17.2">Disclosure:<br>
            <code>WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgInN0cmVldF9hZGRyZXNzIiwg</code><br>
            <code>Ilx1Njc3MVx1NGVhY1x1OTBmZFx1NmUyZlx1NTMzYVx1ODI5ZFx1NTE2Y1x1</code><br>
            <code>NTcxMlx1ZmYxNFx1NGUwMVx1NzZlZVx1ZmYxMlx1MjIxMlx1ZmYxOCJd</code><a href="#appendix-A.1-17.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-17.3">Contents:
<code>["AJx-095VPrpTtN4QMOqROA", "street_address", "\u6771\u4eac\u</code><br>
            <code>90fd\u6e2f\u533a\u829d\u516c\u5712\uff14\u4e01\u76ee\uff12\u</code><br>
            <code>2212\uff18"]</code><a href="#appendix-A.1-17.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-18"><strong>Claim <code>locality</code></strong>:<a href="#appendix-A.1-18" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-19.1">SHA-256 Hash: <code>rvJd6iq6T5ejmsBMoGwuNXh9qAAFATAci40oidEeVsA</code><a href="#appendix-A.1-19.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-19.2">Disclosure:<br>
            <code>WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZRIiwgImxvY2FsaXR5IiwgIlx1Njc3</code><br>
            <code>MVx1NGVhY1x1OTBmZCJd</code><a href="#appendix-A.1-19.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-19.3">Contents:
<code>["Pc33JM2LchcU_lHggv_ufQ", "locality", "\u6771\u4eac\u90fd"]</code><a href="#appendix-A.1-19.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-20"><strong>Claim <code>region</code></strong>:<a href="#appendix-A.1-20" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-21.1">SHA-256 Hash: <code>PzzcVu0qbMuBGSjulfewzkesD9zutOExn5EWNwkrQ-k</code><a href="#appendix-A.1-21.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-21.2">Disclosure:<br>
            <code>WyJHMDJOU3JRZmpGWFE3SW8wOXN5YWpBIiwgInJlZ2lvbiIsICJcdTZlMmZc</code><br>
            <code>dTUzM2EiXQ</code><a href="#appendix-A.1-21.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-21.3">Contents:
<code>["G02NSrQfjFXQ7Io09syajA", "region", "\u6e2f\u533a"]</code><a href="#appendix-A.1-21.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-22"><strong>Claim <code>country</code></strong>:<a href="#appendix-A.1-22" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-23.1">SHA-256 Hash: <code>uNHoWYhXsZhVJCNE2Dqy-zqt7t69gJKy5QaFv7GrMX4</code><a href="#appendix-A.1-23.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-23.2">Disclosure:<br>
            <code>WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgImNvdW50cnkiLCAiSlAiXQ</code><a href="#appendix-A.1-23.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-23.3">Contents:
<code>["lklxF5jMYlGTPUovMNIvCA", "country", "JP"]</code><a href="#appendix-A.1-23.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-24"><strong>Claim <code>birthdate</code></strong>:<a href="#appendix-A.1-24" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-25.1">SHA-256 Hash: <code>MMldOFFzB2d0umlmpTIaGerhWdU_PpYfLvKhh_f_9aY</code><a href="#appendix-A.1-25.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-25.2">Disclosure:<br>
            <code>WyJ5eXRWYmRBUEdjZ2wyckk0QzlHU29nIiwgImJpcnRoZGF0ZSIsICIxOTQw</code><br>
            <code>LTAxLTAxIl0</code><a href="#appendix-A.1-25.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-25.3">Contents:
<code>["yytVbdAPGcgl2rI4C9GSog", "birthdate", "1940-01-01"]</code><a href="#appendix-A.1-25.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-26">The Issuer added the following decoy digests:<a href="#appendix-A.1-26" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.1-27.1">
            <code>AzLlFobkJ2xiaupREPyoJz-9-NSldB6Cgjr7fUyoHzg</code><a href="#appendix-A.1-27.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-27.2">
            <code>cPYJHIZ8Vu-f9CCyVub2UfgEk8jvvXezwK1p_JneeXQ</code><a href="#appendix-A.1-27.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-27.3">
            <code>glT3hrSU7fSWgwF5UDZmWwBTw32gnUldIhi8hGVCaV4</code><a href="#appendix-A.1-27.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-27.4">
            <code>b2Dkw0jcIF9rGg8_PF8ZcvncW7zwZj5ryBWvXfrpzek</code><a href="#appendix-A.1-27.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-27.5">
            <code>fyGp0WTwwPv2JDQln1lSiaeobZsMWA10bQ5989-9DTs</code><a href="#appendix-A.1-27.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-27.6">
            <code>Y34zmIo0QLLOtdMpXGwjBgLvr17yEhhYT0FGofR-aIE</code><a href="#appendix-A.1-27.6" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.1-28">A presentation of the SD-JWT that discloses only <code>region</code>
and <code>country</code> of the <code>address</code> property and without a Key Binding JWT could look as follows:<a href="#appendix-A.1-28" class="pilcrow">¶</a></p>
<div class="lang-txt sourcecode" id="appendix-A.1-29">
<pre>eyJhbGciOiAiRVMyNTYifQ.eyJfc2QiOiBbIkM5aW5wNllvUmFFWFI0Mjd6WUpQN1Fya
zFXSF84YmR3T0FfWVVyVW5HUVUiLCAiS3VldDF5QWEwSElRdlluT1ZkNTloY1ZpTzlVZ
zZKMmtTZnFZUkJlb3d2RSIsICJNTWxkT0ZGekIyZDB1bWxtcFRJYUdlcmhXZFVfUHBZZ
kx2S2hoX2ZfOWFZIiwgIlg2WkFZT0lJMnZQTjQwVjd4RXhad1Z3ejd5Um1MTmNWd3Q1R
Ew4Ukx2NGciLCAiWTM0em1JbzBRTExPdGRNcFhHd2pCZ0x2cjE3eUVoaFlUMEZHb2ZSL
WFJRSIsICJmeUdwMFdUd3dQdjJKRFFsbjFsU2lhZW9iWnNNV0ExMGJRNTk4OS05RFRzI
iwgIm9tbUZBaWNWVDhMR0hDQjB1eXd4N2ZZdW8zTUhZS08xNWN6LVJaRVlNNVEiLCAic
zBCS1lzTFd4UVFlVTh0VmxsdE03TUtzSVJUckVJYTFQa0ptcXhCQmY1VSJdLCAiaXNzI
jogImh0dHBzOi8vZXhhbXBsZS5jb20vaXNzdWVyIiwgImlhdCI6IDE2ODMwMDAwMDAsI
CJleHAiOiAxODgzMDAwMDAwLCAiYWRkcmVzcyI6IHsiX3NkIjogWyI2YVVoelloWjdTS
jFrVm1hZ1FBTzN1MkVUTjJDQzFhSGhlWnBLbmFGMF9FIiwgIkF6TGxGb2JrSjJ4aWF1c
FJFUHlvSnotOS1OU2xkQjZDZ2pyN2ZVeW9IemciLCAiUHp6Y1Z1MHFiTXVCR1NqdWxmZ
Xd6a2VzRDl6dXRPRXhuNUVXTndrclEtayIsICJiMkRrdzBqY0lGOXJHZzhfUEY4WmN2b
mNXN3p3Wmo1cnlCV3ZYZnJwemVrIiwgImNQWUpISVo4VnUtZjlDQ3lWdWIyVWZnRWs4a
nZ2WGV6d0sxcF9KbmVlWFEiLCAiZ2xUM2hyU1U3ZlNXZ3dGNVVEWm1Xd0JUdzMyZ25Vb
GRJaGk4aEdWQ2FWNCIsICJydkpkNmlxNlQ1ZWptc0JNb0d3dU5YaDlxQUFGQVRBY2k0M
G9pZEVlVnNBIiwgInVOSG9XWWhYc1poVkpDTkUyRHF5LXpxdDd0NjlnSkt5NVFhRnY3R
3JNWDQiXX0sICJfc2RfYWxnIjogInNoYS0yNTYifQ.cPz0K5S0HgU6iPo5-YNQN7jIjH
1hCs62BC4yWkgUzVT0DFX4LColuzV1OQuk6BK6sLoSBWp4RKgUbyA2Q3wNkw~WyJHMDJ
OU3JRZmpGWFE3SW8wOXN5YWpBIiwgInJlZ2lvbiIsICJcdTZlMmZcdTUzM2EiXQ~WyJs
a2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgImNvdW50cnkiLCAiSlAiXQ~
</pre><a href="#appendix-A.1-29" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="example-complex-structured-sd-jwt">
<section id="appendix-A.2">
        <h3 id="name-example-3-complex-structure">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-example-3-complex-structure" class="section-name selfRef">Example 3 - Complex Structured SD-JWT</a>
        </h3>
<p id="appendix-A.2-1">In this example, an SD-JWT with a complex object is demonstrated. Here, the data
structures defined in OIDC4IDA <span>[<a href="#OIDC.IDA" class="cite xref">OIDC.IDA</a>]</span> are used.<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2-2">The Issuer is using the following user data:<a href="#appendix-A.2-2" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.2-3">
<pre>{
  "verified_claims": {
    "verification": {
      "trust_framework": "de_aml",
      "time": "2012-04-23T18:25Z",
      "verification_process": "f24c6f-6d3f-4ec5-973e-b0d8506f3bc7",
      "evidence": [
        {
          "type": "document",
          "method": "pipp",
          "time": "2012-04-22T11:30Z",
          "document": {
            "type": "idcard",
            "issuer": {
              "name": "Stadt Augsburg",
              "country": "DE"
            },
            "number": "53554554",
            "date_of_issuance": "2010-03-23",
            "date_of_expiry": "2020-03-22"
          }
        }
      ]
    },
    "claims": {
      "given_name": "Max",
      "family_name": "Müller",
      "nationalities": [
        "DE"
      ],
      "birthdate": "1956-01-28",
      "place_of_birth": {
        "country": "IS",
        "locality": "Þykkvabæjarklaustur"
      },
      "address": {
        "locality": "Maxstadt",
        "postal_code": "12344",
        "country": "DE",
        "street_address": "Weidenstraße 22"
      }
    }
  },
  "birth_middle_name": "Timotheus",
  "salutation": "Dr.",
  "msisdn": "49123456789"
}
</pre><a href="#appendix-A.2-3" class="pilcrow">¶</a>
</div>
<p id="appendix-A.2-4">The Issuer in this example sends the two claims <code>birthdate</code> and <code>place_of_birth</code> in the <code>claims</code> element in plain text. The following shows the resulting SD-JWT payload:<a href="#appendix-A.2-4" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.2-5">
<pre>{
  "_sd": [
    "-aSznId9mWM8ocuQolCllsxVggq1-vHW4OtnhUtVmWw",
    "IKbrYNn3vA7WEFrysvbdBJjDDU_EvQIr0W18vTRpUSg",
    "otkxuT14nBiwzNJ3MPaOitOl9pVnXOaEHal_xkyNfKI"
  ],
  "iss": "https://example.com/issuer",
  "iat": 1683000000,
  "exp": 1883000000,
  "verified_claims": {
    "verification": {
      "_sd": [
        "7h4UE9qScvDKodXVCuoKfKBJpVBfXMF_TmAGVaZe3Sc",
        "vTwe3raHIFYgFA3xaUD2aMxFz5oDo8iBu05qKlOg9Lw"
      ],
      "trust_framework": "de_aml",
      "evidence": [
        {
          "...": "tYJ0TDucyZZCRMbROG4qRO5vkPSFRxFhUELc18CSl3k"
        }
      ]
    },
    "claims": {
      "_sd": [
        "RiOiCn6_w5ZHaadkQMrcQJf0Jte5RwurRs54231DTlo",
        "S_498bbpKzB6Eanftss0xc7cOaoneRr3pKr7NdRmsMo",
        "WNA-UNK7F_zhsAb9syWO6IIQ1uHlTmOU8r8CvJ0cIMk",
        "Wxh_sV3iRH9bgrTBJi-aYHNCLt-vjhX1sd-igOf_9lk",
        "_O-wJiH3enSB4ROHntToQT8JmLtz-mhO2f1c89XoerQ",
        "hvDXhwmGcJQsBCA2OtjuLAcwAMpDsaU0nkovcKOqWNE"
      ]
    }
  },
  "_sd_alg": "sha-256"
}
</pre><a href="#appendix-A.2-5" class="pilcrow">¶</a>
</div>
<p id="appendix-A.2-6">With the following Disclosures:<a href="#appendix-A.2-6" class="pilcrow">¶</a></p>
<p id="appendix-A.2-7"><strong>Claim <code>time</code></strong>:<a href="#appendix-A.2-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-8.1">SHA-256 Hash: <code>vTwe3raHIFYgFA3xaUD2aMxFz5oDo8iBu05qKlOg9Lw</code><a href="#appendix-A.2-8.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-8.2">Disclosure:<br>
            <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgInRpbWUiLCAiMjAxMi0wNC0y</code><br>
            <code>M1QxODoyNVoiXQ</code><a href="#appendix-A.2-8.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-8.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "time", "2012-04-23T18:25Z"]</code><a href="#appendix-A.2-8.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-9"><strong>Claim <code>verification_process</code></strong>:<a href="#appendix-A.2-9" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-10.1">SHA-256 Hash: <code>7h4UE9qScvDKodXVCuoKfKBJpVBfXMF_TmAGVaZe3Sc</code><a href="#appendix-A.2-10.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-10.2">Disclosure:<br>
            <code>WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgInZlcmlmaWNhdGlvbl9wcm9j</code><br>
            <code>ZXNzIiwgImYyNGM2Zi02ZDNmLTRlYzUtOTczZS1iMGQ4NTA2ZjNiYzciXQ</code><a href="#appendix-A.2-10.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-10.3">Contents:
<code>["eluV5Og3gSNII8EYnsxA_A", "verification_process",</code><br>
            <code>"f24c6f-6d3f-4ec5-973e-b0d8506f3bc7"]</code><a href="#appendix-A.2-10.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-11"><strong>Claim <code>type</code></strong>:<a href="#appendix-A.2-11" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-12.1">SHA-256 Hash: <code>G5EnhOAOoU9X_6QMNvzFXjpEA_Rc-AEtm1bG_wcaKIk</code><a href="#appendix-A.2-12.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-12.2">Disclosure:<br>
            <code>WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgInR5cGUiLCAiZG9jdW1lbnQi</code><br>
            <code>XQ</code><a href="#appendix-A.2-12.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-12.3">Contents:
<code>["6Ij7tM-a5iVPGboS5tmvVA", "type", "document"]</code><a href="#appendix-A.2-12.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-13"><strong>Claim <code>method</code></strong>:<a href="#appendix-A.2-13" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-14.1">SHA-256 Hash: <code>WpxQ4HSoEtcTmCCKOeDslB_emucYLz2oO8oHNr1bEVQ</code><a href="#appendix-A.2-14.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-14.2">Disclosure:<br>
            <code>WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgIm1ldGhvZCIsICJwaXBwIl0</code><a href="#appendix-A.2-14.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-14.3">Contents:
<code>["eI8ZWm9QnKPpNPeNenHdhQ", "method", "pipp"]</code><a href="#appendix-A.2-14.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-15"><strong>Claim <code>time</code></strong>:<a href="#appendix-A.2-15" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-16.1">SHA-256 Hash: <code>9wpjVPWuD7PK0nsQDL8B06lmdgV3LVybhHydQpTNyLI</code><a href="#appendix-A.2-16.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-16.2">Disclosure:<br>
            <code>WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgInRpbWUiLCAiMjAxMi0wNC0y</code><br>
            <code>MlQxMTozMFoiXQ</code><a href="#appendix-A.2-16.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-16.3">Contents:
<code>["Qg_O64zqAxe412a108iroA", "time", "2012-04-22T11:30Z"]</code><a href="#appendix-A.2-16.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-17"><strong>Claim <code>document</code></strong>:<a href="#appendix-A.2-17" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-18.1">SHA-256 Hash: <code>IhwFrWUB63RcZq9yvgZ0XPc7Gowh3O2kqXeBIswg1B4</code><a href="#appendix-A.2-18.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-18.2">Disclosure:<br>
            <code>WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgImRvY3VtZW50IiwgeyJ0eXBl</code><br>
            <code>IjogImlkY2FyZCIsICJpc3N1ZXIiOiB7Im5hbWUiOiAiU3RhZHQgQXVnc2J1</code><br>
            <code>cmciLCAiY291bnRyeSI6ICJERSJ9LCAibnVtYmVyIjogIjUzNTU0NTU0Iiwg</code><br>
            <code>ImRhdGVfb2ZfaXNzdWFuY2UiOiAiMjAxMC0wMy0yMyIsICJkYXRlX29mX2V4</code><br>
            <code>cGlyeSI6ICIyMDIwLTAzLTIyIn1d</code><a href="#appendix-A.2-18.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-18.3">Contents:
<code>["AJx-095VPrpTtN4QMOqROA", "document", {"type": "idcard",</code><br>
            <code>"issuer": {"name": "Stadt Augsburg", "country": "DE"},</code><br>
            <code>"number": "53554554", "date_of_issuance": "2010-03-23",</code><br>
            <code>"date_of_expiry": "2020-03-22"}]</code><a href="#appendix-A.2-18.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-19"><strong>Array Entry</strong>:<a href="#appendix-A.2-19" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-20.1">SHA-256 Hash: <code>tYJ0TDucyZZCRMbROG4qRO5vkPSFRxFhUELc18CSl3k</code><a href="#appendix-A.2-20.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-20.2">Disclosure:<br>
            <code>WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZRIiwgeyJfc2QiOiBbIjl3cGpWUFd1</code><br>
            <code>RDdQSzBuc1FETDhCMDZsbWRnVjNMVnliaEh5ZFFwVE55TEkiLCAiRzVFbmhP</code><br>
            <code>QU9vVTlYXzZRTU52ekZYanBFQV9SYy1BRXRtMWJHX3djYUtJayIsICJJaHdG</code><br>
            <code>cldVQjYzUmNacTl5dmdaMFhQYzdHb3doM08ya3FYZUJJc3dnMUI0IiwgIldw</code><br>
            <code>eFE0SFNvRXRjVG1DQ0tPZURzbEJfZW11Y1lMejJvTzhvSE5yMWJFVlEiXX1d</code><a href="#appendix-A.2-20.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-20.3">Contents:
<code>["Pc33JM2LchcU_lHggv_ufQ", {"_sd":</code><br>
            <code>["9wpjVPWuD7PK0nsQDL8B06lmdgV3LVybhHydQpTNyLI",</code><br>
            <code>"G5EnhOAOoU9X_6QMNvzFXjpEA_Rc-AEtm1bG_wcaKIk",</code><br>
            <code>"IhwFrWUB63RcZq9yvgZ0XPc7Gowh3O2kqXeBIswg1B4",</code><br>
            <code>"WpxQ4HSoEtcTmCCKOeDslB_emucYLz2oO8oHNr1bEVQ"]}]</code><a href="#appendix-A.2-20.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-21"><strong>Claim <code>given_name</code></strong>:<a href="#appendix-A.2-21" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-22.1">SHA-256 Hash: <code>S_498bbpKzB6Eanftss0xc7cOaoneRr3pKr7NdRmsMo</code><a href="#appendix-A.2-22.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-22.2">Disclosure:<br>
            <code>WyJHMDJOU3JRZmpGWFE3SW8wOXN5YWpBIiwgImdpdmVuX25hbWUiLCAiTWF4</code><br>
            <code>Il0</code><a href="#appendix-A.2-22.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-22.3">Contents:
<code>["G02NSrQfjFXQ7Io09syajA", "given_name", "Max"]</code><a href="#appendix-A.2-22.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-23"><strong>Claim <code>family_name</code></strong>:<a href="#appendix-A.2-23" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-24.1">SHA-256 Hash: <code>Wxh_sV3iRH9bgrTBJi-aYHNCLt-vjhX1sd-igOf_9lk</code><a href="#appendix-A.2-24.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-24.2">Disclosure:<br>
            <code>WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgImZhbWlseV9uYW1lIiwgIk1c</code><br>
            <code>dTAwZmNsbGVyIl0</code><a href="#appendix-A.2-24.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-24.3">Contents:
<code>["lklxF5jMYlGTPUovMNIvCA", "family_name", "M\u00fcller"]</code><a href="#appendix-A.2-24.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-25"><strong>Claim <code>nationalities</code></strong>:<a href="#appendix-A.2-25" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-26.1">SHA-256 Hash: <code>hvDXhwmGcJQsBCA2OtjuLAcwAMpDsaU0nkovcKOqWNE</code><a href="#appendix-A.2-26.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-26.2">Disclosure:<br>
            <code>WyJuUHVvUW5rUkZxM0JJZUFtN0FuWEZBIiwgIm5hdGlvbmFsaXRpZXMiLCBb</code><br>
            <code>IkRFIl1d</code><a href="#appendix-A.2-26.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-26.3">Contents:
<code>["nPuoQnkRFq3BIeAm7AnXFA", "nationalities", ["DE"]]</code><a href="#appendix-A.2-26.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-27"><strong>Claim <code>birthdate</code></strong>:<a href="#appendix-A.2-27" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-28.1">SHA-256 Hash: <code>WNA-UNK7F_zhsAb9syWO6IIQ1uHlTmOU8r8CvJ0cIMk</code><a href="#appendix-A.2-28.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-28.2">Disclosure:<br>
            <code>WyI1YlBzMUlxdVpOYTBoa2FGenp6Wk53IiwgImJpcnRoZGF0ZSIsICIxOTU2</code><br>
            <code>LTAxLTI4Il0</code><a href="#appendix-A.2-28.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-28.3">Contents:
<code>["5bPs1IquZNa0hkaFzzzZNw", "birthdate", "1956-01-28"]</code><a href="#appendix-A.2-28.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-29"><strong>Claim <code>place_of_birth</code></strong>:<a href="#appendix-A.2-29" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-30.1">SHA-256 Hash: <code>RiOiCn6_w5ZHaadkQMrcQJf0Jte5RwurRs54231DTlo</code><a href="#appendix-A.2-30.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-30.2">Disclosure:<br>
            <code>WyI1YTJXMF9OcmxFWnpmcW1rXzdQcS13IiwgInBsYWNlX29mX2JpcnRoIiwg</code><br>
            <code>eyJjb3VudHJ5IjogIklTIiwgImxvY2FsaXR5IjogIlx1MDBkZXlra3ZhYlx1</code><br>
            <code>MDBlNmphcmtsYXVzdHVyIn1d</code><a href="#appendix-A.2-30.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-30.3">Contents:
<code>["5a2W0_NrlEZzfqmk_7Pq-w", "place_of_birth", {"country":</code><br>
            <code>"IS", "locality": "\u00deykkvab\u00e6jarklaustur"}]</code><a href="#appendix-A.2-30.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-31"><strong>Claim <code>address</code></strong>:<a href="#appendix-A.2-31" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-32.1">SHA-256 Hash: <code>_O-wJiH3enSB4ROHntToQT8JmLtz-mhO2f1c89XoerQ</code><a href="#appendix-A.2-32.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-32.2">Disclosure:<br>
            <code>WyJ5MXNWVTV3ZGZKYWhWZGd3UGdTN1JRIiwgImFkZHJlc3MiLCB7ImxvY2Fs</code><br>
            <code>aXR5IjogIk1heHN0YWR0IiwgInBvc3RhbF9jb2RlIjogIjEyMzQ0IiwgImNv</code><br>
            <code>dW50cnkiOiAiREUiLCAic3RyZWV0X2FkZHJlc3MiOiAiV2VpZGVuc3RyYVx1</code><br>
            <code>MDBkZmUgMjIifV0</code><a href="#appendix-A.2-32.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-32.3">Contents:
<code>["y1sVU5wdfJahVdgwPgS7RQ", "address", {"locality":</code><br>
            <code>"Maxstadt", "postal_code": "12344", "country": "DE",</code><br>
            <code>"street_address": "Weidenstra\u00dfe 22"}]</code><a href="#appendix-A.2-32.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-33"><strong>Claim <code>birth_middle_name</code></strong>:<a href="#appendix-A.2-33" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-34.1">SHA-256 Hash: <code>otkxuT14nBiwzNJ3MPaOitOl9pVnXOaEHal_xkyNfKI</code><a href="#appendix-A.2-34.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-34.2">Disclosure:<br>
            <code>WyJIYlE0WDhzclZXM1FEeG5JSmRxeU9BIiwgImJpcnRoX21pZGRsZV9uYW1l</code><br>
            <code>IiwgIlRpbW90aGV1cyJd</code><a href="#appendix-A.2-34.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-34.3">Contents:
<code>["HbQ4X8srVW3QDxnIJdqyOA", "birth_middle_name", "Timotheus"]</code><a href="#appendix-A.2-34.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-35"><strong>Claim <code>salutation</code></strong>:<a href="#appendix-A.2-35" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-36.1">SHA-256 Hash: <code>-aSznId9mWM8ocuQolCllsxVggq1-vHW4OtnhUtVmWw</code><a href="#appendix-A.2-36.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-36.2">Disclosure:<br>
            <code>WyJDOUdTb3VqdmlKcXVFZ1lmb2pDYjFBIiwgInNhbHV0YXRpb24iLCAiRHIu</code><br>
            <code>Il0</code><a href="#appendix-A.2-36.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-36.3">Contents:
<code>["C9GSoujviJquEgYfojCb1A", "salutation", "Dr."]</code><a href="#appendix-A.2-36.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-37"><strong>Claim <code>msisdn</code></strong>:<a href="#appendix-A.2-37" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-38.1">SHA-256 Hash: <code>IKbrYNn3vA7WEFrysvbdBJjDDU_EvQIr0W18vTRpUSg</code><a href="#appendix-A.2-38.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-38.2">Disclosure:<br>
            <code>WyJreDVrRjE3Vi14MEptd1V4OXZndnR3IiwgIm1zaXNkbiIsICI0OTEyMzQ1</code><br>
            <code>Njc4OSJd</code><a href="#appendix-A.2-38.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-38.3">Contents:
<code>["kx5kF17V-x0JmwUx9vgvtw", "msisdn", "49123456789"]</code><a href="#appendix-A.2-38.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-39">The following is a non-normative example of a presented SD-JWT
without a Key Binding JWT that the Verifier would receive with a selection
of the Disclosures:<a href="#appendix-A.2-39" class="pilcrow">¶</a></p>
<div class="lang-txt sourcecode" id="appendix-A.2-40">
<pre>eyJhbGciOiAiRVMyNTYifQ.eyJfc2QiOiBbIi1hU3puSWQ5bVdNOG9jdVFvbENsbHN4V
mdncTEtdkhXNE90bmhVdFZtV3ciLCAiSUticllObjN2QTdXRUZyeXN2YmRCSmpERFVfR
XZRSXIwVzE4dlRScFVTZyIsICJvdGt4dVQxNG5CaXd6TkozTVBhT2l0T2w5cFZuWE9hR
UhhbF94a3lOZktJIl0sICJpc3MiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9pc3N1ZXIiL
CAiaWF0IjogMTY4MzAwMDAwMCwgImV4cCI6IDE4ODMwMDAwMDAsICJ2ZXJpZmllZF9jb
GFpbXMiOiB7InZlcmlmaWNhdGlvbiI6IHsiX3NkIjogWyI3aDRVRTlxU2N2REtvZFhWQ
3VvS2ZLQkpwVkJmWE1GX1RtQUdWYVplM1NjIiwgInZUd2UzcmFISUZZZ0ZBM3hhVUQyY
U14Rno1b0RvOGlCdTA1cUtsT2c5THciXSwgInRydXN0X2ZyYW1ld29yayI6ICJkZV9hb
WwiLCAiZXZpZGVuY2UiOiBbeyIuLi4iOiAidFlKMFREdWN5WlpDUk1iUk9HNHFSTzV2a
1BTRlJ4RmhVRUxjMThDU2wzayJ9XX0sICJjbGFpbXMiOiB7Il9zZCI6IFsiUmlPaUNuN
l93NVpIYWFka1FNcmNRSmYwSnRlNVJ3dXJSczU0MjMxRFRsbyIsICJTXzQ5OGJicEt6Q
jZFYW5mdHNzMHhjN2NPYW9uZVJyM3BLcjdOZFJtc01vIiwgIldOQS1VTks3Rl96aHNBY
jlzeVdPNklJUTF1SGxUbU9VOHI4Q3ZKMGNJTWsiLCAiV3hoX3NWM2lSSDliZ3JUQkppL
WFZSE5DTHQtdmpoWDFzZC1pZ09mXzlsayIsICJfTy13SmlIM2VuU0I0Uk9IbnRUb1FUO
EptTHR6LW1oTzJmMWM4OVhvZXJRIiwgImh2RFhod21HY0pRc0JDQTJPdGp1TEFjd0FNc
ERzYVUwbmtvdmNLT3FXTkUiXX19LCAiX3NkX2FsZyI6ICJzaGEtMjU2In0.GF7G7pGlj
hnuWZlgpSw87JcDkl4UJ_70KOgEmHctd3hdJraFFh-LgMKCTGE4zyWi7UngWveGVT46Q
Oxsjjg-EA~WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgInRpbWUiLCAiMjAxMi0wNC
0yM1QxODoyNVoiXQ~WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZRIiwgeyJfc2QiOiBbIjl
3cGpWUFd1RDdQSzBuc1FETDhCMDZsbWRnVjNMVnliaEh5ZFFwVE55TEkiLCAiRzVFbmh
PQU9vVTlYXzZRTU52ekZYanBFQV9SYy1BRXRtMWJHX3djYUtJayIsICJJaHdGcldVQjY
zUmNacTl5dmdaMFhQYzdHb3doM08ya3FYZUJJc3dnMUI0IiwgIldweFE0SFNvRXRjVG1
DQ0tPZURzbEJfZW11Y1lMejJvTzhvSE5yMWJFVlEiXX1d~WyJlSThaV205UW5LUHBOUG
VOZW5IZGhRIiwgIm1ldGhvZCIsICJwaXBwIl0~WyJHMDJOU3JRZmpGWFE3SW8wOXN5YW
pBIiwgImdpdmVuX25hbWUiLCAiTWF4Il0~WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIi
wgImZhbWlseV9uYW1lIiwgIk1cdTAwZmNsbGVyIl0~WyJ5MXNWVTV3ZGZKYWhWZGd3UG
dTN1JRIiwgImFkZHJlc3MiLCB7ImxvY2FsaXR5IjogIk1heHN0YWR0IiwgInBvc3RhbF
9jb2RlIjogIjEyMzQ0IiwgImNvdW50cnkiOiAiREUiLCAic3RyZWV0X2FkZHJlc3MiOi
AiV2VpZGVuc3RyYVx1MDBkZmUgMjIifV0~
</pre><a href="#appendix-A.2-40" class="pilcrow">¶</a>
</div>
<p id="appendix-A.2-41">After the verification of the data, the Verifier will
pass the following result on to the application for further processing:<a href="#appendix-A.2-41" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.2-42">
<pre>{
  "iss": "https://example.com/issuer",
  "iat": 1683000000,
  "exp": 1883000000,
  "verified_claims": {
    "verification": {
      "trust_framework": "de_aml",
      "evidence": [
        {
          "method": "pipp"
        }
      ],
      "time": "2012-04-23T18:25Z"
    },
    "claims": {
      "given_name": "Max",
      "family_name": "Müller",
      "address": {
        "locality": "Maxstadt",
        "postal_code": "12344",
        "country": "DE",
        "street_address": "Weidenstraße 22"
      }
    }
  },
  "_sd_alg": "sha-256"
}
</pre><a href="#appendix-A.2-42" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="example-4a-w3c-verifiable-credentials-data-model-v2-0-not-using-json-ld">
<section id="appendix-A.3">
        <h3 id="name-example-4a-w3c-verifiable-c">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-example-4a-w3c-verifiable-c" class="section-name selfRef">Example 4a - W3C Verifiable Credentials Data Model v2.0, not using JSON-LD</a>
        </h3>
<p id="appendix-A.3-1">This example illustrates how to use the artifacts defined in this specification to secure a payload
that is represented as a W3C Verifiable Credentials Data Model v2.0 <span>[<a href="#VC_DATA_v2.0" class="cite xref">VC_DATA_v2.0</a>]</span>
and does not use JSON-LD to provide semantic definitions for claims. The example uses a content type <code>credential-claims-set+json</code> defined in <span>[<a href="#VC_JWT" class="cite xref">VC_JWT</a>]</span>, Section 3 in a <code>cty</code> JOSE Header value.<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
<p id="appendix-A.3-2">SD-JWT is equivalent to an Issuer-signed W3C Verifiable Credential (W3C VC). Disclosures are sent alongside a W3C VC.<a href="#appendix-A.3-2" class="pilcrow">¶</a></p>
<p id="appendix-A.3-3">A Holder-signed Verifiable Presentation as defined in <span>[<a href="#VC_DATA_v2.0" class="cite xref">VC_DATA_v2.0</a>]</span> is equivalent to
an SD-JWT Presentation with a Key Binding JWT.<a href="#appendix-A.3-3" class="pilcrow">¶</a></p>
<p id="appendix-A.3-4">In this example, Key Binding is applied and Verifiable Presentation can be signed using
a Holder's public key passed in a <code>cnf</code> Claim in the SD-JWT.<a href="#appendix-A.3-4" class="pilcrow">¶</a></p>
<p id="appendix-A.3-5">Below is a non-normative example of an SD-JWT represented as a W3C VC without using JSON-LD.<a href="#appendix-A.3-5" class="pilcrow">¶</a></p>
<p id="appendix-A.3-6">The following data will be used in this example:<a href="#appendix-A.3-6" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.3-7">
<pre>{
  "iss": "https://example.com",
  "jti": "http://example.com/credentials/3732",
  "nbf": 1541493724,
  "iat": 1541493724,
  "cnf": {
    "jwk": {
      "kty": "RSA",
      "n": "0vx7agoebGcQSuuPiLJXZptN9nndrQmbXEps2aiAFbWhM78LhWx4cbbf
        AAtVT86zwu1RK7aPFFxuhDR1L6tSoc_BJECPebWKRXjBZCiFV4n3oknjhMst
        n64tZ_2W-5JsGY4Hc5n9yBXArwl93lqt7_RN5w6Cf0h4QyQ5v-65YGjQR0_F
        DW2QvzqY368QQMicAtaSqzs8KJZgnYb9c7d0zgdAZHzu6qMQvRL5hajrn1n9
        1CbOpbISD08qNLyrdkt-bFTWhAI4vMQFh6WeZu0fM4lFd2NcRwr3XPksINHa
        Q-G_xBniIqbw0Ls1jF44-csFCur-kEgU8awapJzKnqDKgw",
      "e": "AQAB"
    }
  },
  "type": "IdentityCredential",
  "credentialSubject": {
    "given_name": "John",
    "family_name": "Doe",
    "email": "johndoe@example.com",
    "phone_number": "+1-202-555-0101",
    "address": {
      "street_address": "123 Main St",
      "locality": "Anytown",
      "region": "Anystate",
      "country": "US"
    },
    "birthdate": "1940-01-01",
    "is_over_18": true,
    "is_over_21": true,
    "is_over_65": true
  }
}
</pre><a href="#appendix-A.3-7" class="pilcrow">¶</a>
</div>
<p id="appendix-A.3-8">The payload of a corresponding SD-JWT looks as follows:<a href="#appendix-A.3-8" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.3-9">
<pre>{
  "iss": "https://example.com",
  "iat": 1541493724,
  "exp": 1883000000,
  "jti": "http://example.com/credentials/3732",
  "nbf": 1541493724,
  "cnf": {
    "jwk": {
      "kty": "RSA",
      "n": "0vx7agoebGcQSuuPiLJXZptN9nndrQmbXEps2aiAFbWhM78LhWx4cbbf
        AAtVT86zwu1RK7aPFFxuhDR1L6tSoc_BJECPebWKRXjBZCiFV4n3oknjhMst
        n64tZ_2W-5JsGY4Hc5n9yBXArwl93lqt7_RN5w6Cf0h4QyQ5v-65YGjQR0_F
        DW2QvzqY368QQMicAtaSqzs8KJZgnYb9c7d0zgdAZHzu6qMQvRL5hajrn1n9
        1CbOpbISD08qNLyrdkt-bFTWhAI4vMQFh6WeZu0fM4lFd2NcRwr3XPksINHa
        Q-G_xBniIqbw0Ls1jF44-csFCur-kEgU8awapJzKnqDKgw",
      "e": "AQAB"
    }
  },
  "type": "IdentityCredential",
  "credentialSubject": {
    "_sd": [
      "09vKrJMOlyTWM0sjpu_pdOBVBQ2M1y3KhpH515nXkpY",
      "2rsjGbaC0ky8mT0pJrPioWTq0_daw1sX76poUlgCwbI",
      "EkO8dhW0dHEJbvUHlE_VCeuC9uRELOieLZhh7XbUTtA",
      "IlDzIKeiZdDwpqpK6ZfbyphFvz5FgnWa-sN6wqQXCiw",
      "JzYjH4svliH0R3PyEMfeZu6Jt69u5qehZo7F7EPYlSE",
      "PorFbpKuVu6xymJagvkFsFXAbRoc2JGlAUA2BA4o7cI",
      "TGf4oLbgwd5JQaHyKVQZU9UdGE0w5rtDsrZzfUaomLo",
      "jdrTE8YcbY4EifugihiAe_BPekxJQZICeiUQwY9QqxI",
      "jsu9yVulwQQlhFlM_3JlzMaSFzglhQG0DpfayQwLUK4"
    ]
  },
  "_sd_alg": "sha-256"
}
</pre><a href="#appendix-A.3-9" class="pilcrow">¶</a>
</div>
<p id="appendix-A.3-10">Disclosures:<a href="#appendix-A.3-10" class="pilcrow">¶</a></p>
<p id="appendix-A.3-11"><strong>Claim <code>given_name</code></strong>:<a href="#appendix-A.3-11" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.3-12.1">SHA-256 Hash: <code>jsu9yVulwQQlhFlM_3JlzMaSFzglhQG0DpfayQwLUK4</code><a href="#appendix-A.3-12.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-12.2">Disclosure:<br>
            <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgImdpdmVuX25hbWUiLCAiSm9o</code><br>
            <code>biJd</code><a href="#appendix-A.3-12.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-12.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "given_name", "John"]</code><a href="#appendix-A.3-12.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-13"><strong>Claim <code>family_name</code></strong>:<a href="#appendix-A.3-13" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.3-14.1">SHA-256 Hash: <code>TGf4oLbgwd5JQaHyKVQZU9UdGE0w5rtDsrZzfUaomLo</code><a href="#appendix-A.3-14.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-14.2">Disclosure:<br>
            <code>WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgImZhbWlseV9uYW1lIiwgIkRv</code><br>
            <code>ZSJd</code><a href="#appendix-A.3-14.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-14.3">Contents:
<code>["eluV5Og3gSNII8EYnsxA_A", "family_name", "Doe"]</code><a href="#appendix-A.3-14.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-15"><strong>Claim <code>email</code></strong>:<a href="#appendix-A.3-15" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.3-16.1">SHA-256 Hash: <code>JzYjH4svliH0R3PyEMfeZu6Jt69u5qehZo7F7EPYlSE</code><a href="#appendix-A.3-16.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-16.2">Disclosure:<br>
            <code>WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgImVtYWlsIiwgImpvaG5kb2VA</code><br>
            <code>ZXhhbXBsZS5jb20iXQ</code><a href="#appendix-A.3-16.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-16.3">Contents:
<code>["6Ij7tM-a5iVPGboS5tmvVA", "email", "johndoe@example.com"]</code><a href="#appendix-A.3-16.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-17"><strong>Claim <code>phone_number</code></strong>:<a href="#appendix-A.3-17" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.3-18.1">SHA-256 Hash: <code>PorFbpKuVu6xymJagvkFsFXAbRoc2JGlAUA2BA4o7cI</code><a href="#appendix-A.3-18.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-18.2">Disclosure:<br>
            <code>WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgInBob25lX251bWJlciIsICIr</code><br>
            <code>MS0yMDItNTU1LTAxMDEiXQ</code><a href="#appendix-A.3-18.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-18.3">Contents:
<code>["eI8ZWm9QnKPpNPeNenHdhQ", "phone_number",</code><br>
            <code>"+1-202-555-0101"]</code><a href="#appendix-A.3-18.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-19"><strong>Claim <code>address</code></strong>:<a href="#appendix-A.3-19" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.3-20.1">SHA-256 Hash: <code>IlDzIKeiZdDwpqpK6ZfbyphFvz5FgnWa-sN6wqQXCiw</code><a href="#appendix-A.3-20.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-20.2">Disclosure:<br>
            <code>WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgImFkZHJlc3MiLCB7InN0cmVl</code><br>
            <code>dF9hZGRyZXNzIjogIjEyMyBNYWluIFN0IiwgImxvY2FsaXR5IjogIkFueXRv</code><br>
            <code>d24iLCAicmVnaW9uIjogIkFueXN0YXRlIiwgImNvdW50cnkiOiAiVVMifV0</code><a href="#appendix-A.3-20.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-20.3">Contents:
<code>["Qg_O64zqAxe412a108iroA", "address", {"street_address":</code><br>
            <code>"123 Main St", "locality": "Anytown", "region": "Anystate",</code><br>
            <code>"country": "US"}]</code><a href="#appendix-A.3-20.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-21"><strong>Claim <code>birthdate</code></strong>:<a href="#appendix-A.3-21" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.3-22.1">SHA-256 Hash: <code>jdrTE8YcbY4EifugihiAe_BPekxJQZICeiUQwY9QqxI</code><a href="#appendix-A.3-22.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-22.2">Disclosure:<br>
            <code>WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgImJpcnRoZGF0ZSIsICIxOTQw</code><br>
            <code>LTAxLTAxIl0</code><a href="#appendix-A.3-22.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-22.3">Contents:
<code>["AJx-095VPrpTtN4QMOqROA", "birthdate", "1940-01-01"]</code><a href="#appendix-A.3-22.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-23"><strong>Claim <code>is_over_18</code></strong>:<a href="#appendix-A.3-23" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.3-24.1">SHA-256 Hash: <code>09vKrJMOlyTWM0sjpu_pdOBVBQ2M1y3KhpH515nXkpY</code><a href="#appendix-A.3-24.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-24.2">Disclosure:<br>
            <code>WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZRIiwgImlzX292ZXJfMTgiLCB0cnVl</code><br>
            <code>XQ</code><a href="#appendix-A.3-24.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-24.3">Contents:
<code>["Pc33JM2LchcU_lHggv_ufQ", "is_over_18", true]</code><a href="#appendix-A.3-24.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-25"><strong>Claim <code>is_over_21</code></strong>:<a href="#appendix-A.3-25" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.3-26.1">SHA-256 Hash: <code>2rsjGbaC0ky8mT0pJrPioWTq0_daw1sX76poUlgCwbI</code><a href="#appendix-A.3-26.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-26.2">Disclosure:<br>
            <code>WyJHMDJOU3JRZmpGWFE3SW8wOXN5YWpBIiwgImlzX292ZXJfMjEiLCB0cnVl</code><br>
            <code>XQ</code><a href="#appendix-A.3-26.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-26.3">Contents:
<code>["G02NSrQfjFXQ7Io09syajA", "is_over_21", true]</code><a href="#appendix-A.3-26.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.3-27"><strong>Claim <code>is_over_65</code></strong>:<a href="#appendix-A.3-27" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.3-28.1">SHA-256 Hash: <code>EkO8dhW0dHEJbvUHlE_VCeuC9uRELOieLZhh7XbUTtA</code><a href="#appendix-A.3-28.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-28.2">Disclosure:<br>
            <code>WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgImlzX292ZXJfNjUiLCB0cnVl</code><br>
            <code>XQ</code><a href="#appendix-A.3-28.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-28.3">Contents:
<code>["lklxF5jMYlGTPUovMNIvCA", "is_over_65", true]</code><a href="#appendix-A.3-28.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="example-4b-w3c-verifiable-credentials-data-model-v2-0-using-json-ld">
<section id="appendix-A.4">
        <h3 id="name-example-4b-w3c-verifiable-c">
<a href="#appendix-A.4" class="section-number selfRef">A.4. </a><a href="#name-example-4b-w3c-verifiable-c" class="section-name selfRef">Example 4b - W3C Verifiable Credentials Data Model v2.0, using JSON-LD</a>
        </h3>
<p id="appendix-A.4-1">This example illustrates how to use the artifacts defined in this specification to secure a payload
that is represented as a W3C Verifiable Credentials Data Model v2.0 <span>[<a href="#VC_DATA_v2.0" class="cite xref">VC_DATA_v2.0</a>]</span>
and uses a JSON-LD object as the claims set. The example uses a content type <code>credential+ld+json</code> defined in <span>[<a href="#VC_DATA_v2.0" class="cite xref">VC_DATA_v2.0</a>]</span>, Section 6.3 in a <code>cty</code> JOSE Header value.<a href="#appendix-A.4-1" class="pilcrow">¶</a></p>
<p id="appendix-A.4-2">SD-JWT is equivalent to an Issuer-signed W3C Verifiable Credential (W3C VC). Disclosures are sent alongside a VC.<a href="#appendix-A.4-2" class="pilcrow">¶</a></p>
<p id="appendix-A.4-3">An SD-JWT Presentation with a Key Binding JWT would be equivalent to a Holder-signed
Verifiable Presentation as defined in <span>[<a href="#VC_DATA_v2.0" class="cite xref">VC_DATA_v2.0</a>]</span>.<a href="#appendix-A.4-3" class="pilcrow">¶</a></p>
<p id="appendix-A.4-4">In this example, Key Binding is applied
using the Holder's public key passed in a <code>cnf</code> Claim in the SD-JWT.<a href="#appendix-A.4-4" class="pilcrow">¶</a></p>
<p id="appendix-A.4-5">Below is a non-normative example of an SD-JWT represented as a W3C VC using JSON-LD.<a href="#appendix-A.4-5" class="pilcrow">¶</a></p>
<p id="appendix-A.4-6">The following data will be used in this example:<a href="#appendix-A.4-6" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.4-7">
<pre>{
  "@context": [
    "https://www.w3.org/2018/credentials/v1",
    "https://w3id.org/vaccination/v1"
  ],
  "type": [
    "VerifiableCredential",
    "VaccinationCertificate"
  ],
  "issuer": "https://example.com/issuer",
  "issuanceDate": "2023-02-09T11:01:59Z",
  "expirationDate": "2028-02-08T11:01:59Z",
  "name": "COVID-19 Vaccination Certificate",
  "description": "COVID-19 Vaccination Certificate",
  "credentialSubject": {
    "vaccine": {
      "type": "Vaccine",
      "atcCode": "J07BX03",
      "medicinalProductName": "COVID-19 Vaccine Moderna",
      "marketingAuthorizationHolder": "Moderna Biotech"
    },
    "nextVaccinationDate": "2021-08-16T13:40:12Z",
    "countryOfVaccination": "GE",
    "dateOfVaccination": "2021-06-23T13:40:12Z",
    "order": "3/3",
    "recipient": {
      "type": "VaccineRecipient",
      "gender": "Female",
      "birthDate": "1961-08-17",
      "givenName": "Marion",
      "familyName": "Mustermann"
    },
    "type": "VaccinationEvent",
    "administeringCentre": "Praxis Sommergarten",
    "batchNumber": "1626382736",
    "healthProfessional": "883110000015376"
  }
}
</pre><a href="#appendix-A.4-7" class="pilcrow">¶</a>
</div>
<p id="appendix-A.4-8">The payload of a corresponding SD-JWT looks as follows:<a href="#appendix-A.4-8" class="pilcrow">¶</a></p>
<div class="breakable lang-json sourcecode" id="appendix-A.4-9">
<pre>{
  "iss": "https://example.com/issuer",
  "iat": 1683000000,
  "exp": 1883000000,
  "@context": [
    "https://www.w3.org/2018/credentials/v1",
    "https://w3id.org/vaccination/v1"
  ],
  "type": [
    "VerifiableCredential",
    "VaccinationCertificate"
  ],
  "issuer": "https://example.com/issuer",
  "issuanceDate": "2023-02-09T11:01:59Z",
  "expirationDate": "2028-02-08T11:01:59Z",
  "name": "COVID-19 Vaccination Certificate",
  "description": "COVID-19 Vaccination Certificate",
  "credentialSubject": {
    "_sd": [
      "1V_K-8lDQ8iFXBFXbZY9ehqR4HabWCi5T0ybIzZPeww",
      "JzjLgtP29dP-B3td12P674gFmK2zy81HMtBgf6CJNWg",
      "R2fGbfA07Z_YlkqmNZyma1xyyx1XstIiS6B1Ybl2JZ4",
      "TCmzrl7K2gev_du7pcMIyzRLHp-Yeg-Fl_cxtrUvPxg",
      "V7kJBLK78TmVDOmrfJ7ZuUPHuK_2cc7yZRa4qV1txwM",
      "b0eUsvGP-ODDdFoY4NlzlXc3tDslWJtCJF75Nw8Oj_g",
      "zJK_eSMXjwM8dXmMZLnI8FGM08zJ3_ubGeEMJ-5TBy0"
    ],
    "vaccine": {
      "_sd": [
        "1cF5hLwkhMNIaqfWJrXI7NMWedL-9f6Y2PA52yPjSZI",
        "Hiy6WWueLD5bn16298tPv7GXhmldMDOTnBi-CZbphNo",
        "Lb027q691jXXl-jC73vi8ebOj9smx3C-_og7gA4TBQE"
      ],
      "type": "Vaccine"
    },
    "recipient": {
      "_sd": [
        "1lSQBNY24q0Th6OGzthq-7-4l6cAaxrYXOGZpeW_lnA",
        "3nzLq81M2oN06wdv1shHvOEJVxZ5KLmdDkHEDJABWEI",
        "Pn1sWi06G4LJrnn-_RT0RbM_HTdxnPJQuX2fzWv_JOU",
        "lF9uzdsw7HplGLc714Tr4WO7MGJza7tt7QFleCX4Itw"
      ],
      "type": "VaccineRecipient"
    },
    "type": "VaccinationEvent"
  },
  "_sd_alg": "sha-256",
  "cnf": {
    "jwk": {
      "kty": "EC",
      "crv": "P-256",
      "x": "TCAER19Zvu3OHF4j4W4vfSVoHIP1ILilDls7vCeGemc",
      "y": "ZxjiWWbZMQGHVWKVQ4hbSIirsVfuecCE6t4jT9F2HZQ"
    }
  }
}
</pre><a href="#appendix-A.4-9" class="pilcrow">¶</a>
</div>
<p id="appendix-A.4-10">Disclosures:<a href="#appendix-A.4-10" class="pilcrow">¶</a></p>
<p id="appendix-A.4-11"><strong>Claim <code>atcCode</code></strong>:<a href="#appendix-A.4-11" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.4-12.1">SHA-256 Hash: <code>1cF5hLwkhMNIaqfWJrXI7NMWedL-9f6Y2PA52yPjSZI</code><a href="#appendix-A.4-12.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-12.2">Disclosure:<br>
            <code>WyIyR0xDNDJzS1F2ZUNmR2ZyeU5STjl3IiwgImF0Y0NvZGUiLCAiSjA3Qlgw</code><br>
            <code>MyJd</code><a href="#appendix-A.4-12.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-12.3">Contents:
<code>["2GLC42sKQveCfGfryNRN9w", "atcCode", "J07BX03"]</code><a href="#appendix-A.4-12.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-13"><strong>Claim <code>medicinalProductName</code></strong>:<a href="#appendix-A.4-13" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.4-14.1">SHA-256 Hash: <code>Hiy6WWueLD5bn16298tPv7GXhmldMDOTnBi-CZbphNo</code><a href="#appendix-A.4-14.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-14.2">Disclosure:<br>
            <code>WyJlbHVWNU9nM2dTTklJOEVZbnN4QV9BIiwgIm1lZGljaW5hbFByb2R1Y3RO</code><br>
            <code>YW1lIiwgIkNPVklELTE5IFZhY2NpbmUgTW9kZXJuYSJd</code><a href="#appendix-A.4-14.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-14.3">Contents:
<code>["eluV5Og3gSNII8EYnsxA_A", "medicinalProductName", "COVID-19</code><br>
            <code>Vaccine Moderna"]</code><a href="#appendix-A.4-14.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-15"><strong>Claim <code>marketingAuthorizationHolder</code></strong>:<a href="#appendix-A.4-15" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.4-16.1">SHA-256 Hash: <code>Lb027q691jXXl-jC73vi8ebOj9smx3C-_og7gA4TBQE</code><a href="#appendix-A.4-16.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-16.2">Disclosure:<br>
            <code>WyI2SWo3dE0tYTVpVlBHYm9TNXRtdlZBIiwgIm1hcmtldGluZ0F1dGhvcml6</code><br>
            <code>YXRpb25Ib2xkZXIiLCAiTW9kZXJuYSBCaW90ZWNoIl0</code><a href="#appendix-A.4-16.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-16.3">Contents:
<code>["6Ij7tM-a5iVPGboS5tmvVA", "marketingAuthorizationHolder",</code><br>
            <code>"Moderna Biotech"]</code><a href="#appendix-A.4-16.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-17"><strong>Claim <code>nextVaccinationDate</code></strong>:<a href="#appendix-A.4-17" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.4-18.1">SHA-256 Hash: <code>R2fGbfA07Z_YlkqmNZyma1xyyx1XstIiS6B1Ybl2JZ4</code><a href="#appendix-A.4-18.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-18.2">Disclosure:<br>
            <code>WyJlSThaV205UW5LUHBOUGVOZW5IZGhRIiwgIm5leHRWYWNjaW5hdGlvbkRh</code><br>
            <code>dGUiLCAiMjAyMS0wOC0xNlQxMzo0MDoxMloiXQ</code><a href="#appendix-A.4-18.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-18.3">Contents:
<code>["eI8ZWm9QnKPpNPeNenHdhQ", "nextVaccinationDate",</code><br>
            <code>"2021-08-16T13:40:12Z"]</code><a href="#appendix-A.4-18.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-19"><strong>Claim <code>countryOfVaccination</code></strong>:<a href="#appendix-A.4-19" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.4-20.1">SHA-256 Hash: <code>JzjLgtP29dP-B3td12P674gFmK2zy81HMtBgf6CJNWg</code><a href="#appendix-A.4-20.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-20.2">Disclosure:<br>
            <code>WyJRZ19PNjR6cUF4ZTQxMmExMDhpcm9BIiwgImNvdW50cnlPZlZhY2NpbmF0</code><br>
            <code>aW9uIiwgIkdFIl0</code><a href="#appendix-A.4-20.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-20.3">Contents:
<code>["Qg_O64zqAxe412a108iroA", "countryOfVaccination", "GE"]</code><a href="#appendix-A.4-20.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-21"><strong>Claim <code>dateOfVaccination</code></strong>:<a href="#appendix-A.4-21" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.4-22.1">SHA-256 Hash: <code>zJK_eSMXjwM8dXmMZLnI8FGM08zJ3_ubGeEMJ-5TBy0</code><a href="#appendix-A.4-22.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-22.2">Disclosure:<br>
            <code>WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgImRhdGVPZlZhY2NpbmF0aW9u</code><br>
            <code>IiwgIjIwMjEtMDYtMjNUMTM6NDA6MTJaIl0</code><a href="#appendix-A.4-22.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-22.3">Contents:
<code>["AJx-095VPrpTtN4QMOqROA", "dateOfVaccination",</code><br>
            <code>"2021-06-23T13:40:12Z"]</code><a href="#appendix-A.4-22.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-23"><strong>Claim <code>order</code></strong>:<a href="#appendix-A.4-23" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.4-24.1">SHA-256 Hash: <code>b0eUsvGP-ODDdFoY4NlzlXc3tDslWJtCJF75Nw8Oj_g</code><a href="#appendix-A.4-24.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-24.2">Disclosure:<br>
            <code>WyJQYzMzSk0yTGNoY1VfbEhnZ3ZfdWZRIiwgIm9yZGVyIiwgIjMvMyJd</code><a href="#appendix-A.4-24.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-24.3">Contents:
<code>["Pc33JM2LchcU_lHggv_ufQ", "order", "3/3"]</code><a href="#appendix-A.4-24.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-25"><strong>Claim <code>gender</code></strong>:<a href="#appendix-A.4-25" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.4-26.1">SHA-256 Hash: <code>3nzLq81M2oN06wdv1shHvOEJVxZ5KLmdDkHEDJABWEI</code><a href="#appendix-A.4-26.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-26.2">Disclosure:<br>
            <code>WyJHMDJOU3JRZmpGWFE3SW8wOXN5YWpBIiwgImdlbmRlciIsICJGZW1hbGUi</code><br>
            <code>XQ</code><a href="#appendix-A.4-26.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-26.3">Contents:
<code>["G02NSrQfjFXQ7Io09syajA", "gender", "Female"]</code><a href="#appendix-A.4-26.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-27"><strong>Claim <code>birthDate</code></strong>:<a href="#appendix-A.4-27" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.4-28.1">SHA-256 Hash: <code>Pn1sWi06G4LJrnn-_RT0RbM_HTdxnPJQuX2fzWv_JOU</code><a href="#appendix-A.4-28.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-28.2">Disclosure:<br>
            <code>WyJsa2x4RjVqTVlsR1RQVW92TU5JdkNBIiwgImJpcnRoRGF0ZSIsICIxOTYx</code><br>
            <code>LTA4LTE3Il0</code><a href="#appendix-A.4-28.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-28.3">Contents:
<code>["lklxF5jMYlGTPUovMNIvCA", "birthDate", "1961-08-17"]</code><a href="#appendix-A.4-28.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-29"><strong>Claim <code>givenName</code></strong>:<a href="#appendix-A.4-29" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.4-30.1">SHA-256 Hash: <code>lF9uzdsw7HplGLc714Tr4WO7MGJza7tt7QFleCX4Itw</code><a href="#appendix-A.4-30.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-30.2">Disclosure:<br>
            <code>WyJuUHVvUW5rUkZxM0JJZUFtN0FuWEZBIiwgImdpdmVuTmFtZSIsICJNYXJp</code><br>
            <code>b24iXQ</code><a href="#appendix-A.4-30.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-30.3">Contents:
<code>["nPuoQnkRFq3BIeAm7AnXFA", "givenName", "Marion"]</code><a href="#appendix-A.4-30.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-31"><strong>Claim <code>familyName</code></strong>:<a href="#appendix-A.4-31" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.4-32.1">SHA-256 Hash: <code>1lSQBNY24q0Th6OGzthq-7-4l6cAaxrYXOGZpeW_lnA</code><a href="#appendix-A.4-32.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-32.2">Disclosure:<br>
            <code>WyI1YlBzMUlxdVpOYTBoa2FGenp6Wk53IiwgImZhbWlseU5hbWUiLCAiTXVz</code><br>
            <code>dGVybWFubiJd</code><a href="#appendix-A.4-32.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-32.3">Contents:
<code>["5bPs1IquZNa0hkaFzzzZNw", "familyName", "Mustermann"]</code><a href="#appendix-A.4-32.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-33"><strong>Claim <code>administeringCentre</code></strong>:<a href="#appendix-A.4-33" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.4-34.1">SHA-256 Hash: <code>TCmzrl7K2gev_du7pcMIyzRLHp-Yeg-Fl_cxtrUvPxg</code><a href="#appendix-A.4-34.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-34.2">Disclosure:<br>
            <code>WyI1YTJXMF9OcmxFWnpmcW1rXzdQcS13IiwgImFkbWluaXN0ZXJpbmdDZW50</code><br>
            <code>cmUiLCAiUHJheGlzIFNvbW1lcmdhcnRlbiJd</code><a href="#appendix-A.4-34.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-34.3">Contents:
<code>["5a2W0_NrlEZzfqmk_7Pq-w", "administeringCentre", "Praxis</code><br>
            <code>Sommergarten"]</code><a href="#appendix-A.4-34.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-35"><strong>Claim <code>batchNumber</code></strong>:<a href="#appendix-A.4-35" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.4-36.1">SHA-256 Hash: <code>V7kJBLK78TmVDOmrfJ7ZuUPHuK_2cc7yZRa4qV1txwM</code><a href="#appendix-A.4-36.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-36.2">Disclosure:<br>
            <code>WyJ5MXNWVTV3ZGZKYWhWZGd3UGdTN1JRIiwgImJhdGNoTnVtYmVyIiwgIjE2</code><br>
            <code>MjYzODI3MzYiXQ</code><a href="#appendix-A.4-36.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-36.3">Contents:
<code>["y1sVU5wdfJahVdgwPgS7RQ", "batchNumber", "1626382736"]</code><a href="#appendix-A.4-36.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-37"><strong>Claim <code>healthProfessional</code></strong>:<a href="#appendix-A.4-37" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.4-38.1">SHA-256 Hash: <code>1V_K-8lDQ8iFXBFXbZY9ehqR4HabWCi5T0ybIzZPeww</code><a href="#appendix-A.4-38.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-38.2">Disclosure:<br>
            <code>WyJIYlE0WDhzclZXM1FEeG5JSmRxeU9BIiwgImhlYWx0aFByb2Zlc3Npb25h</code><br>
            <code>bCIsICI4ODMxMTAwMDAwMTUzNzYiXQ</code><a href="#appendix-A.4-38.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-38.3">Contents:
<code>["HbQ4X8srVW3QDxnIJdqyOA", "healthProfessional",</code><br>
            <code>"883110000015376"]</code><a href="#appendix-A.4-38.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.4-39">The following is a non-normative example of a presented SD-JWT with Key Binding. It only discloses <code>type</code>, <code>medicinalProductName</code>, <code>atcCode</code> of the vaccine, <code>type</code> of the <code>recipient</code>, <code>type</code>, <code>order</code> and <code>dateOfVaccination</code>.<a href="#appendix-A.4-39" class="pilcrow">¶</a></p>
<div class="lang-txt sourcecode" id="appendix-A.4-40">
<pre>eyJhbGciOiAiRVMyNTYifQ.eyJpc3MiOiAiaHR0cHM6Ly9leGFtcGxlLmNvbS9pc3N1Z
XIiLCAiaWF0IjogMTY4MzAwMDAwMCwgImV4cCI6IDE4ODMwMDAwMDAsICJAY29udGV4d
CI6IFsiaHR0cHM6Ly93d3cudzMub3JnLzIwMTgvY3JlZGVudGlhbHMvdjEiLCAiaHR0c
HM6Ly93M2lkLm9yZy92YWNjaW5hdGlvbi92MSJdLCAidHlwZSI6IFsiVmVyaWZpYWJsZ
UNyZWRlbnRpYWwiLCAiVmFjY2luYXRpb25DZXJ0aWZpY2F0ZSJdLCAiaXNzdWVyIjogI
mh0dHBzOi8vZXhhbXBsZS5jb20vaXNzdWVyIiwgImlzc3VhbmNlRGF0ZSI6ICIyMDIzL
TAyLTA5VDExOjAxOjU5WiIsICJleHBpcmF0aW9uRGF0ZSI6ICIyMDI4LTAyLTA4VDExO
jAxOjU5WiIsICJuYW1lIjogIkNPVklELTE5IFZhY2NpbmF0aW9uIENlcnRpZmljYXRlI
iwgImRlc2NyaXB0aW9uIjogIkNPVklELTE5IFZhY2NpbmF0aW9uIENlcnRpZmljYXRlI
iwgImNyZWRlbnRpYWxTdWJqZWN0IjogeyJfc2QiOiBbIjFWX0stOGxEUThpRlhCRlhiW
lk5ZWhxUjRIYWJXQ2k1VDB5Ykl6WlBld3ciLCAiSnpqTGd0UDI5ZFAtQjN0ZDEyUDY3N
GdGbUsyenk4MUhNdEJnZjZDSk5XZyIsICJSMmZHYmZBMDdaX1lsa3FtTlp5bWExeHl5e
DFYc3RJaVM2QjFZYmwySlo0IiwgIlRDbXpybDdLMmdldl9kdTdwY01JeXpSTEhwLVllZ
y1GbF9jeHRyVXZQeGciLCAiVjdrSkJMSzc4VG1WRE9tcmZKN1p1VVBIdUtfMmNjN3laU
mE0cVYxdHh3TSIsICJiMGVVc3ZHUC1PRERkRm9ZNE5semxYYzN0RHNsV0p0Q0pGNzVOd
zhPal9nIiwgInpKS19lU01YandNOGRYbU1aTG5JOEZHTTA4ekozX3ViR2VFTUotNVRCe
TAiXSwgInZhY2NpbmUiOiB7Il9zZCI6IFsiMWNGNWhMd2toTU5JYXFmV0pyWEk3Tk1XZ
WRMLTlmNlkyUEE1MnlQalNaSSIsICJIaXk2V1d1ZUxENWJuMTYyOTh0UHY3R1hobWxkT
URPVG5CaS1DWmJwaE5vIiwgIkxiMDI3cTY5MWpYWGwtakM3M3ZpOGViT2o5c214M0MtX
29nN2dBNFRCUUUiXSwgInR5cGUiOiAiVmFjY2luZSJ9LCAicmVjaXBpZW50IjogeyJfc
2QiOiBbIjFsU1FCTlkyNHEwVGg2T0d6dGhxLTctNGw2Y0FheHJZWE9HWnBlV19sbkEiL
CAiM256THE4MU0yb04wNndkdjFzaEh2T0VKVnhaNUtMbWREa0hFREpBQldFSSIsICJQb
jFzV2kwNkc0TEpybm4tX1JUMFJiTV9IVGR4blBKUXVYMmZ6V3ZfSk9VIiwgImxGOXV6Z
HN3N0hwbEdMYzcxNFRyNFdPN01HSnphN3R0N1FGbGVDWDRJdHciXSwgInR5cGUiOiAiV
mFjY2luZVJlY2lwaWVudCJ9LCAidHlwZSI6ICJWYWNjaW5hdGlvbkV2ZW50In0sICJfc
2RfYWxnIjogInNoYS0yNTYiLCAiY25mIjogeyJqd2siOiB7Imt0eSI6ICJFQyIsICJjc
nYiOiAiUC0yNTYiLCAieCI6ICJUQ0FFUjE5WnZ1M09IRjRqNFc0dmZTVm9ISVAxSUxpb
ERsczd2Q2VHZW1jIiwgInkiOiAiWnhqaVdXYlpNUUdIVldLVlE0aGJTSWlyc1ZmdWVjQ
0U2dDRqVDlGMkhaUSJ9fX0.y3dY4qQCBLS99v3NdTlmLn3b7YZtA20TQfezz56ncqdkC
FIWnJxcIFAEMskbJPRuVID49ciSPzRe0O-duNQ8jQ~WyJQYzMzSk0yTGNoY1VfbEhnZ3
ZfdWZRIiwgIm9yZGVyIiwgIjMvMyJd~WyJBSngtMDk1VlBycFR0TjRRTU9xUk9BIiwgI
mRhdGVPZlZhY2NpbmF0aW9uIiwgIjIwMjEtMDYtMjNUMTM6NDA6MTJaIl0~WyIyR0xDN
DJzS1F2ZUNmR2ZyeU5STjl3IiwgImF0Y0NvZGUiLCAiSjA3QlgwMyJd~WyJlbHVWNU9n
M2dTTklJOEVZbnN4QV9BIiwgIm1lZGljaW5hbFByb2R1Y3ROYW1lIiwgIkNPVklELTE5
IFZhY2NpbmUgTW9kZXJuYSJd~eyJhbGciOiAiRVMyNTYiLCAidHlwIjogImtiK2p3dCJ
9.eyJub25jZSI6ICIxMjM0NTY3ODkwIiwgImF1ZCI6ICJodHRwczovL2V4YW1wbGUuY2
9tL3ZlcmlmaWVyIiwgImlhdCI6IDE2ODcyODgyMzl9.4eatCPwvLUnzfVcUMZA5rDm4G
XBAb8CtpAlxZ5cIrbnFOmsedzlSaZKghrqw4Uj0tEZCxYgwpxEk3bIqJg2Qfg
</pre><a href="#appendix-A.4-40" class="pilcrow">¶</a>
</div>
<p id="appendix-A.4-41">After the validation, the Verifier will have the following data for further processing:<a href="#appendix-A.4-41" class="pilcrow">¶</a></p>
<div class="lang-json sourcecode" id="appendix-A.4-42">
<pre>{
  "iss": "https://example.com/issuer",
  "iat": 1683000000,
  "exp": 1883000000,
  "@context": [
    "https://www.w3.org/2018/credentials/v1",
    "https://w3id.org/vaccination/v1"
  ],
  "type": [
    "VerifiableCredential",
    "VaccinationCertificate"
  ],
  "issuer": "https://example.com/issuer",
  "issuanceDate": "2023-02-09T11:01:59Z",
  "expirationDate": "2028-02-08T11:01:59Z",
  "name": "COVID-19 Vaccination Certificate",
  "description": "COVID-19 Vaccination Certificate",
  "credentialSubject": {
    "vaccine": {
      "type": "Vaccine",
      "atcCode": "J07BX03",
      "medicinalProductName": "COVID-19 Vaccine Moderna"
    },
    "recipient": {
      "type": "VaccineRecipient"
    },
    "type": "VaccinationEvent",
    "order": "3/3",
    "dateOfVaccination": "2021-06-23T13:40:12Z"
  },
  "_sd_alg": "sha-256",
  "cnf": {
    "jwk": {
      "kty": "EC",
      "crv": "P-256",
      "x": "TCAER19Zvu3OHF4j4W4vfSVoHIP1ILilDls7vCeGemc",
      "y": "ZxjiWWbZMQGHVWKVQ4hbSIirsVfuecCE6t4jT9F2HZQ"
    }
  }
}
</pre><a href="#appendix-A.4-42" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="elliptic-curve-key-used-in-the-examples">
<section id="appendix-A.5">
        <h3 id="name-elliptic-curve-key-used-in-">
<a href="#appendix-A.5" class="section-number selfRef">A.5. </a><a href="#name-elliptic-curve-key-used-in-" class="section-name selfRef">Elliptic Curve Key Used in the Examples</a>
        </h3>
<p id="appendix-A.5-1">The following Elliptic Curve public key, represented in JWK format, can be used to validate the Issuer signatures in the above examples:<a href="#appendix-A.5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.5-2">
<pre>{
  "kty": "EC",
  "crv": "P-256",
  "x": "b28d4MwZMjw8-00CG4xfnn9SLMVMM19SlqZpVb_uNtQ",
  "y": "Xv5zWwuoaTgdS6hV43yI6gBwTnjukmFQQnJ_kCxzqk8"
}
</pre><a href="#appendix-A.5-2" class="pilcrow">¶</a>
</div>
<p id="appendix-A.5-3">The public key used to validate a Key Binding JWT can be found in the examples as the content of the <code>cnf</code> claim.<a href="#appendix-A.5-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="disclosure_format_considerations">
<section id="appendix-B">
      <h2 id="name-disclosure-format-considera">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-disclosure-format-considera" class="section-name selfRef">Disclosure Format Considerations</a>
      </h2>
<p id="appendix-B-1">As described in <a href="#creating_disclosures" class="auto internal xref">Section 5.2</a>, the Disclosure structure is JSON containing salt and the
cleartext content of a claim, which is base64url encoded. The encoded value is the input used to calculate
a digest for the respective claim. The inclusion of digest value in the signed JWT ensures the integrity of
the claim value. Using encoded content as the input to the integrity mechanism is conceptually similar to the
approach in JWS and particularly useful when the content, like JSON, can have differences but be semantically
equivalent. Some further discussion of the considerations around this design decision follows.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">When receiving an SD-JWT, a Verifier must
be able to re-compute digests of the disclosed claim values and, given
the same input values, obtain the same digest values as signed by the
Issuer.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
<p id="appendix-B-3">Usually, JSON-based formats transport claim values as simple properties of a JSON object such as this:<a href="#appendix-B-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-B-4">
<pre>...
  "family_name": "Möbius",
  "address": {
    "street_address": "Schulstr. 12",
    "locality": "Schulpforta"
  }
...
</pre><a href="#appendix-B-4" class="pilcrow">¶</a>
</div>
<p id="appendix-B-5">However, a problem arises when computation over the data need to be performed and verified, like signing or computing digests. Common signature schemes require the same byte string as input to the
signature verification as was used for creating the signature. In the digest approach outlined above, the same problem exists: for the Issuer and the
Verifier to arrive at the same digest, the same byte string must be hashed.<a href="#appendix-B-5" class="pilcrow">¶</a></p>
<p id="appendix-B-6">JSON, however, does not prescribe a unique encoding for data, but allows for variations in the encoded string. The data above, for example, can be encoded as<a href="#appendix-B-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-B-7">
<pre>...
"family_name": "M\u00f6bius",
"address": {
  "street_address": "Schulstr. 12",
  "locality": "Schulpforta"
}
...
</pre><a href="#appendix-B-7" class="pilcrow">¶</a>
</div>
<p id="appendix-B-8">or as<a href="#appendix-B-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-B-9">
<pre>...
"family_name": "Möbius",
"address": {"locality":"Schulpforta", "street_address":"Schulstr. 12"}
...
</pre><a href="#appendix-B-9" class="pilcrow">¶</a>
</div>
<p id="appendix-B-10">The two representations <code>"M\u00f6bius"</code> and <code>"M&amp;#246;bius"</code> are very different on the byte-level, but yield
equivalent objects. Same for the representations of <code>address</code>, varying in white space and order of elements in the object.<a href="#appendix-B-10" class="pilcrow">¶</a></p>
<p id="appendix-B-11">The variations in white space, ordering of object properties, and
encoding of Unicode characters are all allowed by the JSON
specification, including further variations, e.g., concerning
floating-point numbers, as described in <span>[<a href="#RFC8785" class="cite xref">RFC8785</a>]</span>. Variations can be
introduced whenever JSON data is serialized or deserialized and unless
dealt with, will lead to different digests and the inability to verify
signatures.<a href="#appendix-B-11" class="pilcrow">¶</a></p>
<p id="appendix-B-12">There are generally two approaches to deal with this problem:<a href="#appendix-B-12" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-B-13">
<li id="appendix-B-13.1">Canonicalization: The data is transferred in JSON format, potentially
introducing variations in its representation, but is transformed into a
canonical form before computing a digest. Both the Issuer and the Verifier
must use the same canonicalization algorithm to arrive at the same byte
string for computing a digest.<a href="#appendix-B-13.1" class="pilcrow">¶</a>
</li>
        <li id="appendix-B-13.2">Source string hardening: Instead of transferring data in a format that
may introduce variations, a representation of the data is serialized.
This representation is then used as the hashing input at the Verifier,
but also transferred to the Verifier and used for the same digest
calculation there. This means that the Verifier can easily compute and check the
digest of the byte string before finally deserializing and
accessing the data.<a href="#appendix-B-13.2" class="pilcrow">¶</a>
</li>
      </ol>
<p id="appendix-B-14">Mixed approaches are conceivable, i.e., transferring both the original JSON data
plus a string suitable for computing a digest, but such approaches can easily lead to
undetected inconsistencies resulting in time-of-check-time-of-use type security
vulnerabilities.<a href="#appendix-B-14" class="pilcrow">¶</a></p>
<p id="appendix-B-15">In this specification, the source string hardening approach is used, as
it allows for simple and reliable interoperability without the
requirement for a canonicalization library. To harden the source string,
any serialization format that supports the necessary data types could
be used in theory, like protobuf, msgpack, or pickle. In this
specification, JSON is used and plain text values of each Disclosure are encoded using base64url-encoding
for transport. This approach means that SD-JWTs can be implemented purely based
on widely available JWT, JSON, and Base64 encoding and decoding libraries.<a href="#appendix-B-15" class="pilcrow">¶</a></p>
<p id="appendix-B-16">A Verifier can then easily check the digest over the source string before
extracting the original JSON data. Variations in the encoding of the source
string are implicitly tolerated by the Verifier, as the digest is computed over a
predefined byte string and not over a JSON object.<a href="#appendix-B-16" class="pilcrow">¶</a></p>
<p id="appendix-B-17">It is important to note that the Disclosures are neither intended nor
suitable for direct consumption by
an application that needs to access the disclosed claim values after the verification by the Verifier. The
Disclosures are only intended to be used by a Verifier to check
the digests over the source strings and to extract the original JSON
data. The original JSON data is then used by the application. See
<a href="#verifier_verification" class="auto internal xref">Section 6.3</a> for details.<a href="#appendix-B-17" class="pilcrow">¶</a></p>
</section>
</div>
<div id="document-history">
<section id="appendix-C">
      <h2 id="name-document-history">
<a href="#appendix-C" class="section-number selfRef">Appendix C. </a><a href="#name-document-history" class="section-name selfRef">Document History</a>
      </h2>
<p id="appendix-C-1">[[ To be removed from the final specification ]]<a href="#appendix-C-1" class="pilcrow">¶</a></p>
<p id="appendix-C-2">-05<a href="#appendix-C-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-C-3.1">Consolidate processing rules for Holder and Verifier<a href="#appendix-C-3.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-3.2">Add support for selective disclosure of array elements.<a href="#appendix-C-3.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-3.3">Consolidate SD-JWT terminology and format<a href="#appendix-C-3.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-3.4">Use the term Key Binding rather than Holder Binding<a href="#appendix-C-3.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-3.5">Defined the structure of the Key Binding JWT<a href="#appendix-C-3.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-3.6">Added a JWS JSON Serialization<a href="#appendix-C-3.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-3.7">Added initial IANA media type and structured suffix registration requests<a href="#appendix-C-3.7" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-3.8">Added recommendation for explicit typing of SD-JWTs<a href="#appendix-C-3.8" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-3.9">Added considerations around forwarding credentials<a href="#appendix-C-3.9" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-3.10">Removed Example 2b and merged the demo of decoy digests into Example 2a<a href="#appendix-C-3.10" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-3.11">Updated title to be more inclusive of JWS with JSON and added some corresponding text to the Abstract and Intro<a href="#appendix-C-3.11" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-3.12">Improved example for allowed variations in Disclosures<a href="#appendix-C-3.12" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-4">-04<a href="#appendix-C-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-C-5.1">Improve description of processing of disclosures<a href="#appendix-C-5.1" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-6">-03<a href="#appendix-C-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-C-7.1">Clarify that other specifications may define enveloping multiple Combined Formats for Presentation<a href="#appendix-C-7.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-7.2">Add an example of W3C vc-data-model that uses a JSON-LD object as the claims set<a href="#appendix-C-7.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-7.3">Clarify requirements for the combined formats for issuance and presentation<a href="#appendix-C-7.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-7.4">Added overview of the Security Considerations section<a href="#appendix-C-7.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-7.5">Enhanced examples in the Privacy Considerations section<a href="#appendix-C-7.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-7.6">Allow for recursive disclosures<a href="#appendix-C-7.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-7.7">Discussion on holder binding and privacy of stored credentials<a href="#appendix-C-7.7" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-7.8">Add some context about SD-JWT being general-purpose despite being a product of the OAuth WG<a href="#appendix-C-7.8" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-7.9">More explicitly say that SD-JWTs have to be signed asymmetrically (no MAC and no <code>none</code>)<a href="#appendix-C-7.9" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-7.10">Make sha-256 the default hash algorithm, if the hash alg claim is omitted<a href="#appendix-C-7.10" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-7.11">Use ES256 instead of RS256 in examples<a href="#appendix-C-7.11" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-7.12">Rename and move the c14n challenges section to an appendix<a href="#appendix-C-7.12" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-7.13">A bit more in security considerations for Choice of a Hash Algorithm (1st &amp; 2nd preimage resistant and not majorly truncated)<a href="#appendix-C-7.13" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-7.14">Remove the notational figures from the Concepts section<a href="#appendix-C-7.14" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-7.15">Change salt to always be a string (rather than any JSON type)<a href="#appendix-C-7.15" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-7.16">Fix the Document History (which had a premature list for -03)<a href="#appendix-C-7.16" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-8">-02<a href="#appendix-C-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-C-9.1">Disclosures are now delivered not as a JWT but as separate base64url-encoded JSON objects.<a href="#appendix-C-9.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-9.2">In the SD-JWT, digests are collected under a <code>_sd</code> claim per level.<a href="#appendix-C-9.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-9.3">Terms "II-Disclosures" and "HS-Disclosures" are replaced with "Disclosures".<a href="#appendix-C-9.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-9.4">Holder Binding is now separate from delivering the Disclosures and implemented, if required, with a separate JWT.<a href="#appendix-C-9.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-9.5">Examples updated and modified to properly explain the specifics of the new SD-JWT format.<a href="#appendix-C-9.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-9.6">Examples are now pulled in from the examples directory, not inlined.<a href="#appendix-C-9.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-9.7">Updated and automated the W3C VC example.<a href="#appendix-C-9.7" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-9.8">Added examples with multibyte characters to show that the specification and demo code work well with UTF-8.<a href="#appendix-C-9.8" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-9.9">reverted back to hash alg from digest derivation alg (renamed to <code>_sd_alg</code>)<a href="#appendix-C-9.9" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-9.10">reformatted<a href="#appendix-C-9.10" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-10">-01<a href="#appendix-C-10" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-C-11.1">introduced blinded claim names<a href="#appendix-C-11.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.2">explained why JSON-encoding of values is needed<a href="#appendix-C-11.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.3">explained merging algorithm ("processing model")<a href="#appendix-C-11.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.4">generalized hash alg to digest derivation alg which also enables HMAC to calculate digests<a href="#appendix-C-11.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.5">
          <code>_sd_hash_alg</code> renamed to <code>sd_digest_derivation_alg</code><a href="#appendix-C-11.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.6">Salt/Value Container (SVC) renamed to Issuer-Issued Disclosures (II-Disclosures)<a href="#appendix-C-11.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.7">SD-JWT-Release (SD-JWT-R) renamed to Holder-Selected Disclosures (HS-Disclosures)<a href="#appendix-C-11.7" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.8">
          <code>sd_disclosure</code> in II-Disclosures renamed to <code>sd_ii_disclosures</code><a href="#appendix-C-11.8" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.9">
          <code>sd_disclosure</code> in HS-Disclosures renamed to <code>sd_hs_disclosures</code><a href="#appendix-C-11.9" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.10">clarified relationship between <code>sd_hs_disclosure</code> and SD-JWT<a href="#appendix-C-11.10" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.11">clarified combined formats for issuance and presentation<a href="#appendix-C-11.11" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.12">clarified security requirements for blinded claim names<a href="#appendix-C-11.12" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.13">improved description of Holder Binding security considerations - especially around the usage of "alg=none".<a href="#appendix-C-11.13" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.14">updated examples<a href="#appendix-C-11.14" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.15">text clarifications<a href="#appendix-C-11.15" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.16">fixed <code>cnf</code> structure in examples<a href="#appendix-C-11.16" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-11.17">added feature summary<a href="#appendix-C-11.17" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-12">-00<a href="#appendix-C-12" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-C-13.1">Upload as draft-ietf-oauth-selective-disclosure-jwt-00<a href="#appendix-C-13.1" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-14">[[ pre Working Group Adoption: ]]<a href="#appendix-C-14" class="pilcrow">¶</a></p>
<p id="appendix-C-15">-02<a href="#appendix-C-15" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-C-16.1">Added acknowledgements<a href="#appendix-C-16.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-16.2">Improved Security Considerations<a href="#appendix-C-16.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-16.3">Stressed entropy requirements for salts<a href="#appendix-C-16.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-16.4">Python reference implementation clean-up and refactoring<a href="#appendix-C-16.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-16.5">
          <code>hash_alg</code> renamed to <code>_sd_hash_alg</code><a href="#appendix-C-16.5" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-17">-01<a href="#appendix-C-17" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-C-18.1">Editorial fixes<a href="#appendix-C-18.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-18.2">Added <code>hash_alg</code> claim<a href="#appendix-C-18.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-18.3">Renamed <code>_sd</code> to <code>sd_digests</code> and <code>sd_release</code><a href="#appendix-C-18.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-18.4">Added descriptions on Holder Binding - more work to do<a href="#appendix-C-18.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-18.5">Clarify that signing the SD-JWT is mandatory<a href="#appendix-C-18.5" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-C-19">-00<a href="#appendix-C-19" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-C-20.1">Renamed to SD-JWT (focus on JWT instead of JWS since signature is optional)<a href="#appendix-C-20.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-20.2">Make Holder Binding optional<a href="#appendix-C-20.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-20.3">Rename proof to release, since when there is no signature, the term "proof" can be misleading<a href="#appendix-C-20.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-20.4">Improved the structure of the description<a href="#appendix-C-20.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-20.5">Described verification steps<a href="#appendix-C-20.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-20.6">All examples generated from python demo implementation<a href="#appendix-C-20.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-C-20.7">Examples for structured objects<a href="#appendix-C-20.7" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-D">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Daniel Fett</span></div>
<div dir="auto" class="left"><span class="org">yes.com</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mail@danielfett.de" class="email">mail@danielfett.de</a>
</div>
<div class="url">
<span>URI:</span>
<a href="https://danielfett.de/" class="url">https://danielfett.de/</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Kristina Yasuda</span></div>
<div dir="auto" class="left"><span class="org">Microsoft</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Kristina.Yasuda@microsoft.com" class="email">Kristina.Yasuda@microsoft.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Brian Campbell</span></div>
<div dir="auto" class="left"><span class="org">Ping Identity</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:bcampbell@pingidentity.com" class="email">bcampbell@pingidentity.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
